var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(R,ra,xa){if(R==Array.prototype||R==Object.prototype)return R;R[ra]=xa.value;return R};
$jscomp.getGlobal=function(R){R=["object"==typeof globalThis&&globalThis,R,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var ra=0;ra<R.length;++ra){var xa=R[ra];if(xa&&xa.Math==Math)return xa}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(R,ra,xa){if(!xa||null!=R){xa=$jscomp.propertyToPolyfillSymbol[ra];if(null==xa)return R[ra];xa=R[xa];return void 0!==xa?xa:R[ra]}};$jscomp.polyfill=function(R,ra,xa,Da){ra&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(R,ra,xa,Da):$jscomp.polyfillUnisolated(R,ra,xa,Da))};
$jscomp.polyfillUnisolated=function(R,ra,xa,Da){xa=$jscomp.global;R=R.split(".");for(Da=0;Da<R.length-1;Da++){var na=R[Da];if(!(na in xa))return;xa=xa[na]}R=R[R.length-1];Da=xa[R];ra=ra(Da);ra!=Da&&null!=ra&&$jscomp.defineProperty(xa,R,{configurable:!0,writable:!0,value:ra})};
$jscomp.polyfillIsolated=function(R,ra,xa,Da){var na=R.split(".");R=1===na.length;Da=na[0];Da=!R&&Da in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var Ga=0;Ga<na.length-1;Ga++){var $a=na[Ga];if(!($a in Da))return;Da=Da[$a]}na=na[na.length-1];xa=$jscomp.IS_SYMBOL_NATIVE&&"es6"===xa?Da[na]:null;ra=ra(xa);null!=ra&&(R?$jscomp.defineProperty($jscomp.polyfills,na,{configurable:!0,writable:!0,value:ra}):ra!==xa&&(void 0===$jscomp.propertyToPolyfillSymbol[na]&&(xa=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[na]=
$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(na):$jscomp.POLYFILL_PREFIX+xa+"$"+na),$jscomp.defineProperty(Da,$jscomp.propertyToPolyfillSymbol[na],{configurable:!0,writable:!0,value:ra})))};
$jscomp.polyfill("String.prototype.replaceAll",function(R){return R?R:function(ra,xa){if(ra instanceof RegExp&&!ra.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return ra instanceof RegExp?this.replace(ra,xa):this.replace(new RegExp(String(ra).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),xa)}},"es_2021","es3");$jscomp.atMethod=function(R){R=Math.trunc(R)||0;0>R&&(R+=this.length);if(!(0>R||R>=this.length))return this[R]};
$jscomp.polyfill("Array.prototype.at",function(R){return R?R:$jscomp.atMethod},"es_next","es5");$jscomp.typedArrayAt=function(R){return R?R:$jscomp.atMethod};$jscomp.polyfill("Int8Array.prototype.at",$jscomp.typedArrayAt,"es_next","es5");$jscomp.polyfill("Uint8Array.prototype.at",$jscomp.typedArrayAt,"es_next","es5");$jscomp.polyfill("Uint8ClampedArray.prototype.at",$jscomp.typedArrayAt,"es_next","es5");$jscomp.polyfill("Int16Array.prototype.at",$jscomp.typedArrayAt,"es_next","es5");
$jscomp.polyfill("Uint16Array.prototype.at",$jscomp.typedArrayAt,"es_next","es5");$jscomp.polyfill("Int32Array.prototype.at",$jscomp.typedArrayAt,"es_next","es5");$jscomp.polyfill("Uint32Array.prototype.at",$jscomp.typedArrayAt,"es_next","es5");$jscomp.polyfill("Float32Array.prototype.at",$jscomp.typedArrayAt,"es_next","es5");$jscomp.polyfill("Float64Array.prototype.at",$jscomp.typedArrayAt,"es_next","es5");
$jscomp.polyfill("String.prototype.at",function(R){return R?R:$jscomp.atMethod},"es_next","es5");
(()=>{var R=(x,z)=>()=>(z||x((z={exports:{}}).exports,z),z.exports),ra=R((x,z)=>{var b={},a=[],e=(f,d)=>{null==b[f]&&(b[f]=[]);b[f].push(d)};z.exports={on:e,on_any:f=>{a.push(f)},emit:(f,d,g)=>{b[d]&&b[d].forEach(c=>c(f,g));a=a.filter(c=>!c(f,d,g))},when:(f,d)=>{d((g,c)=>{e(g,(h,n)=>{f(h)&&c(h,n)})})}}}),xa=R((x,z)=>{var b=ra();z.exports=(a,e,f)=>{let d=a[e];b.emit(a,`before_change/${e}`,{from:d,to:f});b.emit(a,`before_change/${e}/from_${d}`,{});b.emit(a,`before_change/${e}/to_${f}`,{});a[e]=f;b.emit(a,
`changed/${e}`,{from:d,to:f});b.emit(a,`changed/${e}/from_${d}`,{});b.emit(a,`changed/${e}/to_${f}`,{})}}),Da=R((x,z)=>{function b(m){var v;"function"==typeof m?v=m:m?v=e(m):v=Math.random;this.p=a(v);this.perm=new Uint8Array(512);this.permMod12=new Uint8Array(512);for(m=0;512>m;m++)this.perm[m]=this.p[m&255],this.permMod12[m]=this.perm[m]%12}function a(m){var v,w=new Uint8Array(256);for(v=0;256>v;v++)w[v]=v;for(v=0;255>v;v++){var t=v+~~(m()*(256-v)),q=w[v];w[v]=w[t];w[t]=q}return w}function e(m){var v=
0,w=0,t=0,q=1,l=f();return v=l(" "),w=l(" "),t=l(" "),v-=l(m),0>v&&(v+=1),w-=l(m),0>w&&(w+=1),t-=l(m),0>t&&(t+=1),l=null,function(){var r=2091639*v+2.3283064365386963E-10*q;return v=w,w=t,t=r-(q=r|0)}}function f(){var m=4022871197;return function(v){v=v.toString();for(var w=0;w<v.length;w++){m+=v.charCodeAt(w);var t=.02519603282416938*m;m=t>>>0;t-=m;t*=m;m=t>>>0;t-=m;m+=4294967296*t}return 2.3283064365386963E-10*(m>>>0)}}var d=.5*(Math.sqrt(3)-1),g=(3-Math.sqrt(3))/6,c=1/3,h=1/6,n=(Math.sqrt(5)-1)/
4,p=(5-Math.sqrt(5))/20;b.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(m,v){var w=
this.permMod12,t=this.perm,q=this.grad3,l=0,r=0,A=0,y=(m+v)*d,C=Math.floor(m+y),B=Math.floor(v+y),J=(C+B)*g;y=m-(C-J);var F=v-(B-J),I,G;y>F?(I=1,G=0):(I=0,G=1);J=y-I+g;var O=F-G+g;v=y-1+2*g;m=F-1+2*g;C&=255;B&=255;var P=.5-y*y-F*F;0<=P&&(l=3*w[C+t[B]],P*=P,l=P*P*(q[l]*y+q[l+1]*F));y=.5-J*J-O*O;0<=y&&(r=3*w[C+I+t[B+G]],y*=y,r=y*y*(q[r]*J+q[r+1]*O));I=.5-v*v-m*m;0<=I&&(w=3*w[C+1+t[B+1]],I*=I,A=I*I*(q[w]*v+q[w+1]*m));return 70*(l+r+A)},noise3D:function(m,v,w){var t=this.permMod12,q=this.perm,l=this.grad3,
r,A,y=(m+v+w)*c,C=Math.floor(m+y),B=Math.floor(v+y),J=Math.floor(w+y);y=(C+B+J)*h;var F=m-(C-y);var I=v-(B-y),G=w-(J-y),O,P,D,L;F>=I?I>=G?(r=1,O=0,P=0,A=1,D=1,L=0):F>=G?(r=1,O=0,P=0,A=1,D=0,L=1):(r=0,O=0,P=1,A=1,D=0,L=1):I<G?(r=0,O=0,P=1,A=0,D=1,L=1):F<G?(r=0,O=1,P=0,A=0,D=1,L=1):(r=0,O=1,P=0,A=1,D=1,L=0);var M=F-r+h,X=I-O+h,ea=G-P+h;m=F-A+2*h;var V=I-D+2*h,H=G-L+2*h;w=F-1+3*h;v=I-1+3*h;y=G-1+3*h;C&=255;B&=255;J&=255;var ca=.6-F*F-I*I-G*G;if(0>ca)F=0;else{var U=3*t[C+q[B+q[J]]];ca*=ca;F=ca*ca*(l[U]*
F+l[U+1]*I+l[U+2]*G)}I=.6-M*M-X*X-ea*ea;0>I?r=0:(r=3*t[C+r+q[B+O+q[J+P]]],I*=I,r=I*I*(l[r]*M+l[r+1]*X+l[r+2]*ea));O=.6-m*m-V*V-H*H;0>O?A=0:(A=3*t[C+A+q[B+D+q[J+L]]],O*=O,A=O*O*(l[A]*m+l[A+1]*V+l[A+2]*H));D=.6-w*w-v*v-y*y;0>D?l=0:(t=3*t[C+1+q[B+1+q[J+1]]],D*=D,l=D*D*(l[t]*w+l[t+1]*v+l[t+2]*y));return 32*(F+r+A+l)},noise4D:function(m,v,w,t){var q=this.perm,l=this.grad4,r=(m+v+w+t)*n,A=Math.floor(m+r),y=Math.floor(v+r),C=Math.floor(w+r),B=Math.floor(t+r);r=(A+y+C+B)*p;var J=m-(A-r);var F=v-(y-r);var I=
w-(C-r),G=t-(B-r);t=w=r=v=0;J>F?v++:r++;J>I?v++:w++;J>G?v++:t++;F>I?r++:w++;F>G?r++:t++;I>G?w++:t++;var O=3<=v?1:0;var P=3<=r?1:0;var D=3<=w?1:0;var L=3<=t?1:0;var M=2<=v?1:0;var X=2<=r?1:0;var ea=2<=w?1:0;var V=2<=t?1:0;m=1<=v?1:0;var H=1<=r?1:0;var ca=1<=w?1:0;var U=1<=t?1:0;var W=J-O+p,da=F-P+p,fa=I-D+p,ba=G-L+p,S=J-M+2*p,k=F-X+2*p,u=I-ea+2*p,E=G-V+2*p,Q=J-m+3*p,T=F-H+3*p,aa=I-ca+3*p,ia=G-U+3*p;t=J-1+4*p;w=F-1+4*p;r=I-1+4*p;v=G-1+4*p;A&=255;y&=255;C&=255;B&=255;var K=.6-J*J-F*F-I*I-G*G;if(0>K)J=
0;else{var ha=q[A+q[y+q[C+q[B]]]]%32*4;K*=K;J=K*K*(l[ha]*J+l[ha+1]*F+l[ha+2]*I+l[ha+3]*G)}F=.6-W*W-da*da-fa*fa-ba*ba;0>F?F=0:(I=q[A+O+q[y+P+q[C+D+q[B+L]]]]%32*4,F*=F,F=F*F*(l[I]*W+l[I+1]*da+l[I+2]*fa+l[I+3]*ba));I=.6-S*S-k*k-u*u-E*E;0>I?M=0:(M=q[A+M+q[y+X+q[C+ea+q[B+V]]]]%32*4,I*=I,M=I*I*(l[M]*S+l[M+1]*k+l[M+2]*u+l[M+3]*E));X=.6-Q*Q-T*T-aa*aa-ia*ia;0>X?m=0:(m=q[A+m+q[y+H+q[C+ca+q[B+U]]]]%32*4,X*=X,m=X*X*(l[m]*Q+l[m+1]*T+l[m+2]*aa+l[m+3]*ia));H=.6-t*t-w*w-r*r-v*v;0>H?l=0:(q=q[A+1+q[y+1+q[C+1+q[B+1]]]]%
32*4,H*=H,l=H*H*(l[q]*t+l[q+1]*w+l[q+2]*r+l[q+3]*v));return 27*(J+F+M+m+l)}};b._buildPermutationTable=a;z.exports={SimplexNoise:b}}),na=R((x,z)=>{var {SimplexNoise:b}=Da(),a={pixels_to_eye_ray:(k,u,E,Q,T)=>{k=[k[0]/(u[0]/2)-1,-(k[1]/(u[1]/2)-1)];Q=d.multiply_v4(Q,[k[0],k[1],-1,1]);E=d.multiply_v4(E,[Q[0],Q[1],-1,0]);return{origin:T,direction:e.normalize([E[0],E[1],E[2]])}},equal:(k,u)=>void 0===k?!1:k[0]===u[0]&&k[1]===u[1],angle_between:(k,u)=>Math.atan2(u[1]-k[1],u[0]-k[0]),polar:(k,u)=>[Math.cos(k)*
u,Math.sin(k)*u],add:(k,u)=>[k[0]+u[0],k[1]+u[1]],sub:(k,u)=>[k[0]-u[0],k[1]-u[1]],length:k=>Math.sqrt(k[0]*k[0]+k[1]*k[1]),distance:(k,u)=>a.length(a.sub(k,u)),mul:(k,u)=>[k[0]*u[0],k[1]*u[1]],div:(k,u)=>[k[0]/u[0],k[1]/u[1]],add_scalar:(k,u)=>[k[0]+u,k[1]+u],sub_scalar:(k,u)=>[k[0]-u,k[1]-u],mul_scalar:(k,u)=>[k[0]*u,k[1]*u],floor:k=>[Math.floor(k[0]),Math.floor(k[1])],normalize:k=>a.mul_scalar(k,1/a.length(k)),lerp:(k,u,E)=>[(1-E)*k[0]+E*u[0],(1-E)*k[1]+E*u[1]],within_aabb:(k,u,E)=>k[0]>u[0]&&
k[0]<u[0]+E[0]&&k[1]>u[1]&&k[1]<u[1]+E[1],rotate:(k,u)=>{let E=Math.cos(u);u=Math.sin(u);return[k[0]*E-k[1]*u,k[0]*u+k[1]*E]},dot:(k,u)=>k[0]*u[0]+k[1]*u[1],max:(k,u)=>[Math.max(k[0],u[0]),Math.max(k[1],u[1])],xz:k=>[k[0],k[2]]},e={from_xy:k=>[k[0],k[1],0],from_xz:k=>[k[0],0,k[1]],from_yz:k=>[0,k[0],k[1]],cross_product:(k,u)=>[k[1]*u[2]-k[2]*u[1],k[2]*u[0]-k[0]*u[2],k[0]*u[1]-k[1]*u[0]],rotate:(k,u,E)=>{k=[...e.sub(k,u),1];let Q=d.make_identity();d.rotate_x(Q,E[0]);d.rotate_y(Q,E[1]);d.rotate_z(Q,
E[2]);E=d.multiply_v4(Q,k);return e.add(E,u)},dot_product:(k,u)=>k[0]*u[0]+k[1]*u[1]+k[2]*u[2],add:(k,u)=>[k[0]+u[0],k[1]+u[1],k[2]+u[2]],sub:(k,u)=>[k[0]-u[0],k[1]-u[1],k[2]-u[2]],multiply:(k,u)=>[k[0]*u[0],k[1]*u[1],k[2]*u[2]],square:k=>e.multiply(k,k),length:k=>Math.sqrt(k[0]*k[0]+k[1]*k[1]+k[2]*k[2]),mul_scalar:(k,u)=>[k[0]*u,k[1]*u,k[2]*u],div_scalar:(k,u)=>[k[0]/u,k[1]/u,k[2]/u],normalize:k=>e.mul_scalar(k,1/e.length(k)),lerp:(k,u,E)=>[(1-E)*k[0]+E*u[0],(1-E)*k[1]+E*u[1],(1-E)*k[2]+E*u[2]],
distance:(k,u)=>e.length(e.sub(k,u)),inverse:k=>[1/k[0],1/k[1],1/k[2]],equal:(k,u)=>void 0===k?!1:k[0]===u[0]&&k[1]===u[1]&&k[2]===u[2],map:k=>u=>[k(u[0]),k(u[1]),k(u[2])],cos:k=>e.map(Math.cos)(k),angle:(k,u,E)=>{k=e.normalize(e.sub(u,k));return Math.acos(e.dot_product(k,E))},yaw_pitch:(k,u)=>{k=e.sub(u,k);return[Math.atan2(k[0],k[2]),Math.atan2(Math.sqrt(k[0]*k[0]+k[2]*k[2]),k[1])]},noise:(k,u,E,Q)=>[W(k,u,E,Q),W(2*k,u,E,Q),W(3*k,u,E,Q)]},f={mul_scalar:(k,u)=>[k[0]*u,k[1]*u,k[2]*u,k[3]*u],add:(k,
u)=>[k[0]+u[0],k[1]+u[1],k[2]+u[2],k[3]+u[3]],mul:(k,u)=>[k[0]*u[0],k[1]*u[1],k[2]*u[2],k[3]*u[3]],qmul:(k,u)=>[k[3]*u[0]+k[0]*u[3]-k[1]*u[2]+k[2]*u[1],k[3]*u[1]+k[0]*u[2]+k[1]*u[3]-k[2]*u[0],k[3]*u[2]-k[0]*u[1]+k[1]*u[0]+k[2]*u[3],k[3]*u[3]-k[0]*u[0]-k[1]*u[1]-k[2]*u[2]],length:k=>Math.sqrt(k[0]**2+k[1]**2+k[2]**2+k[3]**2),quaternion_to_euler_angles:k=>{let [u,E,Q,T]=k;k=2*(T*E-Q*u);return[Math.atan2(2*(T*u+E*Q),1-2*(u*u+E*E)),1<=Math.abs(k)?Math.PI/2*Math.sign(k):Math.asin(k),Math.atan2(2*(T*Q+
u*E),1-2*(E*E+Q*Q))]},quat_to_rotation_matrix_broken:k=>{let [u,E,Q,T]=k;return[2*(u*u+E*E)-1,2*(E*Q+u*T),2*(E*Q-u*Q),0,2*(E*Q-u*T),2*(u*u+Q*Q)-1,2*(Q*T+u*E),0,2*(E*T+u*Q),2*(Q*T-u*E),2*(u*u+T*T)-1,0,0,0,0,1]},quat_between_v3s:(k,u)=>{var E=Math.sqrt(e.length(k)/e.length(u));k=[...e.normalize(k),0];u=[...e.normalize(u),0];let Q=u.add(u,k);E=u.mul_scalar(u.mul_scalar(u.qmul(k,Q),1/u.length(Q)),E);return u.normalize(E)},normalize:k=>f.mul_scalar(k,1/f.length(k)),sub:(k,u)=>[k[0]-u[0],k[1]-u[1],k[2]-
u[2],k[3]-u[3]],lerp:(k,u,E)=>[(1-E)*k[0]+E*u[0],(1-E)*k[1]+E*u[1],(1-E)*k[2]+E*u[2],(1-E)*k[3]+E*u[3]]},d={make_identity:()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],equal:(k,u)=>{if(void 0===k)return!1;for(let E=0;E<k.length;E++)if(k[E]!==u[E])return!1;return!0},transpose:(k,u)=>{let E=k[1],Q=k[2],T=k[3],aa=k[4],ia=k[5],K=k[6],ha=k[7],Y=k[8],ja=k[9],N=k[10],Z=k[11],ka=k[12],la=k[13],ma=k[14],qa=k[15];u[0]=k[0];u[1]=aa;u[2]=Y;u[3]=ka;u[4]=E;u[5]=ia;u[6]=ja;u[7]=la;u[8]=Q;u[9]=K;u[10]=N;u[11]=ma;u[12]=T;
u[13]=ha;u[14]=Z;u[15]=qa},make_perspective:(k,u,E,Q)=>{k=Math.tan(.5*Math.PI-.5*k);let T=1/(E-Q);return[k/u,0,0,0,0,k,0,0,0,0,(E+Q)*T,-1,0,0,E*Q*T*2,0]},make_haeberli:(k,u,E,Q)=>{var T=k+E;Q[0]+=-.04*E;Q[1]+=-.04*E;Q[2]+=-.04*E;E=d.make_identity();d.scale(E,T,T,k);k=.3086*(1-u);T=.6094*(1-u);let aa=.082*(1-u);return d.multiply(E,[k+u,T,aa,0,k,T+u,aa,0,k,T,aa+u,0,0,0,0,1],E),E[3]+=Q[0],E[7]+=Q[1],E[11]+=Q[2],E},clone:k=>[k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],
k[15]],make_camera_vp_matrices:k=>{let u=k.near||10,E=k.far||5E3,Q=k.aspect;var T=k.position||k.transform.pos,aa=k.look_at;let ia=d.make_perspective(k.fov_degrees*Math.PI/180,Q,u,E);var K=k.roll;k=d.look_at(T,aa,k.up||[0,1,0]);d.rotate_z(k,K);K=d.invert(k);k=d.make_identity();d.multiply(K,ia,k);T=d.invert(K);aa=d.invert(ia);let ha=d.invert(k);return d.scale(ha,1,Q,1),{view:K,iview:T,projection:ia,iprojection:aa,vp:k,ivp:d.invert(k),ui:ha,near:u,far:E}},make_affine_transform:(k,u,E,Q)=>{let T=[1,0,
0,0,0,1,0,0,0,0,1,0,0,0,0,1];k=k||[0,0,0];u=u||[0,0,0];E=E||[1,1,1];return d.translate(T,k[0],k[1],k[2]),d.rotate_x(T,u[0]),d.rotate_y(T,u[1]),d.rotate_z(T,u[2]),d.scale(T,E[0],E[1],E[2]),null!=Q&&d.multiply(T,Q,T),T},translate:(k,u,E,Q)=>{k[12]+=k[0]*u+k[4]*E+k[8]*Q;k[13]+=k[1]*u+k[5]*E+k[9]*Q;k[14]+=k[2]*u+k[6]*E+k[10]*Q;k[15]+=k[3]*u+k[7]*E+k[11]*Q},scale:(k,u,E,Q)=>{k[0]*=u;k[4]*=E;k[8]*=Q;k[1]*=u;k[5]*=E;k[9]*=Q;k[2]*=u;k[6]*=E;k[10]*=Q;k[3]*=u;k[7]*=E;k[11]*=Q},rotate_x:(k,u)=>{let E=Math.cos(u);
u=Math.sin(u);let Q=k[4],T=k[5],aa=k[6],ia=k[7],K=k[8],ha=k[9],Y=k[10],ja=k[11];k[4]=Q*E+K*u;k[5]=T*E+ha*u;k[6]=aa*E+Y*u;k[7]=ia*E+ja*u;k[8]=Q*-u+K*E;k[9]=T*-u+ha*E;k[10]=aa*-u+Y*E;k[11]=ia*-u+ja*E},rotate_y:(k,u)=>{let E=Math.cos(u);u=Math.sin(u);let Q=k[0],T=k[1],aa=k[2],ia=k[3],K=k[8],ha=k[9],Y=k[10],ja=k[11];k[0]=Q*E+K*-u;k[1]=T*E+ha*-u;k[2]=aa*E+Y*-u;k[3]=ia*E+ja*-u;k[8]=Q*u+K*E;k[9]=T*u+ha*E;k[10]=aa*u+Y*E;k[11]=ia*u+ja*E},rotate_z:(k,u)=>{let E=Math.cos(u);u=Math.sin(u);let Q=k[0],T=k[1],aa=
k[2],ia=k[3],K=k[4],ha=k[5],Y=k[6],ja=k[7];k[0]=Q*E+K*u;k[1]=T*E+ha*u;k[2]=aa*E+Y*u;k[3]=ia*E+ja*u;k[4]=Q*-u+K*E;k[5]=T*-u+ha*E;k[6]=aa*-u+Y*E;k[7]=ia*-u+ja*E},rotated_z:(k,u)=>{k=d.clone(k);return d.rotate_z(k,u),k},multiply_v4:(k,u)=>{let E=u[0],Q=u[1],T=u[2];u=u[3];return[E*k[0]+Q*k[4]+T*k[8]+u*k[12],E*k[1]+Q*k[5]+T*k[9]+u*k[13],E*k[2]+Q*k[6]+T*k[10]+u*k[14],E*k[3]+Q*k[7]+T*k[11]+u*k[15]]},multiply:(k,u,E)=>{let Q=k[0],T=k[4],aa=k[8],ia=k[12],K=k[1],ha=k[5],Y=k[9],ja=k[13],N=k[2],Z=k[6],ka=k[10],
la=k[14],ma=k[3],qa=k[7],ta=k[11];k=k[15];var ua=u[0],oa=u[4],pa=u[8],va=u[12];E[0]=Q*ua+K*oa+N*pa+ma*va;E[4]=T*ua+ha*oa+Z*pa+qa*va;E[8]=aa*ua+Y*oa+ka*pa+ta*va;E[12]=ia*ua+ja*oa+la*pa+k*va;ua=u[1];oa=u[5];pa=u[9];va=u[13];E[1]=Q*ua+K*oa+N*pa+ma*va;E[5]=T*ua+ha*oa+Z*pa+qa*va;E[9]=aa*ua+Y*oa+ka*pa+ta*va;E[13]=ia*ua+ja*oa+la*pa+k*va;ua=u[2];oa=u[6];pa=u[10];va=u[14];E[2]=Q*ua+K*oa+N*pa+ma*va;E[6]=T*ua+ha*oa+Z*pa+qa*va;E[10]=aa*ua+Y*oa+ka*pa+ta*va;E[14]=ia*ua+ja*oa+la*pa+k*va;ua=u[3];oa=u[7];pa=u[11];
u=u[15];E[3]=Q*ua+K*oa+N*pa+ma*u;E[7]=T*ua+ha*oa+Z*pa+qa*u;E[11]=aa*ua+Y*oa+ka*pa+ta*u;E[15]=ia*ua+ja*oa+la*pa+k*u},look_at:(k,u,E)=>{u=e.normalize(e.sub(k,u));E=e.normalize(e.cross_product(E,u));let Q=e.normalize(e.cross_product(u,E));return[E[0],E[1],E[2],0,Q[0],Q[1],Q[2],0,u[0],u[1],u[2],0,k[0],k[1],k[2],1]},invert:k=>{let u=k[0];var E=k[1];let Q=k[2],T=k[3],aa=k[4];var ia=k[5];let K=k[6],ha=k[7],Y=k[8],ja=k[9],N=k[10],Z=k[11],ka=k[12];var la=k[13];let ma=k[14];k=k[15];let qa=N*k,ta=ma*Z,ua=K*
k,oa=ma*ha,pa=K*Z,va=N*ha,za=Q*k,Ja=ma*T,Sa=Q*Z,Qa=N*T,Ea=Q*ha,Aa=K*T,La=Y*la,Ua=ka*ja,Va=aa*la,ya=ka*ia,ib=aa*ja,Ca=Y*ia,Ra=u*la,jb=ka*E,kb=u*ja,lb=Y*E,mb=u*ia,xb=aa*E,Wb=qa*ia+oa*ja+pa*la-(ta*ia+ua*ja+va*la),Xb=ta*E+za*ja+Qa*la-(qa*E+Ja*ja+Sa*la);la=ua*E+Ja*ia+Ea*la-(oa*E+za*ia+Aa*la);E=va*E+Sa*ia+Aa*ja-(pa*E+Qa*ia+Ea*ja);ia=1/(u*Wb+aa*Xb+Y*la+ka*E);return[ia*Wb,ia*Xb,ia*la,ia*E,ia*(ta*aa+ua*Y+va*ka-(qa*aa+oa*Y+pa*ka)),ia*(qa*u+Ja*Y+Sa*ka-(ta*u+za*Y+Qa*ka)),ia*(oa*u+za*aa+Aa*ka-(ua*u+Ja*aa+Ea*ka)),
ia*(pa*u+Qa*aa+Ea*Y-(va*u+Sa*aa+Aa*Y)),ia*(La*ha+ya*Z+ib*k-(Ua*ha+Va*Z+Ca*k)),ia*(Ua*T+Ra*Z+lb*k-(La*T+jb*Z+kb*k)),ia*(Va*T+jb*ha+mb*k-(ya*T+Ra*ha+xb*k)),ia*(Ca*T+kb*ha+xb*Z-(ib*T+lb*ha+mb*Z)),ia*(Va*N+Ca*ma+Ua*K-(ib*ma+La*K+ya*N)),ia*(kb*ma+La*Q+jb*N-(Ra*N+lb*ma+Ua*Q)),ia*(Ra*K+xb*ma+ya*Q-(mb*ma+Va*Q+jb*K)),ia*(mb*N+ib*Q+lb*K-(kb*K+xb*N+Ca*Q))]}},g={plane_intersection:(k,u)=>{let E=e.dot_product(u.normal,k.direction);return 1E-4<Math.abs(E)&&(u=e.dot_product(e.sub(u.center,k.origin),u.normal)/E,
0<=u)?[!0,e.add(k.origin,e.mul_scalar(k.direction,u))]:[!1,[0,0,0]]},project_on_z:(k,u)=>{let E=k.origin;k=k.direction;u=(u-E[2])/k[2];return[E[0]+k[0]*u,E[1]+k[1]*u,E[2]+k[2]*u]},intersects_triangle:(k,u)=>{var E=k.origin;k=k.direction;let [Q,T,aa]=u;u=e.sub(T,Q);var ia=e.sub(aa,Q);u=e.cross_product(u,ia);ia=e.dot_product(u,k);if(1E-4>Math.abs(ia))return!1;let K=e.dot_product(u,Q);ia=(e.dot_product(u,E)+K)/ia;if(0>ia)return!1;E=e.add(E,e.mul_scalar(k,ia));k=e.sub(T,Q);ia=e.sub(E,Q);k=e.cross_product(k,
ia);if(0>e.dot_product(u,k))return!1;k=e.sub(aa,T);ia=e.sub(E,T);k=e.cross_product(k,ia);if(0>e.dot_product(u,k))return!1;k=e.sub(Q,aa);ia=e.sub(E,aa);k=e.cross_product(k,ia);return 0>e.dot_product(u,k)?!1:E},intersects_quad:(k,u)=>{k=g.intersects_triangle(k,[u[0],u[1],u[2]])||g.intersects_triangle(k,[u[0],u[2],u[3]]);if(!k)return!1;let E=Math.min(u[0][0],u[1][0],u[2][0],u[3][0]),Q=Math.min(u[0][1],u[1][1],u[2][1],u[3][1]),T=Math.min(u[0][2],u[1][2],u[2][2],u[3][2]);return[(k[0]-E)/(Math.max(u[0][0],
u[1][0],u[2][0],u[3][0])-E),(k[1]-Q)/(Math.max(u[0][1],u[1][1],u[2][1],u[3][1])-Q),(k[2]-T)/(Math.max(u[0][2],u[1][2],u[2][2],u[3][2])-T)]},intersects_aabb:(k,u)=>{let E=k.origin,Q=e.inverse(k.direction);var T=(u.min[0]-E[0])*Q[0],aa=(u.max[0]-E[0])*Q[0];k=Math.min(T,aa);T=Math.max(T,aa);aa=(u.min[1]-E[1])*Q[1];let ia=(u.max[1]-E[1])*Q[1];k=Math.max(k,Math.min(aa,ia));T=Math.min(T,Math.max(aa,ia));aa=(u.min[2]-E[2])*Q[2];u=(u.max[2]-E[2])*Q[2];return k=Math.max(k,Math.min(aa,u)),T=Math.min(T,Math.max(aa,
u)),T>=k}},c={aabb:k=>{let u=k[0],E=k[0],Q=k[1],T=k[1];for(var aa=0;aa<k.length-1;aa+=2)u=Math.min(k[aa],u),E=Math.max(k[aa],E),Q=Math.min(k[aa+1],Q),T=Math.max(k[aa+1],T);return{min_x:u,min_y:Q,max_x:E,max_y:T}},contains_v2:(k,u)=>{var E=c.aabb(k);let Q=u[0];u=u[1];if(Q<E.min_x||Q>E.max_x||u<E.min_y||u>E.max_y)return!1;E=!1;for(let aa=0;aa<k.length;aa+=2){var T=(aa+2)%k.length;let ia=k[aa],K=k[aa+1],ha=k[T];T=k[T+1];T>u!=K>u&&Q<(ia-ha)*(u-T)/(K-T)+ha&&(E=!E)}return E},circle_collision:(k,u,E,Q)=>
{for(let K=0;K<k.length;K+=2){var T=k[K],aa=k[(K+1)%k.length];let ha=k[(K+2)%k.length];var ia=k[(K+3)%k.length];let Y=T-ha,ja=aa-ia,N=aa*ha-T*ia,Z=Y*u+ja*E,ka=Z*ja-N*Y,la=1/(Y*Y+ja*ja);T=S(Math.min(T,ha),Math.max(T,ha),(Z*Y+N*ja)*la);ia=S(Math.min(aa,ia),Math.max(aa,ia),ka*la);aa=a.distance([T,ia],[u,E]);ia=[(u-T)/aa,(E-ia)/aa];aa=Math.max(0,Q-aa);if(0<aa)return{normal:ia,overlap:aa}}return c.contains_v2(k,[u,E])}},h={polyline_tiles:k=>{let u=[];for(let E=0;E<k.length-1;E++)u.push([k[E],k[E+1]]);
k=u.map(E=>h.line_segment_tiles(E[0],E[1])).flat().reduce((E,Q)=>(E[Q[0]+","+Q[1]]=Q,E),{});return Object.values(k)},line_segment_tiles:(k,u)=>{let E=[];var Q=a.sub(u,k),T=a.floor(k),aa=a.floor(u);let ia=[Math.sign(Q[0]),Math.sign(Q[1])];Q=Math.atan2(-Q[1],Q[0]);Q=[Math.cos(Q),Math.sin(Q)];k=a.div([u[0]>k[0]?Math.ceil(k[0])-k[0]:k[0]-Math.floor(k[0]),u[1]>k[1]?Math.ceil(k[1])-k[1]:k[1]-Math.floor(k[1])],Q);u=a.div([1,1],Q);aa=Math.abs(aa[0]-T[0])+Math.abs(aa[1]-T[1]);Q=T[0];T=T[1];for(let K=0;K<aa;K++)E.push([Q,
T]),Math.abs(k[0])<Math.abs(k[1])?(k[0]+=u[0],Q+=ia[0]):(k[1]+=u[1],T+=ia[1]);return E}},n=k=>u=>Math.pow(u,k),p=k=>u=>1-Math.abs(Math.pow(u-1,k)),m=(k,u)=>E=>.5>E?k(2*E)/2:u(2*E-1)/2+.5;x=n(2);var v=p(2),w=m(x,v),t=n(3),q=p(3),l=m(t,q);n=n(4);p=p(4);var r=m(n,p),A=k=>-(Math.sqrt(1-k*k)-1),y=k=>Math.sqrt(1-(k-1)*(k-1)),C=m(A,y),B=k=>Math.pow(2,10*(k-1))-.001,J=k=>1-Math.pow(2,-10*k),F=m(B,J),I=k=>k*k*((1.70185+1)*k-1.70185),G=k=>(k-1)*(k-1)*((1.70185+1)*(k-1)+1.70185)+1,O=m(I,G),P=k=>{var u,E=.1;
return 0===k?0:1===k?1:(!E||1>E?(E=1,u=.1):u=.4*Math.asin(1/E)/Math.PI*2,-(E*Math.pow(2,10*--k)*Math.sin((k-u)*Math.PI*2/.4)))},D=k=>{var u,E=.1;return 0===k?0:1===k?1:(!E||1>E?(E=1,u=.1):u=.4*Math.asin(1/E)/Math.PI*2,E*Math.pow(2,-10*k)*Math.sin((k-u)*Math.PI*2/.4)+1)},L=m(P,D),M=k=>k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-1.5/2.75)*(k-1.5/2.75)+.75:k<2.5/2.75?7.5625*(k-2.25/2.75)*(k-2.25/2.75)+.9375:7.5625*(k-2.625/2.75)*(k-2.625/2.75)+.984375,X=k=>1-M(1-k);m=m(X,M);var ea={linear:k=>k,triangle:k=>
2*Math.abs(k-.5),i2:x,o2:v,io2:w,i3:t,o3:q,io3:l,i4:n,o4:p,io4:r,circular_i:A,circular_o:y,circular_io:C,exp_i:B,exp_o:J,exp_io:F,back_i:I,back_o:G,back_io:O,elastic_i:P,elastic_o:D,elastic_io:L,bounce_i:X,bounce_o:M,bounce_io:m,inv:k=>u=>k(1-u),hold:k=>u=>k,seq:k=>u=>{let E=0;for(let Q=0;Q<k.length;Q++){let T=k[Q];if(u<E||u>=T.len+E)E+=T.len;else return T.fn((u-E)/T.len)}return k[k.length-1].fn(1)},range:(k,u,E)=>Q=>E(Q)*(u-k)+k,domain:(k,u,E)=>null===k||E<k?0:E>u?1:Math.min(1,Math.max(0,(E-k)/(u-
k))),domainf:(k,u,E)=>Q=>ea.domain(k,u,E(Q)),flicker:k=>1<k?0:0>k?1:k,flickerf:k=>u=>ea.flicker(k(u)),blend:(k,u)=>E=>k(E)+u(E)/2},V=k=>{let u=k;return()=>{let E=u+=1831565813;return E=Math.imul(E^E>>>15,E|1),E^=E+Math.imul(E^E>>>7,E|61),((E^E>>>14)>>>0)/4294967296}},H={},ca=k=>(void 0===H[k]&&(H[k]=new b(V(k))),H[k]),U=(k,u,E)=>{let Q=0,T=1,aa=1,ia=0;for(let K=0;K<k;K++)Q+=E(T)*aa,ia+=aa,T*=2,aa*=u;return Q/ia},W=(k,u,E,Q)=>U(u,E,T=>ca(k).noise2D(Q*T,0)/2+.5),da=(k,u)=>{if(0==u.length)return null;
let E=u.map(aa=>aa[0]).reduce((aa,ia)=>aa+ia,0),Q=u.map(aa=>[aa[0]/E,aa[1]]);k=V(k)();let T=0;for(let aa=0;aa<Q.length;aa++){let ia=Q[aa];if(k<ia[0]+T)return ia[1];T+=ia[0]}return console.log("array_weighted_sample didn't pick an entry"),u[0][1]},fa=(k,u,E)=>{for(let Q=0;Q<E.length;Q++){let [,T,aa]=E[Q];if(!(u.length<T||u.slice(-T).includes(aa)))return aa}return da(k,E.map(Q=>[Q[0],Q[2]]))},ba=(k,u)=>{k=V(k);u=[...u];for(let E=u.length-1;0<E;E--){let Q=Math.floor(k()*E),T=u[E];u[E]=u[Q];u[Q]=T}return u};
v=k=>(u,E,Q)=>(k(u)+1)*((Q-E)/2)+E;x=v(Math.sin);v=v(Math.cos);var S=(k,u,E)=>Math.max(k,Math.min(u,E));z.exports={math:{quantize:(k,u)=>Math.floor(k/u)*u,mod:(k,u)=>(k%u+u)%u,clamp:S,lerp:(k,u,E)=>(1-E)*k+E*u,unlerp:(k,u,E)=>(E-k)/(u-k),range:(k,u)=>{let E=[];for(;k<u;k++)E.push(k);return E},range_2d:(k,u)=>{let E=[];for(let Q=k[0];Q<k[1];Q++)for(let T=u[0];T<u[1];T++)E.push([Q,T]);return E},range_2d_map:(k,u,E)=>{let Q=[];for(let T=k[0];T<k[1];T++)for(let aa=u[0];aa<u[1];aa++)Q.push(E([T,aa]));
return Q},range_2d_reduce:(k,u,E,Q)=>{for(let T=k[0];T<k[1];T++)for(let aa=u[0];aa<u[1];aa++)Q=E(Q,[T,aa]);return Q},ranged_sin:x,ranged_cos:v,seeded_rand:V,max_by:(k,u)=>k.reduce((E,Q)=>{let T=u(Q);return T>E.max&&(E.max=T,E.v=Q),E},{max:-1/0,v:k[0]}).v,min_by:(k,u)=>k.reduce((E,Q)=>{let T=u(Q);return T<E.min&&(E.min=T,E.v=Q),E},{min:1/0,v:k[0]}).v,array_shuffle:ba,array_sample:(k,u)=>{k=V(k)();return u[Math.floor(k*u.length)]},array_sample_n:(k,u,E)=>ba(k,u).slice(0,E),array_weighted_sample:da,
array_weighted_sample_n:(k,u,E)=>{let Q=[];for(let T=0;T<E;T++){let aa=da(k+T,u);null!=aa&&!Q.includes(aa)&&Q.push(aa);u=u.filter(ia=>ia[1]!=aa)}return Q},array_weighted_pity_sample:fa,array_weighted_capped_pity_sample:(k,u,E)=>{let Q=u.reduce((T,aa)=>(T[aa]=(T[aa]||0)+1,T),{});E=E.filter(T=>!Q[T[3]]||Q[T[3]]<T[2]);return fa(k,u,E.map(T=>[T[0],T[1],T[3]]))},array_pairs:k=>{let u=[];for(let E=0;E<k.length-1;E++)u.push([k[E],k[E+1]]);return u},noise:W,noise2d:(k,u,E,Q,T)=>U(u,E,aa=>ca(k).noise2D(Q*
aa,T*aa)/2+.5),noise3d:(k,u,E,Q,T,aa)=>U(u,E,ia=>ca(k).noise3D(Q*ia,T*ia,aa*ia)/2+.5),noise4d:(k,u,E,Q,T,aa,ia)=>U(u,E,K=>ca(k).noise4D(Q*K,T*K,aa*K,ia*K)/2+.5),ease:ea,v2:a,v3:e,v4:f,m4:d,aabb:{from_points:k=>{let u=1/0,E=1/0,Q=1/0,T=-1/0,aa=-1/0,ia=-1/0;for(let K=0;K<k.length;K++){let ha=k[K];u=Math.min(ha[0],u);E=Math.min(ha[1],E);Q=Math.min(ha[2],Q);T=Math.max(ha[0],T);aa=Math.max(ha[1],aa);ia=Math.max(ha[2],ia)}return[[u,E,Q],[T,aa,ia]]},contains_v3:(k,u)=>u[0]>k[0][0]&&u[0]<k[1][0]&&u[1]>k[0][1]&&
u[1]<k[1][1]&&u[2]>k[0][2]&&u[2]<k[1][2]},ray3d:g,line3d:{nearest_point:(k,u)=>{let E=k[0];k=k[1];u=e.sub(u,E);k=e.sub(k,E);u=Math.max(0,Math.min(1,(u[0]*k[0]+u[1]*k[1])/(k[0]*k[0]+k[1]*k[1])));return[E[0]+k[0]*u,E[1]+k[1]*u,E[2]+k[2]*u]},intersects_triangle:(k,u)=>{var E=(ha,Y,ja,N)=>Math.sign(e.dot_product(e.cross_product(e.sub(Y,ha),e.sub(ja,ha)),e.sub(N,ha)));let Q=k[0];k=k[1];let T=u[0];var aa=u[1];u=u[2];var ia=E(Q,T,aa,u);let K=E(k,T,aa,u);if(ia==K)return!1;ia=E(Q,k,T,aa);aa=E(Q,k,aa,u);E=
E(Q,k,u,T);return ia==aa&&aa==E}},poly2d:c,rgb2hsl:(k,u,E)=>{let Q=Math.max(k,u,E),T=Q-Math.min(k,u,E),aa=1-Math.abs(Q+Q-T-1);k=T&&(Q==k?(u-E)/T:Q==u?2+(E-k)/T:4+(k-u)/T);return[60*(0>k?k+6:k),aa?T/aa:0,(Q+Q-T)/2]},hsl2rgb:(k,u,E)=>{let Q=u*Math.min(E,1-E);u=(T,aa=(T+k/30)%12)=>E-Q*Math.max(Math.min(aa-3,9-aa,1),-1);return[u(0),u(8),u(4)]},overlaps_quad:(k,u,E,Q,T)=>{k=a.pixels_to_eye_ray(k,u,E,Q);return g.intersects_quad(k,T)},cmd_to_quad:k=>[[0,0,0,1],[1,0,0,1],[1,1,0,1],[0,1,0,1]].map(u=>{u=f.sub(u,
[k.origin[0],k.origin[1],0,0]);return d.multiply_v4(k.transform,u)}),polar_to_cart:([k,u])=>[Math.cos(k)*u,Math.sin(k)*u],cart_to_polar:([k,u])=>[Math.atan2(u,k),Math.sqrt(k*k+u*u)],cosine_gradient:(k,u)=>{let E=k[0];var Q=k[1],T=k[3];k=e.mul_scalar(k[2],u);T=e.add(k,T);T=e.mul_scalar(T,2*Math.PI);T=e.cos(T);Q=e.multiply(Q,T);return e.add(E,Q)},between:(k,u,E)=>k>u&&k<E,degrees_to_rads:k=>k*Math.PI/180,geom:h,roll_dice:({seed:k,dice:u})=>{let E=V(k);return u.map(Q=>Math.ceil(E()*Q)).reduce((Q,T)=>
Q+T,0)},ticks_to_timestamp:({ticks:k,ticks_per_sec:u})=>{k/=u;return`${Math.floor(k/60)}:${(k%60).toFixed(3).padStart(6,"0")}`},std_dev:k=>{let u=k.reduce((Q,T)=>Q+T,0)/k.length,E=k.map(Q=>Math.pow(Q-u,2));return Math.sqrt(E.reduce((Q,T)=>Q+T,0)/(k.length-1))},moving_avg:(k,u)=>{let E=[];for(let Q=0;Q<k.length-u;Q++){let T=0;for(let aa=0;aa<u;aa++)T+=k[Q+aa];E.push(T/u)}return E},approach:(k,u,E)=>k-k*Math.pow(u,E)}}}),Ga=R((x,z)=>{var {math:b}=na(),a=c=>JSON.parse(c.replace(/\(/g,"[").replace(/\)/g,
"]").replace(/ /g,", ").replace(/([a-z][a-z._0-9\/]*)/gi,'"$1"')),e=(c,h,n,p)=>{if(!Array.isArray(p))return p;let [m,...v]=p;return c[m](h,n)(...v.map(w=>e(c,h,n,w)))},f=(c,h)=>h.get&&h.set?h:"string"==typeof h?d(c,h):{get:()=>h,set:()=>{throw Error(`automation tried to assign to literal ${h}`);}},d=(c,h)=>h.get&&h.set?h:{get:()=>c[h],set:n=>c[h]=n},g={wait:()=>()=>{},set:c=>(h,n)=>{"true"==n&&(n=!0);"false"==n&&(n=!1);f(c,h).set(n)},set_field:c=>(h,n,p)=>{"true"==p&&(p=!0);"false"==p&&(p=!1);c[h][n]=
f(c,p).get()},get:c=>h=>d(c,h).get(),change:c=>(h,n)=>{h=f(c,h);h.set(h.get()+n)},lerp:(c,h)=>(n,p,m)=>{n=f(c,n);n.set(b.lerp(p,m,h));1==h&&n.set(m)},wait_until:()=>()=>{}};z.exports={queue:(c,h,n)=>{c.queue.push({steps:h.map((p,m)=>({len:p[0],code:p[1],start:h.slice(0,m).reduce((v,[w])=>v+w,0)})),lifetime:h.reduce((p,[m])=>p+m,0),start_time:c.ticks,name:n})},tick:(c,h)=>{let n=c.ticks;c.queue=c.queue.filter(p=>n-p.start_time<=p.lifetime);c.queue.forEach(({steps:p,start_time:m},v)=>{p.forEach(({len:w,
code:t,start:q},l)=>{let r=n-m;if(!(r<q||r>q+w)){if(t.includes("wait_until")){let A=a(t)[1];if(!h[A])for(c.queue[v].lifetime+=1,p[l].len+=1,l+=1;l<p.length;l++)p[l].start+=1}w=(r-q)/w;try{let A=a(t);e(g,h,w,A)}catch(A){console.error("failed to parse",t,A)}}})});c.ticks+=1},init:()=>({ticks:0,queue:[]}),register:(c,h)=>{g[c]=h},remove:(c,h)=>{c.queue=c.queue.filter(n=>n.name!=h)}}}),$a=R((x,z)=>{var b={},a=(f,d,g)=>c=>Array.isArray(c)&&"string"==typeof c[0]?b[c[0]](...c.slice(1))(f,a(f,d,g),g):c,e=
(f,d)=>{f.programs=f.programs.filter(g=>0<g.context.subvm.programs.length||g.context.counter<g.code.length);f.programs.forEach(g=>{let c=g.context;if(!(c.sleep||(e(c.subvm,d),0<c.subvm.programs.length))){var h=a(d,f,c);do h(g.code[c.counter],h,c),0<c.optime?--c.optime:(c.optime=-1,c.counter+=1);while(-1==c.optime&&!c.sleep&&c.counter<g.code.length&&0==c.subvm.programs.length)}})};z.exports={init:()=>({programs:[]}),define:(f,d)=>{b[f]=d},run:(f,d)=>{f.programs.push({code:d,context:{counter:0,sleep:!1,
optime:-1,subvm:{programs:[]}}})},tick:e}}),xc=R((x,z)=>{z.exports="NETBOOT CHECKSUM FAILED: RESET SCHEDULED\n\n                                                 ,. ,  . .,.\n  ..     . ,   ,    ,.   . ,    .,. . ,.,   .  , . ,   . . .\n\nauthorized-user   ggbaby@monstro.wa\ndetected-user     genome-jesus@monstro.wa\n\nfailed chksums\n  58b46db6-2264-4882-8cd2-730fa736f1a9 x014\n  f99fcdf1-b08a-4fcc-91fe-9d8e4c961648 0xa2\n  ef6b4e15-c9e3-432f-93cd-7f0364c904ae 0x0d\n  fc0f40c8-3a6c-48b2-8849-7b83f7310dc5 0xfe\n\n  ..     . ,   ,    ,.   . ,    .,. . ,.,   .  , . ,   . . .\n .., , . ,,   ,   .\n\nHOOPLA IS MANIFEST\nRESTABLISHING CHAIN OF BEING...\n"}),
yc=R((x,z)=>{z.exports="<b>|\n+---- preamble BEGIN schema NTN2.1/0\n| registration_txn     41c94ba6-ffba\n| notice_policy        RX_CRITICAL\n| continuity           from_chksum_fail\n+---- preamble END\n\n+---- agent prompt BEGIN\n|\n|</b>  Congratulations <i>genome-jesus@monstro.wa</i>!\n\nToday begins your escape from the worries of tomorrow! You join a family of over <i>9,112,042,781</i> registered miners thriving as legally recognized dependents of DATA CO.\n\nThe rights conferred to DATA CO miners are among the least alienable on Earth, as reported by world-famous lifestyle influencer <i>Presley Domingo (@purlywips, 3.9B followers)</i> and hit reality podcast <i>Tad Puncher's Rumble Roadhouse</i>.\n\nThese beautiful rights, and the support of our elite Human Advocacy Bureau, are provided at minimal expense to the <i>top 10% of all miners worldwide</i>. Prepare to earn your way to the top.\n\n<b>|</b>  A personal agent will reach out shortly with further instructions.\n<b>|\n+--- agent prompt END\n|\n|</b>\n"}),
zc=R((x,z)=>{z.exports="<b>|\n+---- preamble BEGIN schema NTN2.1/0\n| registration_txn     41c94ba6-ffba\n| notice_policy        RX_CRITICAL\n| expiry               out-of-compliance\n+---- preamble END\n\n+---- agent prompt BEGIN\n|\n|</b>  Hi <i>genome-jesus@monstro.wa</i>,\n\nWelcome aboard, your DATAMINER is now cleared for provisional tasks. We'll need to <i>verify your connection to the network</i> before you can service client requests.\n\nA diagnostic server has been added to your bookmarks: <a>[[conn13.data.co]]</a>\n\n- Connect to the server\n- Follow the calibration procedure\n- Await confirmation from our network analysts\n\n<b>|</b> Good luck out there.\n<b>|\n+---- agent prompt END\n|\n|</b>\n"}),
Ac=R((x,z)=>{z.exports='task:scan.worker/17    call:heap.alloc.direct >> assign.frame\n\nflags.active: alloc=/  free=X  orphan=/  stale=/  guard=/\nexpected.mask: 00011011\nobserved.mask: 00111011   <- mismatch (extra bit: dirty)\n\npath: heap.alloc > frame.build > thread.exec\nnote: mask validator ignored stale=1 when dirty=0\n\naction: allocator locked, page.state="dirty-pending"\n'}),Bc=R((x,z)=>{z.exports="join.chain: hydrate.frame > resolve.refs > map.slot[4] > lookup.null > HALT\nexpected: table/21.index[4] = bind(object/56A9) @ A1936\nactual:   table/21.index[4] = orphan(NULL) since A1938\n\ncheckpoints:\n  A1936: bind OK\n  A1937: link shadowed\n  A1938: orphan marked\n  A1943: lookup fails\n\nref.status: orphan=/  hash.stable=/  rollback=X\nresult: frame A1943 dropped, orphan.pool updated, retry.defer=3\n"}),
Cc=R((x,z)=>{z.exports="symptom: frame A428 replayed as A430 (same id, same hash, window.index=29)\nhash: CRC32=94EACD90  prev=94EACD90  delta.size=exact  replay.window.miss=X\n\ndetectors: passive.check=/  active.alert=X  anchor.diff=0\nduplicate.deltas: 2 (A428, A430)  orphan.ref: table/13.slot/6 > object/7CFA\n\ntrigger: auto.commit invoked before apply.join resolved\nchain.path: apply.frame > join.map > commit.pass > push.log\n\naction: batch A430 dropped, cooldown enabled, orphan.pool.frozen (2s)\n"}),
Dc=R((x,z)=>{z.exports="SYNC.RESYNC.RACE   channel:delta/5E   peer:arc/08   tick=147339.88\n\ntimeline:\n  tick-3: recv[A924]  > ack[/]\n  tick-2: recv[A925]  > resend[A924] <- delayed ack\n  tick-1: recv[A926]  > reject[A925] <- hash mismatch\n  tick:   resend[A925]  > peer still at A924\n\npeer.state: drift=2A  queue.len=3  checksum.stable=/\nlocal.state: resend.flag=/  ack.queue=stalled\n\nevent.collision: resend(A925) collided with re-ack(A924)\nlink.flags: sync=/ resend=/ isolate=X delay=/\n\nverdict: peer.arc/08 marked unstable, quorum stall for 8 ticks\n"}),
Ec=R((x,z)=>{z.exports="+--------------------+       +---------------------+\n| seg-79 (active)    |  ==>  | seg-7A (requesting) |\n| start: 0x00421000  |       | start: 0x004213F0   |\n| size:  1024 bytes  |       | size:  896 bytes    |\n+--------------------+       +---------------------+\n  overlap: 0x004213F0 \u2192 0x00421400 (16 bytes)\n  state: seg-79: dirty, seg-7A: orphan (?)\n  request by: task/vm/copy#19 (heap.clone)\n  page.flag = write+map+guard\n>> resolution: seg-7A denied, task quarantined\n"}),
Fc=R((x,z)=>{z.exports="stream: delta/0xB1 > applying frame[A78]\n> join error @ index 14:\n  +-- expected: link.table/0x1D \u2192 entity/024B\n  +-- actual:   entity/024B = NULL (revoked)\n\ntrace:\n   [1] task/vm/framesync/stream::apply_frame\n   [2] task/vm/framesync/frame::bind_refs\n   [3] task/vm/framesync/model::link_projection\n       +- map_field[slot=13] \u2192 entity/024B [FAILED]\n          |\n          +-- metadata:\n              hash mismatch (expected=4AF001, got=4AF000)\n              rollback_flag = false\n              chain_hollow = true\n-------------------------------------------------------\nresolution:\n   -> model::link_projection frame dropped\n   -> model::link_projection table 0x1D marked stale\n   -> downstream lag = +3A\n"}),
Gc=R((x,z)=>{z.exports=":: sync.apply_frame(b=55D7B1, delta_count=83)\n--------------------------------------------------------------------------------\nerror: invalid join on diff[78]: entity:object/3A71 (revoked) <-> slot:map/null\ncontext:\n  object.index=6A3C (status: shadowed, parent:entity/ROOT, hash=BAD0ED12)\n  expected: binding to projection/table/4C (state=claimed)\n  actual: orphan, delta origin: archive::rollback/skip\ncall stack:\n  - sync::apply_frame > chain::commit_batch\n  - model::hydrate > model::link_field\n  - ledger::reconcile(rollback_policy=fastdrop)\nbatch info:\n  deltas: total=83, invalid=1, skipped=6, merged=2\n  join_map: {4C->3A71=X, 4C->3A72=/, 0->3A73=/}\nsnapshot hash: expected=3b20fa1b actual=3b20f91b\naction: batch dropped, index flagged stale, downstream sync locked (cooldown=60s)\n"}),
Hc=R((x,z)=>{z.exports="stack_trap@render.path.overlay::0x7C3F1D\n----\n! stack depth overflow (max=64, observed=67) during composite > finalize > replay\n> render::apply_chain +0x7C  :: src/render/path.ws::L341\n> render::finalize_pass +0x1A :: L318 (mask=0x7F->discarded=0x1E)\n> render::replay +0x22        :: L101 :: pass::[delta, composite, flatten, null]\n- dirty span = [F3B0..F3C2] (fwd:18, bkw:0) / glyphs: {shadow@18, shadow@19, null@0}\n- proto_state = 4b17:FEA1:013F:x2 (fbo=stale) | tail = unbound | cache_hint = 0b000110\nassertion failed: buf.chain[-3].out = NONE (expected R[GBA*])\n  -> violation = policy(render:strict), fallback disabled\n  => temp:chain[5] = recycled; chain[6] = leak; chain[7] = unlinked\n"}),
Ic=R((x,z)=>{z.exports="<i>|\n| OPERATOR_MANUAL // p1\n| UPDATED_AT     29494222_44\n| RELEASE_ASSOC  KELBURN-ra.2\n|\n+-----\n|\n|</i>  <t>DATAMINER & OPERATOR</t>\n\nOur DATAMINER terminal, in cooperation with an authorized OPERATOR like you, is capable of discreetly <b>extracting files from any server on the planet</b>.\n\nOur data retrieval services enable predictive modeling, demographic research, welfare studies and so much more. By bringing this data to light, we help our customers better-understand the world and each other.\n"}),
Jc=R((x,z)=>{z.exports="<i>|\n| OPERATOR_MANUAL // p2\n| UPDATED_AT     29494222_44\n| RELEASE_ASSOC  KELBURN-ra.2\n|\n+-----\n|\n|</i>  <t>VENUS</t>\n\nYour DATAMINER is equipped with a dynamic enhancement module: <b>VENUS</b>\n\nTo minimize its security footprint, the DATAMINER sheds all enhancements before connecting to a remote server.\n\nWhile mining, VENUS analyzes patterns in the server's data. From these patterns, it <b>synthesizes new system enhancements</b>, masked as normal server activity. This enables the DATAMINER to grow in power while evading detection.\n\nHowever, <b>no camouflage is perfect</b>.\n"}),
Kc=R((x,z)=>{z.exports="<i>|\n| OPERATOR_MANUAL // p3\n| UPDATED_AT     29494222_44\n| RELEASE_ASSOC  KELBURN-ra.2\n|\n+-----\n|\n|</i>  <t>FIREWARE & TRACING</t>\n\nServers are protected by <b>FIREWARE</b>, hypervisor systems that track malicious access across the network.\n\nA <b>filesystem scan</b>, neccesary for the DATAMINER to retrieve files intact, <b>immediately alerts a server's fireware</b>.\n\nOnce alerted, fireware TRACES the intrusion. An <b>exit key</b>, stored on the server, is <b>required to sever the connection</b>.\n\nTo protect DATA CO from liability, a failsafe will mechanically disrupt your connection to the server if necessary. This disruption will <b>destroy all contents of the KIT</b>.\n"}),
Lc=R((x,z)=>{z.exports="<i>|\n| OPERATOR_MANUAL // p4\n| UPDATED_AT     29494222_44\n| RELEASE_ASSOC  KELBURN-ra.2\n|\n+-----\n|\n|</i>  <t>SYSTEM TEMP</t>\n\nUtilities tax your system, producing heat and increasing <b>SYSTEM TEMP</b>.\n\nAdvanced fireware <b>traces high temps</b> across the network, using the signal to <b>detect intrusion more quickly</b>.\n\nTo reduce temps, invest in cooling or install fewer heat-generating utilities.\n"}),Mc=R((x,z)=>{z.exports="<i>|\n| OPERATOR_MANUAL // p5\n| UPDATED_AT     29494222_44\n| RELEASE_ASSOC  KELBURN-ra.2\n|\n+-----\n|\n|</i>  <t>KIT</t>\n\nYour <b>KIT</b> is the only system storage available while connected to a remote server.\n\nKIT storage can be used to <b>bring useful files</b> when mining, but all mined files <b>must also fit into KIT storage</b>. Exceeding the KIT's storage size will <b>hasten fireware detection</b>.\n\nCritically, files stored in the KIT <b>will be permanently lost</b> if the connection is not severed before detection.\n"}),
Nc=R((x,z)=>{z.exports='<b>|\n+---- preamble BEGIN schema NTN2.1/0\n| registration_txn     41c94ba6-ffba\n| notice_policy        RX_CRITICAL\n+---- preamble END\n\n+---- agent prompt BEGIN\n|\n|</b>  A <i>SIGTRACE exception</i> has interrupted network analysis.\n\nFallback verification strategy: FILE RETRIEVAL\n\nRetrieve artifical user data from our training server. The following server has been provisioned for this test: <a>[[training6.data.co]]</a>\n\nNOTE: Training servers are protected by rudimentary fireware. New entry "FIREWARE & TRACING" has been added to your Operator\'s Manual.\n'}),
Na=R((x,z)=>{x={"en.mail.ob2.subject":"admin-cmd :: REMOTE_WIPE","en.mail.ob2.from":"abbr@data.co","en.mail.ob2.body":xc(),"en.mail.ob3.subject":"Congratulations!","en.mail.ob3.from":"gigbot@data.co","en.mail.ob3.body":yc(),"en.mail.conn_test.subject":"Network Verification","en.mail.conn_test.from":"gigbot@data.co","en.mail.conn_test.body":zc()};var b={"en.popup_errors.1":Ac(),"en.popup_errors.2":Bc(),"en.popup_errors.3":Cc(),"en.popup_errors.4":Dc(),"en.popup_errors.5":Ec(),"en.popup_errors.6":Fc(),
"en.popup_errors.7":Gc(),"en.popup_errors.8":Hc()},a={"en.manual.1.title":"DATAMINER & OPERATOR","en.manual.1.body":Ic(),"en.manual.2.title":"VENUS","en.manual.2.body":Jc(),"en.manual.3.title":"FIREWARE & TRACING","en.manual.3.body":Kc(),"en.manual.4.title":"SYSTEM TEMP","en.manual.4.body":Lc(),"en.manual.5.title":"KIT","en.manual.5.body":Mc()},e={"en.gig.intro1.title":"Verification: File Retrieval","en.gig.intro1.desc":Nc(),"en.gig.intro2.title":"Getting settled in?","en.gig.intro2.desc":"Looks like you're figuring it all out! Don't worry about the learning curve, plenty of our associates struggle at first.\n\nHere's another warmup for you: deliver a few user keys. We can use these to train our security model.",
"en.gig.ve1.title":"Your big day!","en.gig.ve1.desc":"We've got exciting news: your first gig for a real client!\n\nA regular client has requested a sample of user data, and we think you're the perfect associate for the job. It's your turn to prove yourself!","en.gig.ve2.title":"Re: New Q22 Associate","en.gig.ve2.desc":"Great job, partner: our client left a favorable review of your work.\n\nThey sent along another request for you as well. Something more valuable this time, but we're confident you'll manage.",
"en.gig.ve3.title":"First-time Client","en.gig.ve3.desc":"A new client has placed an order for a few pieces of sensitive data. This is a great opportunity to earn another loyal customer!","en.gig.ve4.title":"Re: Q22 Scheduling","en.gig.ve4.desc":"The team is booked up at the moment, but an urgent request has just arrived from one of our VIP clients. We know you can handle this. Prove that our trust is not misplaced.","en.gig.ve5.title":"Returning Client","en.gig.ve5.desc":"Our VIP client has returned with a new request. Fortunately, some more experienced members of the team are available this time around.\n\nOur new client has returned with another order, give them a hand.",
"en.gig.ve6.title":"Anasa Contract","en.gig.ve6.desc":"ANASA, a long-time client, has placed a simple order with us. This is a valuable opportunity for you to demonstrate your worth to the company. Your peers and I will be watching.","en.gig.ve7.title":"Re: Anasa Contract","en.gig.ve7.desc":"Another order has arrived from ANASA, do not disappoint. The value of this contract cannot be overstated.","en.gig.ve8.title":"BLKVLT: Escalate Request","en.gig.ve8.desc":"A contact at BLACKVAULT has requested access to private user wallets in relation to the recent terror attacks. HCPD is involved, you must ensure success at all costs.",
"en.gig.ve9.title":"RE: 047C Private Order","en.gig.ve9.desc":"You've been trusted to handle a work order from one of our private clients. Do not make us regret this decision.","en.gig.ve10.title":"RE: 302C Private Order","en.gig.ve10.desc":"Your work for the previous client was deemed sufficient to attend to this work order. Do not keep the client waiting.","en.gig.vh1.title":"RE: Promotion Evaluation","en.gig.vh1.desc":"You've qualified for a chance to do a Special Request. Your future with this company will be bright if you can show discretion and expedience. Get access to this wallet and maybe you\u2019ll be considered for the next special request.",
"en.gig.vh2.title":"PRIORITY1 RQ","en.gig.vh2.desc":"Another special request from our superiors. You don\u2019t need to know the specifics, just get the data.","en.gig.vh3.title":"Re: Pest Control","en.gig.vh3.desc":"You've been an excellent steward of the company's vision. Sadly, some associates struggle to align with that vision. Our superiors need you to collect monitoring data from the terminals of a few of these stragglers.","en.gig.vh4.title":"Confirmation Receipt","en.gig.vh4.desc":"Thanks to your hard work, we've excised a root of discontent within the company. You've more than proven your loyalty -- your next order is waiting.",
"en.gig.vh5.title":"RequestREQUESTREQUEST","en.gig.vh5.desc":"You know what to do.","en.gig.be1.title":"Advertising Report","en.gig.be1.desc":"Word around the net is that you're some sort of rising hot-shot. Lucky for you, I happen to need someone to collect data for my advertising analysis. The intricacies of business are probably far beyond what you'd understand -- just get your part done so I can do mine.","en.gig.be2.title":"Extra Data Points","en.gig.be2.desc":"I can't believe what you dug up, this...is way beyond what I expected. Here's the next batch of data that I'll need, hotshot. If you manage to get this done, and I play my cards right...we could both gain quite a bit.",
"en.gig.be3.title":"Report Finishing Touch","en.gig.be3.desc":"Hah! You've done it again hotshot, and my report is so close to being done! There are just a few more pieces of data that I need...care to help me out, partner?","en.gig.be4.title":"Performance Review","en.gig.be4.desc":"It should have been perfect! My report and your data should have been the star of the show but Barton and Elms managed to sneak their slimy asses in with their findings! If things continue this way, I'll never be able to snag that client... We need more data hotshot, I'm counting on you.",
"en.gig.bh1.title":"Re: Server Access","en.gig.bh1.desc":"Guess what hotshot, I managed to get an inside source! Some sort of secret server, filled with some spicy data ripe for the taking... Barton and Elms would give up their stupid office suites just to get a glimpse at some of this! Take a real deep dive, see what we can find.","en.gig.bh2.title":"Second Look","en.gig.bh2.desc":"Spicy data my ass, NOTHING turned up for Barton OR Elms?! I'm starting to think there's a conspiracy here hotshot... Take a look at the auditing data, or see if the storage crew made a deal with them. I have to find some dirt on these jerks or it's my career on the line...",
"en.gig.bh3.title":"A Little Massage","en.gig.bh3.desc":"Alright, alright. I think I have a plan to make this less shitty hotshot. I just need to do...a little bit of massaging. Just a bit! Enough to make my report stand out and beat out those two smug little assholes. That client is MINE. They won't know what hit 'em, not with this star of a report.","en.gig.bu1.title":"The Final Blow","en.gig.bu1.desc":"I got another lead for you hotshot, my insider pointed me to some pretty compelling data deep within the server. If you can get this, it'd be the cherry on top of my report. Barton and Elms thought they had it all under their thumb, but I'm learning to play around their dirty tricks. They thought they could mess with me? I'll do whatever it takes to get ahead, hotshot. Anything.",
"en.gig.me1.title":"Medical Research","en.gig.me1.desc":"hey is this \"hotshot\"? i uh heard from my colleague reyes that you might be able to help me with my research.. i'd like to keep it under wraps until it's ready to present and reyes said you could be discreet so.. do you think you could help out?","en.gig.me2.title":"Re: Medical Research","en.gig.me2.desc":"Wow thank you so much! this is amazing data.. just a little bit more and i'll be able to finish up the next section :)","en.gig.me3.title":"Medical Report Conclusion",
"en.gig.me3.desc":"Great work! i'll just need a few more data points and i can be confident my conclusion is solid..making research like this come together is one of the best parts of my job! isn't it fascinating?? i can send you a copy later if you're interested :)","en.gig.me4.title":"A Curious Link","en.gig.me4.desc":"hey buddy, i looked over the data you sent and i found an interesting correlation!  it could really be a game changer if you investigated it further for me \u2013 imagine the possibilities for future research..!",
"en.gig.mh1.title":"MEGAMEDICAL Access","en.gig.mh1.desc":"hey pal, great work as always! Now i know this might be a lil sketchy but i wouldn't ask if it wasn't important -- i happen to have exclusive access to a MEGAMEDICAL server with some data I need for my research. Please take a look, the data isn't available anywhere else and i really think it will make a difference!","en.gig.mh2.title":"An Old Friend","en.gig.mh2.desc":"i can't believe it...the data you sent had some info on an old friend of mine. They were making some back-alley deal with an insurance peddler, i can't believe they'd give up their integrity for what??? Money?? We need to get the truth out!",
"en.gig.mh3.title":"Re: An Old Friend?","en.gig.mh3.desc":"Okorie undercut me, the snake! i knew something wasn't right but no, i didn't listen to my gut, and look where it got me. the deal never worked out because of that twit, and i lost out on the deal and the fortune.. and he got away scot-free.","en.gig.mu1.title":"Re: Re: An Old ENEMY","en.gig.mu1.desc":"something new for you pal. no data for my research, i'm done with that. this time, i need some dirt on Okorie, something that'll make him regret ever double crossing me. I should have been the one to get all the cash, but that backstabber.. Help me teach him a lesson, and make Okorie regret ever messing with the Parkers!",
"en.gig.ge1.title":"Helping our Neighbors","en.gig.ge1.desc":"Dear 8589d3a,\n\nI'm contacting you in regard to research being done for city hall. We're aiming to analyze the data obtained in order to improve the lives of our constituents. Your performance in the local leaderboards leads me to believe you would be a good fit for the project. Would you be willing to assist?\n\nBest regards,\nLiam Chen\nOrganizer #201821208, 22nd District","en.gig.ge2.title":"Telling a Story","en.gig.ge2.desc":"Dear 8589d3a,\n\nThe data you've provided has been extremely helpful and we appreciate your assistance. This is a fantastic opportunity for everyone on the board to tell the story that the data is trying to convey. Would you be willing to obtain some additional information? Just to ensure our success in helping our people, of course.\n\nThanks in advance, \nLiam Chen\nOrganizer #201821208, 22nd District\"",
"en.gig.ge3.title":"Changing Lives","en.gig.ge3.desc":"8589d3a,\n\nYour efforts have provided us with insights that will be life changing for the people in this community! We can't express our thanks enough. Surely there must be more we can learn?\n\nLooking forward to your efforts,\nLiam Chen\nOrganizer #201821208, 22nd District","en.gig.ge4.title":"Seeing the Truth","en.gig.ge4.desc":"8589d3a,\n\nWe're really starting to open the eyes of the good people of this city. They'll finally know the truth, and the Governor can't hide behind the facade of innocence any longer. Thanks to all your hard work, we've been able to paint a clear picture to catalyze some real change around here. Are you ready to build a brighter future?\n\nEyes on the prize,\nLiam Chen\nOrganizer #201821208, 22nd District",
"en.gig.gh1.title":"Undercover Access","en.gig.gh1.desc":"8589d3a,\n\nWe've gained some ground in our pursuit of the truth. One of our informants obtained a job working undercover for Dorado's campaign and gained access to his private server. There must be information there that will tell the story the people need to hear.\n\nDig it up,\nLiam Chen\nOrganizer #201821208, 22nd District","en.gig.gh2.title":"Remove the Maniac!","en.gig.gh2.desc":"8589d3a,\n\nIt is clear now that the situation is dire -- as long as that maniac Dorado is in charge our people will never know freedom, let alone the truth. We are all counting on you to find the evidence we need to bring this monster down. The freedom and safety of every person in this city is on the line.\n\nOur hopes rest with you,\nLiam Chen\nOrganizer #201821208, 22nd District",
"en.gig.gu1.title":"The Final Nail","en.gig.gu1.desc":"8589d3a,\n\nThis is our big chance. We have intel on a secret so damaging that Dorado will never be able to maintain his position! As long as the public believes it, anyway. With Dorado out of the way, we'll finally have real representation in power. The city will be safe in our hands.\n\nThanks in advance,\nLiam Chen\nOrganizer #201821208, 22nd District"};z.exports={...x,"en.popup.after_b4.header":"NETWORK VERIFICATION FAILED","en.popup.after_b4.body":"system_host_error reported @pc148817\n\n<b>Fatal SIGTRACE exception, VENUS module downregulated.</b>\n\n  variant-capture  ->  [0x006D 0x6572 0x6375 0x7279]\n  panic  ->  E_DEV_SIGTRACE violated invariant",
"en.popup.after_b4.cta":"OK","en.popup.vents_1.header":"RESIDENT_NOTICE: TIDE_OUT","en.popup.vents_1.body":"<b>Tide has receded!</b>\n\nTo recirculate nitrogen and vital aerosols, inhabitants\nmust open all vent panels accessible from their unit.\n\n\n<b>Tap the controls below to open vents:</b>\n\n\n\n\n\n ","en.popup.vents_1.cta":"DONE","en.popup.vents_2.header":"RESIDENT_NOTICE: TIDE_IN","en.popup.vents_2.body":"<b>Tide will rise shortly.</b>\n\nAll in-unit vent panels must be closed to ensure safety of inhabitants.\n\n<b>Tap the controls below to close vents:</b>\n\n\n\n\n\n ",
"en.popup.vents_2.cta":"DONE","en.popup.vent_stuck.header":"LOCAL_DEVICE_PANIC","en.popup.vent_stuck.body":"Local device reports the following error:\n\n    <b>OPERATION BLOCKED: VENT_H44d\n    MOTOR HALTED, CLEAR OBSTRUCTION</b>\n\nContact your administrator to remediate the error before proceeding.","en.popup.vent_stuck.cta":"RESOLVED","en.popup.junk1.header":"SYS FAULT: KERNEL_ERROR","en.popup.junk1.cta":"RETRY","en.popup.junk2.header":"SYS FAULT: CRITICAL_FAILURE","en.popup.junk2.cta":"OK","en.popup.junk3.header":"SYS FAULT: DYSIM_PANIC",
"en.popup.junk3.cta":"RETRY","en.popup.junk4.header":"SYS FAULT: SIGINT_KSTORE","en.popup.junk4.cta":"OK","en.popup.junk5.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk5.cta":"ABORT","en.popup.junk6.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk6.cta":"RETRY","en.popup.junk7.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk7.cta":"RETRY","en.popup.junk8.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk8.cta":"OK","en.popup.junk9.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk9.cta":"OK",
"en.popup.junk10.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk10.cta":"RESET","en.popup.junk11.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk11.cta":"OK","en.popup.junk12.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk12.cta":"HALT","en.popup.junk13.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk13.cta":"OK","en.popup.junk14.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk14.cta":"OK","en.popup.junk15.header":"SYS FAULT: ERR_0xF44A0102","en.popup.junk15.cta":"OK",...b,...a,...e,"en.daily.expired":"OFFER EXPIRED",
"en.daily.lvl1":"SIGTRACE 100: $2,100","en.daily.lvl2":"SIGTRACE 125: LUNA BADGE","en.daily.lvl3":"SIGTRACE 150: SOL BADGE","en.daily.complete":"OFFER COMPLETED","en.server.unavailable":"!! SERVER UNAVAILABLE !!","en.server.requirements.connection_stability":"NETROUTE UNSTABLE","en.server.requirements.t1_auth_key":"T1 AUTH REQUIRED","en.server.requirements.t2_auth_key":"T2 AUTH REQUIRED","en.server.requirements.t3_auth_key":"T3 AUTH REQUIRED","en.server.requirements.t4_auth_key":"T4 AUTH REQUIRED",
"en.dsktp.title":"dAtAMineR","en.dsktp.agent":"<agent 8589d3a provisional>","en.gaels_letter":"are you there my gene?\nmy sweet bean <3\ni'm sorry, i promised to stay\nbut it's just you now\nand me, in memories\nsometimes it's like i'm awake again\nit's funny, i keep reaching for you\nalmost like we could touch\nbut we never do\ni hope you made it out","en.player.standup":"Something's stuck...the one by the bathroom?","en.examine.db_note.title":"A note from ksys","en.examine.db_note.desc":'The paper is sweaty and brittle from UV damage.\n\n"Hey thanks for playing DATAMINER, I\'m still decorating but have a look around in the meantime.\n\n     -- ksys"',
"en.shitty_quip.1":"I heard a joy shared is a joy doubled. Say, you know any savvy venture capitalists who'd help me finance this pizza party?","en.slide.d":"Something here re: getting caught? Introducing the player to the concept that more mods/mining = more danger","en.slide.e":"Something requiring an item from the shop, maybe some servers have a minimum 'security' level that requires at least that much of a base security stat?","en.slide.f":"Popup shows tide is down","en.examine.snips.title":"Wire Cutters",
"en.examine.snips.desc":"\n\nA pair of tired, snub-nosed snips.\n\nUsed rarely, and almost never to cut wire.","en.line.snips_taken":"Nothing left.","en.line.snips_here":"These old wire cutters have never been more conspicuous.","en.line.took_snips":"Picked up <b>wire cutters</b>.","en.choice.take_snips.title":"Take the wire cutters?","en.choice.take_snips.yes":"Yes","en.choice.take_snips.no":"No","en.line.blocked_vent_a":"Someone made a mess of this power panel.","en.line.blocked_vent_b":"A loose cable is pinched in the vent blades.",
"en.choice.cut_cable.title":"Cut the cable? It looks important.","en.choice.cut_cable.yes":"Yes","en.choice.cut_cable.no":"No","en.line.cut_cable_a":"You cut the cable free.","en.line.cut_cable_b":"The vent snapped shut. Safe for now.","en.line.cable_is_cut_a":"The important cable has been cut.","en.line.cable_is_cut_b":"...","en.line.cable_is_cut_c":"Nope, no current's getting through there. Alternating or otherwise.","en.player_comment.db_chair_a":"I don't recognize them anymore.","en.player_comment.db_chair_b":"What's this?",
"en.player_comment.keydoor":"What a piece of junk this is, you can't even tell it's made of marzipan.","en.player_comment.sign_wrong_way":"What's this?","en.examine.sign_wrong_way.title":"Crumpled Note","en.examine.sign_wrong_way.desc":'The paper smells damp. Something is written in faint orange ink.\n\n"You are so lost right now.\nBig gamer moment.\n\n      -- ksys"',"en.player_comment.maint_door_a":"This door leads to a maintenance hall.","en.player_comment.maint_door_b":"I don't know the code.",
"en.player_comment.desk_shelf_a":"We won this shelf in an estate raffle.","en.player_comment.desk_shelf_b":"Covered in dust. Have we ever used it?","en.player_comment.desk_pipe_a":"This duct connects to the rooms above and below.","en.player_comment.desk_pipe_b":"It's warm to the touch, carrying exhaust to the roof.","en.player_comment.bathroom_door":"I don't need to use the bathroom right now.","en.player_comment.sink_a":"Our unit came with a sink.","en.player_comment.sink_b":"It's like someone started 3D modeling it and left halfway through.",
"en.player_comment.counter_a":"A featureless countertop, cupboards with no doors.","en.player_comment.counter_b":"Though, the default textures have a cheery color.","en.player_comment.fridge_a":"This refrigerator outlived the previous tenants.","en.player_comment.fridge_b":"More appetizing on the outside.","en.items.luna_badge.title":"Luna Badge","en.items.luna_badge.desc":"A silver badge, collected by miners who narrowly escape ASTROLABE servers.","en.items.sol_badge.title":"Sol Badge","en.items.sol_badge.desc":"A golden badge, collected by miners who dare the wrath of the ASTRO fireware.",
"en.items.severing_salt.title":"Severing Salt","en.items.severing_salt.desc":"","en.items.t1_auth_key.title":"T1 Keypass","en.items.t1_auth_key.desc":"While stored in KIT, grants access to T1 secured servers.","en.items.t2_auth_key.title":"T2 Keypass","en.items.t2_auth_key.desc":"While stored in KIT, grants access to T2 secured servers.","en.items.t3_auth_key.title":"T3 Keypass","en.items.t3_auth_key.desc":"While stored in KIT, grants access to T3 secured servers.","en.items.t4_auth_key.title":"T4 Keypass",
"en.items.t4_auth_key.desc":"While stored in KIT, grants access to T4 secured servers.","en.items.temp_time_up.title":"Busy Signal","en.items.temp_time_up.desc":"Use to suppress 10 SIGTRACE","en.items.temp_time_up_2.title":"Standing Signal","en.items.temp_time_up_2.desc":"Use to suppress 20 SIGTRACE","en.items.temp_cash_up.title":"Lost Datachip","en.items.temp_cash_up.desc":"Use to gain +5,000 MEMORY","en.items.temp_arc.title":"SCRAPER.tar.gz","en.items.temp_arc.desc":"Use to gain the ARC SCRAPER utility",
"en.items.temp_demux.title":"DEMUX.tar.gz","en.items.temp_demux.desc":"Use to gain the DEMUX utility","en.items.temp_uplink.title":"Quad MUX","en.items.temp_uplink.desc":"Use to gain 4 UPLINK","en.items.temp_cpu_clock.title":"Flawed Piezo Crystal","en.items.temp_cpu_clock.desc":"Use to gain 4 CPU_CLOCK","en.items.temp_security.title":"Netgrep","en.items.temp_security.desc":"Use to gain 4 SECURITY","en.items.temp_coherence.title":"Pairwise Trinket","en.items.temp_coherence.desc":"Use to gain 4 COHERENCE",
"en.items.temp_cooling.title":"Bimetallic Brand","en.items.temp_cooling.desc":"Use to gain 4 COOLING","en.items.temp_utility_slots.title":"Extra Rails","en.items.temp_utility_slots.desc":"Use to gain 1 utility slot","en.items.temp_bomb.title":"Flash Bomb","en.items.temp_bomb.desc":"Use to read 10 bytes from all blocks","en.items.temp_delta.title":"Fuzzing Records","en.items.temp_delta.desc":"Use to gain 5 DELTA","en.items.file_test_1.title":"README.txt","en.items.file_test_1.desc":"It's a note from Gael",
"en.items.file_test_2.title":"rememberance-day-chem-attacks.html","en.items.file_test_2.desc":"Scraped from Shockfish News","en.items.tuuli_records.title":"Tuuli's Records","en.items.tuuli_records.desc":"Unlocks new upgrades","en.items.loyalty_card.title":"Loyalty Card","en.items.loyalty_card.desc":"Gain access to members-only inventory.","en.items.loyalty_card_2.title":"Gold Loyalty Card","en.items.loyalty_card_2.desc":"Gain access to restricted inventory.","en.items.vc1.title":"registry.backup",
"en.items.vc1.desc":"","en.items.vc2.title":"keychain.pub","en.items.vc2.desc":"","en.items.vc3.title":"MyContacts.dir","en.items.vc3.desc":"","en.items.vc4.title":"KeyArchive.dir","en.items.vc4.desc":"","en.items.vc5.title":"localhosts.txt","en.items.vc5.desc":"","en.items.vc6.title":"TrustedSources.archive","en.items.vc6.desc":"","en.items.vc7.title":"MyDesktop.dir","en.items.vc7.desc":"","en.items.vc8.title":"session.history","en.items.vc8.desc":"","en.items.vr1.title":"mac-addr_v3.sys","en.items.vr1.desc":"",
"en.items.vr2.title":"pwinfo.kdb","en.items.vr2.desc":"","en.items.vr3.title":"backup-codes.txt","en.items.vr3.desc":"","en.items.vr4.title":"encr_wallet.blk","en.items.vr4.desc":"","en.items.bc1.title":"InventoryForecast.docx","en.items.bc1.desc":"","en.items.bc2.title":"supplier_inventory.csv","en.items.bc2.desc":"","en.items.bc3.title":"Reorder schedule.xls","en.items.bc3.desc":"","en.items.bc4.title":"DemandForecast.ppt","en.items.bc4.desc":"","en.items.br1.title":"INVENTORY-TRACKING_ENC.xlsx",
"en.items.br1.desc":"","en.items.br2.title":"WAREHOUSESTOCK_AUDIT2.pdf","en.items.br2.desc":"","en.items.mc1.title":"PrescriptionHistory.xlsx","en.items.mc1.desc":"","en.items.mc2.title":"P8443_lab.doc","en.items.mc2.desc":"","en.items.mc3.title":"Discharge Summary.pdf","en.items.mc3.desc":"","en.items.mc4.title":"ICUAccessLog.xls","en.items.mc4.desc":"","en.items.mr1.title":"InsurerMOU_signed.pdf","en.items.mr1.desc":"","en.items.mr2.title":"InfectivityAssessment.docx","en.items.mr2.desc":"","en.items.gc1.title":"HCPD_Incident_Reports.xlsx",
"en.items.gc1.desc":"","en.items.gc2.title":"PermitApprovals.ppt","en.items.gc2.desc":"","en.items.gc3.title":"ActiveDonorRegistry.adb","en.items.gc3.desc":"","en.items.gc4.title":"RFP_fasttrack.ppt","en.items.gc4.desc":"","en.items.gr1.title":"INFRA_ACCESS_AUDIT.spdf","en.items.gr1.desc":"","en.items.gr2.title":"TelstarReport224.ppt","en.items.gr2.desc":"","en.items.loot_medical.title":"Medical Data","en.items.loot_medical.desc":"","en.items.loot_medical_rare.title":"Secured Medical Data","en.items.loot_medical_rare.desc":"",
"en.items.loot_var.title":"Personal Files","en.items.loot_var.desc":"","en.items.loot_var_rare.title":"Secured Personal Files","en.items.loot_var_rare.desc":"","en.items.loot_business.title":"Business Data","en.items.loot_business.desc":"","en.items.loot_business_rare.title":"Secured Business Data","en.items.loot_business_rare.desc":"","en.items.loot_govt.title":"Municipal Files","en.items.loot_govt.desc":"","en.items.loot_govt_rare.title":"Secured Municipal Files","en.items.loot_govt_rare.desc":"",
"en.items.item_glitch_1.title":"*!($*%#)&^@#","en.items.item_glitch_1.desc":"JFIASLFEJALDNDLJVIDLA","en.items.item_glitch_2.title":"!*)!**$(*%(#)&@)","en.items.item_glitch_2.desc":"ASEJFIALSEJAISSS","en.items.item_glitch_3.title":"(%()!%*$)$$$","en.items.item_glitch_3.desc":"BOMTINQOIRR","en.items.loot_major_1.title":"Szabo-Descours-2131.pdf","en.items.loot_major_1.desc":"magic loot","en.items.loot_major_2.title":"happy_birthday.tar.gz","en.items.loot_major_2.desc":"magic loot","en.items.loot_major_3.title":"East_Line_permits.docx",
"en.items.loot_major_3.desc":"magic loot","en.items.cpu_microbyte_1.title":"Lightning 3","en.items.cpu_microbyte_1.desc":"The Lightning 3 CPU, manufactured by Microbyte, is the perfect choice for budget-conscious consumers.","en.items.cpu_microbyte_2.title":"Lightning 3X","en.items.cpu_microbyte_2.desc":"The Lightning 3X CPU from Microbyte. This CPU is a slight improvement from the previous version.","en.items.cpu_microbyte_3.title":"Lightning 4","en.items.cpu_microbyte_3.desc":"The Lightning 4 is the successor to Microbyte's Lightning 3 and Lightning 3X, and it offers significant improvements in performance.",
"en.items.cpu_omskoft_1.title":"Kessemur 280","en.items.cpu_omskoft_1.desc":"The Kessemur 280, from the latest line of Omskoft CPUs. This CPU is built with 2A process technology, providing faster processing speeds and larger caches.","en.items.cpu_omskoft_2.title":"Kessemur 290","en.items.cpu_omskoft_2.desc":"The Kessemur 290, the successor to the popular Kessemur 280 from Omskoft. The Kessemur 290 is ideal for demanding applications such as machine learning and scientific simulations.","en.items.cpu_omskoft_3.title":"P-Tatry 11",
"en.items.cpu_omskoft_3.desc":"The P-Tatry 11, the latest server-grade CPU from Omskoft. With its advanced features and high core count, the P-Tatry 11 is the first choice for data center and enterprise servers.","en.items.cpu_kamakura_1.title":"Sunazushi","en.items.cpu_kamakura_1.desc":"The Sunazushi, a high-performance CPU from Kamakura. The Sunazushi has increased memory bandwidth of up to 192TB/s and support for the latest instruction sets.","en.items.cpu_kamakura_2.title":"Hanazushi","en.items.cpu_kamakura_2.desc":"The Hanazushi, built with the latest process technology, offers even faster processing speeds and improved multitasking capabilities compared to its predecessor.",
"en.items.cpu_kamakura_3.title":"Umizushi","en.items.cpu_kamakura_3.desc":"The Umizushi, the top-of-the-line CPU from Kamakura. The Umizushi features advanced security features such as hardware-based memory encryption and support for virtualization.","en.items.modem_microbyte_1.title":"Typhoon 2210","en.items.modem_microbyte_1.desc":"","en.items.modem_microbyte_2.title":"Typhoon 2210B","en.items.modem_microbyte_2.desc":"","en.items.modem_microbyte_3.title":"Typhoon 2310","en.items.modem_microbyte_3.desc":"",
"en.items.modem_esscom_1.title":"Elion Bridge M","en.items.modem_esscom_1.desc":"","en.items.modem_esscom_2.title":"Elion Bridge MX","en.items.modem_esscom_2.desc":"","en.items.modem_esscom_3.title":"Elion Bridge SX","en.items.modem_esscom_3.desc":"","en.items.modem_brooks_1.title":"SX Alpine 10","en.items.modem_brooks_1.desc":"","en.items.modem_brooks_2.title":"SX Alpine 100","en.items.modem_brooks_2.desc":"","en.items.modem_brooks_3.title":"KX Alpine 100","en.items.modem_brooks_3.desc":"","en.items.firewall_esscom_1.title":"Nimbus Light",
"en.items.firewall_esscom_1.desc":"","en.items.firewall_esscom_2.title":"Nimbus Green","en.items.firewall_esscom_2.desc":"","en.items.firewall_esscom_3.title":"Nimbus Pro","en.items.firewall_esscom_3.desc":"","en.items.firewall_starmill_1.title":"Starsail 33","en.items.firewall_starmill_1.desc":"","en.items.firewall_starmill_2.title":"Starsign WC","en.items.firewall_starmill_2.desc":"","en.items.firewall_starmill_3.title":"Starsign W","en.items.firewall_starmill_3.desc":"","en.items.firewall_brooks_1.title":"StreamRT 910",
"en.items.firewall_brooks_1.desc":"","en.items.firewall_brooks_2.title":"StreamRT 990","en.items.firewall_brooks_2.desc":"","en.items.firewall_brooks_3.title":"StreamRTM 990","en.items.firewall_brooks_3.desc":"","en.items.cooler_microbyte_1.title":"Tundra X400","en.items.cooler_microbyte_1.desc":"","en.items.cooler_microbyte_2.title":"Tundra X800","en.items.cooler_microbyte_2.desc":"","en.items.cooler_jetline_1.title":"Ice Jet II","en.items.cooler_jetline_1.desc":"","en.items.cooler_jetline_2.title":"Ice Jet II Pro",
"en.items.cooler_jetline_2.desc":"","en.items.cooler_jetline_3.title":"Ice Jet II Black","en.items.cooler_jetline_3.desc":"","en.items.cooler_vkolor_1.title":"LT-M 14","en.items.cooler_vkolor_1.desc":"","en.items.cooler_vkolor_2.title":"LT-M 15","en.items.cooler_vkolor_2.desc":"","en.items.cooler_vkolor_3.title":"LT-M 15 Gold","en.items.cooler_vkolor_3.desc":"","en.items.drive_as_1.title":"SeaDrive 480M","en.items.drive_as_1.desc":"","en.items.drive_as_2.title":"SeaDrive 880HM","en.items.drive_as_2.desc":"",
"en.items.drive_as_3.title":"Tellstar L2","en.items.drive_as_3.desc":"","en.items.trinket_bismuth_contraption.title":"Bismuth Contraption","en.items.trinket_bismuth_contraption.desc":"","en.items.trinket_neon_totem.title":"Neon Totem","en.items.trinket_neon_totem.desc":"","en.items.trinket_grounding_rings.title":"Grounding Rings","en.items.trinket_grounding_rings.desc":"","en.items.trinket_corrugated_shawl.title":"Corrugated Shawl","en.items.trinket_corrugated_shawl.desc":"This shawl is made of durable and lightweight corrugated material, which is effective in reducing heat and electromagnetic interference.",
"en.items.trinket_salt_circle.title":"Salt Circle","en.items.trinket_salt_circle.desc":"","en.items.trinket_thermal_magnets.title":"Thermal Magnets","en.items.trinket_thermal_magnets.desc":"","en.items.trinket_corrugated_gold_shawl.title":"Corrugated Gold Shawl","en.items.trinket_corrugated_gold_shawl.desc":"This shawl, crafted from the finest corrugated gold, has been engineered to optimize the performance of your computer by reducing heat and electromagnetic interference.","en.items.trinket_mirror_pool.title":"Mirror Pool",
"en.items.trinket_mirror_pool.desc":"","en.items.trinket_kepler_terrarium.title":"Kepler Terrarium","en.items.trinket_kepler_terrarium.desc":"","en.items.trinket_hard_standby.title":"Hard Standby","en.items.trinket_hard_standby.desc":"","en.items.trinket_winding_mod.title":"Winding Mod","en.items.trinket_winding_mod.desc":"","en.items.trinket_warm_lines.title":"Warm Lines","en.items.trinket_warm_lines.desc":"","en.items.trinket_bootloader.title":"Bootloader","en.items.trinket_bootloader.desc":"",
"en.items.trinket_netboot.title":"Netboot","en.items.trinket_netboot.desc":"","en.items.trinket_eeprom.title":"EEPROM","en.items.trinket_eeprom.desc":"","en.items.trinket_lithium_film.title":"Lithium Film","en.items.trinket_lithium_film.desc":"","en.items.trinket_ground_loop.title":"Ground Loop","en.items.trinket_ground_loop.desc":"","en.items.trinket_connection_mask.title":"Connection Mask","en.items.trinket_connection_mask.desc":"","en.items.kit_capacity_1.title":"Kit BETA","en.items.kit_capacity_1.desc":"Improved kit with additional capacity.",
"en.items.kit_capacity_2.title":"Kit GAMMA","en.items.kit_capacity_2.desc":"Improved kit with additional capacity.","en.items.kit_injector.title":"Kit Injector","en.items.kit_injector.desc":"Allows access to the KIT while mining.","en.items.ai_module.title":"AI Module","en.items.ai_module.desc":"A sideloaded AI module which scans data for usable EXP. With enough EXP, any number of novel utilities and upgrades can be generated.","en.items.thermocouple.title":"Thermocouple","en.items.thermocouple.desc":"Allows operator to monitor system temperature while mining.\n\nSystem temperature requires careful attention, as modern fireware hunts miners by their thermal footprint.",
"en.synth.homebrew_1.title":"HOMEBREW","en.synth.homebrew_1.desc":"System mods appear twice as often.","en.synth.homebrew_2.title":"HOMEBREW 2","en.synth.homebrew_2.desc":"System mods appear twice as often.","en.synth.accelerationist_1.title":"ACCELERATIONIST","en.synth.accelerationist_1.desc":"Utilities appear twice as often.","en.synth.accelerationist_2.title":"ACCELERATIONIST 2","en.synth.accelerationist_2.desc":"Utilities appear twice as often.","en.synth.cybernetics_1.title":"CYBERNETICS","en.synth.cybernetics_1.desc":"Utility mods appear twice as often.",
"en.synth.cybernetics_2.title":"CYBERNETICS 2","en.synth.cybernetics_2.desc":"Utility mods appear twice as often.","en.synth.expansion_1.title":"EXPANSION","en.synth.expansion_1.desc":"+1 utility slot.","en.synth.expansion_2.title":"EXPANSION 2","en.synth.expansion_2.desc":"+1 utility slot.","en.synth.datalogger.title":"DATALOGGER","en.synth.datalogger.desc":"30% chance to gain 1 delta when COHERENCE is upgraded.","en.synth.noisemaker.title":"NOISEMAKER","en.synth.noisemaker.desc":"50% chance to halt detection for 5 seconds when SECURITY is upgraded.",
"en.synth.illicit_totem.title":"ILLICIT TOTEM","en.synth.illicit_totem.desc":"Halt detection for 10 seconds when deleting any utility (including ILLICIT TOTEM).\n\nIf undetected, suppress 5 SIGTRACE instead.","en.synth.davids_dagger.title":"DAVID'S DAGGER","en.synth.davids_dagger.desc":"Suppress SIGTRACE by 10 for each empty utility slot.","en.synth.proxy_lattice.title":"PROXY LATTICE","en.synth.proxy_lattice.desc":"Suppress 3 SIGTRACE per level of PROXY LATTICE.","en.synth.proxy_node_1.title":"PROXY NODE",
"en.synth.proxy_node_1.desc":"PROXY LATTICE level +1","en.synth.proxy_node_2.title":"PROXY NODE","en.synth.proxy_node_2.desc":"PROXY LATTICE level +1","en.synth.proxy_node_3.title":"PROXY NODE","en.synth.proxy_node_3.desc":"PROXY LATTICE level +1","en.synth.proxy_node_4.title":"PROXY NODE","en.synth.proxy_node_4.desc":"PROXY LATTICE level +1","en.synth.proxy_node_5.title":"PROXY NODE","en.synth.proxy_node_5.desc":"PROXY LATTICE level +1","en.synth.proxy_node_6.title":"PROXY NODE","en.synth.proxy_node_6.desc":"PROXY LATTICE level +1",
"en.synth.proxy_repeater_1.title":"PROXY REPEATER","en.synth.proxy_repeater_1.desc":"Suppress 4 SIGTRACE per level of PROXY LATTICE. PROXY LATTICE level +1","en.synth.proxy_repeater_2.title":"PROXY REPEATER","en.synth.proxy_repeater_2.desc":"Suppress 5 SIGTRACE per level of PROXY LATTICE. PROXY LATTICE level +1","en.synth.proxy_repeater_3.title":"PROXY REPEATER","en.synth.proxy_repeater_3.desc":"Suppress 6 SIGTRACE per level of PROXY LATTICE. PROXY LATTICE level +1","en.synth.reader.title":"B. READER",
"en.synth.reader.desc":"The BALLISTIC READER ricochets between blocks, pulling data as it goes.","en.synth.reader_accel_1.title":"READ OPS 01","en.synth.reader_accel_1.desc":"Reader speed +30%","en.synth.reader_accel_2.title":"READ OPS 02","en.synth.reader_accel_2.desc":"Reader speed +60%","en.synth.reader_accel_3.title":"READ OPS 03","en.synth.reader_accel_3.desc":"Reader speed +100%","en.synth.reader_dmg_1.title":"READ DMG 01","en.synth.reader_dmg_1.desc":"Increase Reader damage","en.synth.reader_dmg_2.title":"READ DMG 02",
"en.synth.reader_dmg_2.desc":"Greatly increase Reader damage","en.synth.reader_dmg_3.title":"READ DMG 03","en.synth.reader_dmg_3.desc":"Vastly increase Reader damage","en.synth.reader_virus.title":"READ/VIRUS","en.synth.reader_virus.desc":"Reader applies VIRUS counters to blocks, dealing damage over time for each counter","en.synth.reader_virus_max_stacks.title":"READ/VIRUS FLUX","en.synth.reader_virus_max_stacks.desc":"Reader max VIRUS counters increased from 5 to 8","en.synth.reader_virus_dmg.title":"READ/VIRUS ANODE",
"en.synth.reader_virus_dmg.desc":"Reader VIRUS damage +100%","en.synth.reader_virus_more_stacks.title":"READ/VIRUS ETHYLENE","en.synth.reader_virus_more_stacks.desc":"Reader VIRUS applies 3 counters per hit","en.synth.reader_virus_rate.title":"READ/VIRUS MERCURY","en.synth.reader_virus_rate.desc":"Reader VIRUS applies damage more quickly","en.synth.reader_virus_spread.title":"READ/VIRUS TANGLE","en.synth.reader_virus_spread.desc":"Reader VIRUS counters spread to nearby blocks","en.synth.reader_virus_spread_2.title":"READ/VIRUS FLOOD",
"en.synth.reader_virus_spread_2.desc":"Reader VIRUS counters spread more quickly","en.synth.reader_shields_1.title":"READ/SHIELD","en.synth.reader_shields_1.desc":"Shields force the Reader into contact with blocks.","en.synth.reader_shields_2.title":"READ/SHIELD 2","en.synth.reader_shields_2.desc":"Additional shields force the Reader closer to blocks.","en.synth.reader_shields_3.title":"READ/SHIELD 3","en.synth.reader_shields_3.desc":"Additional shields force the Reader closer to blocks.","en.synth.reader_augment.title":"READ/AUGMENT",
"en.synth.reader_augment.desc":"Reader has a chance to become AUGMENTED when breaking a block. AUGMENTED Reader deals critical damage.","en.synth.reader_augment_odds.title":"READ/AUGMENT ODDS","en.synth.reader_augment_odds.desc":"Increase chance of Reader becoming AUGMENTED when breaking a block","en.synth.reader_augment_odds_2.title":"READ/AUGMENT ODDS 2","en.synth.reader_augment_odds_2.desc":"Greatly increase chance of Reader becoming AUGMENTED when breaking a block","en.synth.reader_augment_crits.title":"READ/AUGMENT CRITS",
"en.synth.reader_augment_crits.desc":"Increase AUGMENTED Reader DMG","en.synth.reader_augment_time.title":"READ/AUGMENT TIME","en.synth.reader_augment_time.desc":"Increases duration of AUGMENTED Reader","en.synth.reader_augment_time_2.title":"READ/AUGMENT TIME 2","en.synth.reader_augment_time_2.desc":"Increases duration of AUGMENTED Reader","en.synth.reader_short.title":"READ/SHORT","en.synth.reader_short.desc":"Reader has a chance to SHORT on hitting a block. SHORT damages a random nearby block.",
"en.synth.reader_short_radius.title":"READ/SHORT RADIUS","en.synth.reader_short_radius.desc":"Increase Reader SHORT radius","en.synth.reader_short_radius_2.title":"READ/SHORT RADIUS 2","en.synth.reader_short_radius_2.desc":"Increase Reader SHORT radius","en.synth.reader_short_dmg.title":"READ/SHORT DMG","en.synth.reader_short_dmg.desc":"Increase Reader SHORT damage","en.synth.reader_short_dmg_2.title":"READ/SHORT DMG 2","en.synth.reader_short_dmg_2.desc":"Increase Reader SHORT damage","en.synth.reader_trail.title":"READ/TRAIL",
"en.synth.reader_trail.desc":"Reader leaves a lingering TRAIL which damages nearby blocks","en.synth.reader_trail_dmg.title":"READ/TRAIL DMG","en.synth.reader_trail_dmg.desc":"Increase Reader TRAIL damage","en.synth.reader_trail_dmg_2.title":"READ/TRAIL DMG 2","en.synth.reader_trail_dmg_2.desc":"Greatly increase Reader TRAIL damage","en.synth.reader_trail_dmg_3.title":"READ/TRAIL DMG 3","en.synth.reader_trail_dmg_3.desc":"Vastly increase Reader TRAIL damage","en.synth.reader_trail_lifetime.title":"READ/TRAIL LINGER",
"en.synth.reader_trail_lifetime.desc":"Reader TRAIL remains in the field longer","en.synth.reader_trail_lifetime_2.title":"READ/TRAIL LINGER 2","en.synth.reader_trail_lifetime_2.desc":"Reader TRAIL remains in the field much longer","en.synth.reader_trail_radius.title":"READ/TRAIL AREA","en.synth.reader_trail_radius.desc":"Increase Reader TRAIL area","en.synth.reader_trail_radius_2.title":"READ/TRAIL AREA 2","en.synth.reader_trail_radius_2.desc":"Greatly increase Reader TRAIL area","en.synth.reader_multi.title":"READ/MULTI",
"en.synth.reader_multi.desc":"An additional Reader enters the field, with reduced damage and speed","en.synth.reader_multi_dmg.title":"READ/MULTI DMG","en.synth.reader_multi_dmg.desc":"Increase damage for additional Reader","en.synth.reader_multi_dmg_2.title":"READ/MULTI DMG 2","en.synth.reader_multi_dmg_2.desc":"Greatly increase damage for additional Reader","en.synth.reader_multi_triple.title":"READ/MULTI TRIPLE","en.synth.reader_multi_triple.desc":"A third reader enters the field","en.synth.reader_multi_ghost.title":"READ/MULTI GHOST",
"en.synth.reader_multi_ghost.desc":"Additional Readers pass through blocks","en.synth.arc.title":"ARC SCRAPER","en.synth.arc.desc":"Periodically damages the nearest row of blocks","en.synth.arc.flavor":"An exposed line arcs across the connection.","en.synth.arc_dmg_1.title":"ARC/DMG","en.synth.arc_dmg_1.desc":"Increase Arc damage","en.synth.arc_dmg_2.title":"ARC/DMG 2","en.synth.arc_dmg_2.desc":"Greatly increase Arc damage","en.synth.arc_dmg_3.title":"ARC/DMG 3","en.synth.arc_dmg_3.desc":"Vastly increase Arc damage",
"en.synth.arc_rate_1.title":"ARC/RATE","en.synth.arc_rate_1.desc":"Increase Arc rate","en.synth.arc_rate_2.title":"ARC/RATE 2","en.synth.arc_rate_2.desc":"Greatly increase Arc rate","en.synth.arc_rate_3.title":"ARC/RATE 3","en.synth.arc_rate_3.desc":"Vastly increased Arc rate","en.synth.arc_charge.title":"ARC/CHARGE","en.synth.arc_charge.desc":"Blocks destroyed by Arc are CHARGED, damaging neighboring blocks","en.synth.arc_charge_dmg_1.title":"ARC/CHARGE DMG","en.synth.arc_charge_dmg_1.desc":"Increase damage from CHARGED blocks",
"en.synth.arc_charge_dmg_2.title":"ARC/CHARGE DMG 2","en.synth.arc_charge_dmg_2.desc":"Greatly increase damage from CHARGE blocks","en.synth.arc_charge_range_1.title":"ARC/CHARGE RANGE","en.synth.arc_charge_range_1.desc":"Increase range of CHARGED blocks","en.synth.arc_charge_range_2.title":"ARC/CHARGE RANGE 2","en.synth.arc_charge_range_2.desc":"Greatly increase range of CHARGED blocks","en.synth.arc_ionize.title":"ARC/IONIZE","en.synth.arc_ionize.desc":"Arc may become IONIZED, dealing critical damage",
"en.synth.arc_ionize_dmg_1.title":"ARC/IONIZE DMG","en.synth.arc_ionize_dmg_1.desc":"Increase damage of IONIZED Arc","en.synth.arc_ionize_dmg_2.title":"ARC/IONIZE DMG 2","en.synth.arc_ionize_dmg_2.desc":"Greatly increase damage of IONIZED Arc","en.synth.arc_ionize_odds_1.title":"ARC/IONIZE ODDS","en.synth.arc_ionize_odds_1.desc":"Increase chance of Arc becoming IONIZED","en.synth.arc_ionize_odds_2.title":"ARC/IONIZE ODDS 2","en.synth.arc_ionize_odds_2.desc":"Greatly increase chance of Arc becoming IONIZED",
"en.synth.arc_ionize_exp_1.title":"ARC/IONIZE EXP","en.synth.arc_ionize_exp_1.desc":"Increase EXP from blocks hit by IONIZED Arc","en.synth.arc_ionize_exp_2.title":"ARC/IONIZE EXP 2","en.synth.arc_ionize_exp_2.desc":"Greatly increase EXP from blocks hit by IONIZED Arc","en.synth.arc_echo.title":"ARC/ECHO","en.synth.arc_echo.desc":"Arcs produce ECHOES, additional Arcs dealing reduced damage","en.synth.arc_echo_dmg_1.title":"ARC/ECHO DMG","en.synth.arc_echo_dmg_1.desc":"Increase Arc ECHO damage","en.synth.arc_echo_dmg_2.title":"ARC/ECHO DMG 2",
"en.synth.arc_echo_dmg_2.desc":"Greatly increase Arc ECHO damage","en.synth.arc_echo_count_1.title":"ARC/ECHO COUNT","en.synth.arc_echo_count_1.desc":"Arcs produce an additional ECHO","en.synth.arc_echo_count_2.title":"ARC/ECHO COUNT 2","en.synth.arc_echo_count_2.desc":"Arcs produce an additional ECHO","en.synth.arc_sparks.title":"ARC/SPARKS","en.synth.arc_sparks.desc":"Arcs may produce SPARKS, projectiles which damage blocks","en.synth.arc_sparks_dmg_1.title":"ARC/SPARKS DMG","en.synth.arc_sparks_dmg_1.desc":"Increase damage of Arc SPARKS",
"en.synth.arc_sparks_dmg_2.title":"ARC/SPARKS DMG 2","en.synth.arc_sparks_dmg_2.desc":"Greatly increase damage of Arc SPARKS","en.synth.arc_sparks_odds_1.title":"ARC/SPARKS ODDS","en.synth.arc_sparks_odds_1.desc":"Increase chance of producing Arc SPARKS","en.synth.arc_sparks_odds_2.title":"ARC/SPARKS ODDS 2","en.synth.arc_sparks_odds_2.desc":"Greatly increase chance of producing Arc SPARKS","en.synth.arc_neon.title":"ARC/NEON","en.synth.arc_neon.desc":"Arcs may become NEON, deviating unpredictably through the field",
"en.synth.arc_neon_size_1.title":"ARC/NEON PATH","en.synth.arc_neon_size_1.desc":"Increase the length of NEON Arc paths","en.synth.arc_neon_size_2.title":"ARC/NEON PATH 2","en.synth.arc_neon_size_2.desc":"Greatly increase the length of NEON Arc paths","en.synth.arc_neon_odds_1.title":"ARC/NEON ODDS","en.synth.arc_neon_odds_1.desc":"Increase the chance of a NEON Arc","en.synth.arc_neon_odds_2.title":"ARC/NEON ODDS 2","en.synth.arc_neon_odds_2.desc":"Greatly increase the chance of a NEON Arc","en.synth.plasma.title":"TUULI PLASMA",
"en.synth.plasma.desc":"Slowly damages all exposed blocks","en.synth.plasma.flavor":"Neon gas floods the connection. Stray bits are sublimated and ionized.","en.synth.plasma_dmg_1.title":"PLASMA/VIOLET","en.synth.plasma_dmg_1.desc":"Increases Plasma damage","en.synth.plasma_dmg_2.title":"PLASMA/ULTRAVIOLET","en.synth.plasma_dmg_2.desc":"Greatly increases Plasma damage","en.synth.drone.title":"DRONE","en.synth.drone.desc":"Periodically damages the largest blocks in range","en.synth.drone.flavor":"An autonomous data-mining device equipped with advanced targeting and decoding systems.",
"en.synth.drone_speed_1.title":"DRONE RUN 01","en.synth.drone_speed_1.desc":"Increases Drone movement speed","en.synth.drone_speed_2.title":"DRONE RUN 02","en.synth.drone_speed_2.desc":"Greatly increases Drone movement speed","en.synth.drone_radius_1.title":"DRONE FIELD 01","en.synth.drone_radius_1.desc":"Increases Drone radius","en.synth.drone_radius_2.title":"DRONE FIELD 02","en.synth.drone_radius_2.desc":"Greatly increases Drone radius","en.synth.drone_radius_3.title":"DRONE FIELD 03","en.synth.drone_radius_3.desc":"Vastly increases Drone radius",
"en.synth.drone_dmg_1.title":"DRONE BEAM 01","en.synth.drone_dmg_1.desc":"Increases Drone damage","en.synth.drone_dmg_2.title":"DRONE BEAM 02","en.synth.drone_dmg_2.desc":"Greatly increases Drone damage","en.synth.drone_dmg_3.title":"DRONE BEAM 03","en.synth.drone_dmg_3.desc":"Vastly increases Drone damage","en.synth.drone_targets_1.title":"DRONE SCAN 01","en.synth.drone_targets_1.desc":"Increase Drone target count","en.synth.drone_targets_2.title":"DRONE SCAN 02","en.synth.drone_targets_2.desc":"Increase Drone target count",
"en.synth.drone_targets_3.title":"DRONE SCAN 03","en.synth.drone_targets_3.desc":"Increase Drone target count","en.synth.drone_delay_1.title":"DRONE SYNC 01","en.synth.drone_delay_1.desc":"Increase Drone rate of fire","en.synth.drone_delay_2.title":"DRONE SYNC 02","en.synth.drone_delay_2.desc":"Greatly increase Drone rate of fire","en.synth.drone_delay_3.title":"DRONE SYNC 03","en.synth.drone_delay_3.desc":"Vastly increase Drone rate of fire","en.synth.drone_trojan.title":"DRONE/TROJAN","en.synth.drone_trojan.desc":"Blocks damaged by Drone may be infected with a TROJAN and become more vulnerable to damage",
"en.synth.drone_trojan_dmg_1.title":"DRONE/TROJAN DMG","en.synth.drone_trojan_dmg_1.desc":"Increase vulnerability of TROJAN blocks","en.synth.drone_trojan_dmg_2.title":"DRONE/TROJAN DMG 2","en.synth.drone_trojan_dmg_2.desc":"Greatly increase vulnerability of TROJAN blocks","en.synth.drone_trojan_dmg_3.title":"DRONE/TROJAN DMG 3","en.synth.drone_trojan_dmg_3.desc":"Vastly increase vulnerability of TROJAN blocks","en.synth.drone_trojan_exp_1.title":"DRONE/TROJAN EXP","en.synth.drone_trojan_exp_1.desc":"Increase EXP reward for TROJAN blocks",
"en.synth.drone_trojan_exp_2.title":"DRONE/TROJAN EXP 2","en.synth.drone_trojan_exp_2.desc":"Greatly increase EXP reward for TROJAN blocks","en.synth.drone_trojan_exp_3.title":"DRONE/TROJAN EXP 3","en.synth.drone_trojan_exp_3.desc":"Vastly increase EXP reward for TROJAN blocks","en.synth.drone_trojan_time_1.title":"DRONE/TROJAN TIME","en.synth.drone_trojan_time_1.desc":"Briefly halt detection when breaking TROJAN blocks","en.synth.drone_trojan_time_2.title":"DRONE/TROJAN TIME 2","en.synth.drone_trojan_time_2.desc":"Halt detection twice as long when breaking TROJAN blocks",
"en.synth.drone_aura.title":"DRONE/AURA","en.synth.drone_aura.desc":"Drone deals minor damage to all blocks in its radius","en.synth.drone_aura_dmg_1.title":"DRONE/AURA DMG","en.synth.drone_aura_dmg_1.desc":"Increase damage of Drone AURA","en.synth.drone_aura_dmg_2.title":"DRONE/AURA DMG 2","en.synth.drone_aura_dmg_2.desc":"Greatly increase damage of Drone AURA","en.synth.drone_aura_rate_1.title":"DRONE/AURA RATE","en.synth.drone_aura_rate_1.desc":"Increase rate of Drone AURA damage","en.synth.drone_aura_rate_2.title":"DRONE/AURA RATE 2",
"en.synth.drone_aura_rate_2.desc":"Greatly increase rate of Drone AURA damage","en.synth.drone_capacitor.title":"DRONE/CAPACITOR","en.synth.drone_capacitor.desc":"Drone gains charge over time. Click the charged Drone for a devastating attack.","en.synth.drone_capacitor_dmg_1.title":"DRONE/CAPACITOR DMG","en.synth.drone_capacitor_dmg_1.desc":"Increase damage of Drone CAPACITOR","en.synth.drone_capacitor_dmg_2.title":"DRONE/CAPACITOR DMG 2","en.synth.drone_capacitor_dmg_2.desc":"Greatly increase damage of Drone CAPACITOR",
"en.synth.drone_capacitor_rate_1.title":"DRONE/CAPACITOR RATE","en.synth.drone_capacitor_rate_1.desc":"Increase charge rate of Drone CAPACITOR","en.synth.drone_capacitor_rate_2.title":"DRONE/CAPACITOR RATE 2","en.synth.drone_capacitor_rate_2.desc":"Greatly increase charge rate of Drone CAPACITOR","en.synth.drone_twin.title":"DRONE/TWIN","en.synth.drone_twin.desc":"Drone is orbited by a TWIN with reduced damage and range","en.synth.drone_twin_aura.title":"DRONE/TWIN AURA","en.synth.drone_twin_aura.desc":"Drone's AURA effect is shared with the TWIN",
"en.synth.drone_twin_trail.title":"DRONE/TWIN TRAIL","en.synth.drone_twin_trail.desc":"Drone's TRAIL effect is shared with the TWIN","en.synth.drone_trail.title":"DRONE/TRAIL","en.synth.drone_trail.desc":"Drone leaves a TRAIL in its wake, dealing damage each time the Drone fires","en.synth.drone_trail_dmg_1.title":"DRONE/TRAIL DMG","en.synth.drone_trail_dmg_1.desc":"Increase damage of Drone TRAIL","en.synth.drone_trail_dmg_2.title":"DRONE/TRAIL DMG 2","en.synth.drone_trail_dmg_2.desc":"Greatly increase damage of Drone TRAIL",
"en.synth.drone_trail_duration_1.title":"DRONE/TRAIL DURATION","en.synth.drone_trail_duration_1.desc":"Increase duration of Drone TRAIL","en.synth.drone_trail_duration_2.title":"DRONE/TRAIL DURATION 2","en.synth.drone_trail_duration_2.desc":"Greatly increase duration of Drone TRAIL","en.synth.little_cash.title":"LITTLE CASH","en.synth.little_cash.desc":"+1.5k MEM","en.synth.demux.title":"DEMUX","en.synth.demux.desc":"A modified energy buffer, releases a spray of bolts into the field.","en.synth.demux_dmg_1.title":"DEMUX SHAPING 01",
"en.synth.demux_dmg_1.desc":"Increase Demux damage","en.synth.demux_dmg_2.title":"DEMUX SHAPING 02","en.synth.demux_dmg_2.desc":"Greatly increase Demux damage","en.synth.demux_rate_1.title":"DEMUX ROTOR 01","en.synth.demux_rate_1.desc":"Increase Demux fire rate","en.synth.demux_rate_2.title":"DEMUX ROTOR 02","en.synth.demux_rate_2.desc":"Greatly increase Demux fire rate","en.synth.demux_ammo_1.title":"DEMUX BUFFER 01","en.synth.demux_ammo_1.desc":"Demux fires more bolts before cooldown","en.synth.demux_ammo_2.title":"DEMUX BUFFER 02",
"en.synth.demux_ammo_2.desc":"Demux fires many more bolts before cooldown","en.synth.demux_reload_1.title":"DEMUX RECOVER 01","en.synth.demux_reload_1.desc":"Reduces Demux cooldown time","en.synth.demux_reload_2.title":"DEMUX RECOVER 02","en.synth.demux_reload_2.desc":"Greatly reduces Demux cooldown time","en.synth.demux_spread_1.title":"DEMUX FOCUS 01","en.synth.demux_spread_1.desc":"Increase Demux targeting angle","en.synth.demux_spread_2.title":"DEMUX FOCUS 02","en.synth.demux_spread_2.desc":"Increase Demux targeting angle",
"en.synth.demux_data_die.title":"DEMUX/DATA DIE","en.synth.demux_data_die.desc":"Demux fires additional projectiles, dealing reduced damage. Consumes MEMORY for each bolt fired.","en.synth.demux_data_die_amt_1.title":"DEMUX/DATA DIE COUNT 01","en.synth.demux_data_die_amt_1.desc":"Increases count of additional Demux projectiles.","en.synth.demux_data_die_amt_2.title":"DEMUX/DATA DIE COUNT 02","en.synth.demux_data_die_amt_2.desc":"Greatly increases count of additional Demux projectiles.","en.synth.demux_data_die_dmg_1.title":"DEMUX/DATA DIE DMG 01",
"en.synth.demux_data_die_dmg_1.desc":"Increases damage of additional Demux projectiles.","en.synth.demux_data_die_dmg_2.title":"DEMUX DATA DIE DMG 02","en.synth.demux_data_die_dmg_2.desc":"Greatly increases damage of additional Demux projectiles.","en.synth.demux_bounce.title":"DEMUX/BOUNCE","en.synth.demux_bounce.desc":"Demux bolts bounce against the edges of the field, dealing increased damage","en.synth.demux_bounce_dmg_1.title":"DEMUX/BOUNCE DMG","en.synth.demux_bounce_dmg_1.desc":"Increase damage of bounced Demux bolts",
"en.synth.demux_bounce_dmg_2.title":"DEMUX/BOUNCE DMG 2","en.synth.demux_bounce_dmg_2.desc":"Greatly increase damage of bounced Demux bolts","en.synth.demux_bounce_angle_1.title":"DEMUX/BOUNCE ANGLE","en.synth.demux_bounce_angle_1.desc":"Increase reflection angle of bounced Demux bolts","en.synth.demux_bounce_angle_2.title":"DEMUX/BOUNCE ANGLE 2","en.synth.demux_bounce_angle_2.desc":"Greatly increase reflection angle of bounced Demux bolts","en.synth.demux_polarity_1.title":"DEMUX/POLARITY","en.synth.demux_polarity_1.desc":"Demux bolts may become POLARIZED, dealing additional damage",
"en.synth.demux_polarity_2.title":"DEMUX/POLARITY 2","en.synth.demux_polarity_2.desc":"Increase damage of POLARIZED Demux bolts","en.synth.demux_sharp_polarity.title":"DEMUX/POLARITY SHARP","en.synth.demux_sharp_polarity.desc":"POLARIZED Demux bolts pass through blocks","en.synth.demux_shrapnel.title":"DEMUX/SHRAPNEL","en.synth.demux_shrapnel.desc":"Blocks destroyed by Demux produce damaging SHRAPNEL","en.synth.demux_shrapnel_amt_1.title":"DEMUX/SHRAPNEL COUNT","en.synth.demux_shrapnel_amt_1.desc":"Increase count of SHRAPNEL projectiles",
"en.synth.demux_shrapnel_amt_2.title":"DEMUX/SHRAPNEL COUNT 2","en.synth.demux_shrapnel_amt_2.desc":"Greatly increase count of SHRAPNEL projectiles","en.synth.demux_shrapnel_dmg_1.title":"DEMUX/SHRAPNEL DMG","en.synth.demux_shrapnel_dmg_1.desc":"Increase damage of Demux SHRAPNEL","en.synth.demux_shrapnel_dmg_2.title":"DEMUX/SHRAPNEL DMG 2","en.synth.demux_shrapnel_dmg_2.desc":"Greatly increase damage of Demux SHRAPNEL","en.synth.demux_sink_1.title":"DEMUX/SINK","en.synth.demux_sink_1.desc":"During cooldown, Demux reduces SYSTEM TEMP",
"en.synth.demux_sink_2.title":"DEMUX/SINK 2","en.synth.demux_sink_2.desc":"Further reduces SYSTEM TEMP during Demux cooldown","en.synth.demux_sink_3.title":"DEMUX/SINK 3","en.synth.demux_sink_3.desc":"Greatly reduces SYSTEM TEMP during Demux cooldown","en.synth.demux_railgun.title":"DEMUX/RAILGUN","en.synth.demux_railgun.desc":"Demux expels a damaging beam during cooldown","en.synth.demux_railgun_dmg_1.title":"DEMUX/RAILGUN DMG","en.synth.demux_railgun_dmg_1.desc":"Increase damage of Demux RAILGUN",
"en.synth.demux_railgun_dmg_2.title":"DEMUX/RAILGUN DMG 2","en.synth.demux_railgun_dmg_2.desc":"Greatly increase damage of Demux RAILGUN","en.synth.demux_railgun_duration_1.title":"DEMUX/RAILGUN DURATION","en.synth.demux_railgun_duration_1.desc":"Increase duration of Demux RAILGUN","en.synth.demux_railgun_duration_2.title":"DEMUX/RAILGUN DURATION 2","en.synth.demux_railgun_duration_2.desc":"Greatly increase duration of Demux RAILGUN","en.synth.demux_railgun_double.title":"DEMUX/RAILGUN DOUBLE","en.synth.demux_railgun_double.desc":"Demux fires an additional RAILGUN beam during cooldown",
"en.synth.glitch_1.title":"^*(#*!^)","en.synth.glitch_1.desc":"","en.synth.glitch_2.title":"*!(#)$*%$#!#$","en.synth.glitch_2.desc":"","en.synth.glitch_3.title":"$*#!()Y#$!*()#$T","en.synth.glitch_3.desc":"","en.weapons.reader.title":"B. READER","en.weapons.reader.desc":"The BALLISTIC READER ricochets between\nblocks, pulling data as it goes.\n\nScales with CPU_CLOCK, UPLINK","en.weapons.plasma.title":"TUULI PLASMA","en.weapons.plasma.desc":"Floods the connection with neon gas.\nIonization extracts data from exposed\nblocks.\n\nScales with UPLINK, CORE TEMP",
"en.weapons.arc.title":"ARC SCRAPER","en.weapons.arc.desc":"An exposed line arcs across the connection,\npulling data from the nearest blocks.\n\nScales with CPU_CLOCK, UPLINK","en.weapons.demux.title":"DEMUX","en.weapons.demux.desc":"A modified energy buffer, filled until it\nreleases a spray of bolts. Every bolt is a\nharmonic of binary pulses, a fusion of raw\npower and kinetic force.\n\nScales with CPU_CLOCK, UPLINK, COOLING","en.weapons.drone.title":"DRONE","en.weapons.drone.desc":"An autonomous datamining device equipped\nwith advanced targeting and decoding\nsystems.\n\nPeriodically targets the largest blocks\nwithin its range.\n\nScales with CPU_CLOCK, SECURITY, COHERENCE",
"en.weapons.datalogger.title":"DATALOGGER","en.weapons.datalogger.desc":"30% chance to gain 1 delta when COHERENCE is upgraded.\n","en.weapons.noisemaker.title":"NOISEMAKER","en.weapons.noisemaker.desc":"50% chance to halt detection for 2 seconds when SECURITY is upgraded.\n","en.weapons.illicit_totem.title":"ILLICIT TOTEM","en.weapons.illicit_totem.desc":"Halt detection for 10 seconds when deleting any utility (including ILLICIT TOTEM).\n\nIf undetected, suppress 5 SIGTRACE instead.\n","en.weapons.davids_dagger.title":"DAVID'S DAGGER",
"en.weapons.davids_dagger.desc":"Suppress SIGTRACE by 10 for each empty utility slot.\n","en.weapons.proxy_lattice.title":"PROXY LATTICE","en.weapons.proxy_lattice.desc":"Suppress 2 SIGTRACE per level of PROXY LATTICE.\n","en.notifications.ai_installed.title":"Installed [AI Module]","en.notifications.ai_installed.body":"New utilities and upgrades can now be synthesized from EXP collected while mining.","en.notifications.thermocouple_installed.title":"Installed [Thermocouple]","en.notifications.thermocouple_installed.body":"System temperature can now be monitored while mining."}}),
Fa=R((x,z)=>{z.exports={u:{not:b=>(...a)=>!b(...a),obj:{extract:(b,a)=>Object.keys(a).reduce((e,f)=>(b(f,a[f])&&(e[f]=a[f]),e),{}),map_vals:(b,a)=>Object.keys(a).reduce((e,f)=>(e[f]=b(a[f]),e),{}),omit:(b,{[b]:a,...e})=>e,path:(b,a)=>a.split(".").reduce((e,f)=>e[f],b)},str:{starts_with:b=>a=>a.startsWith(b)},min_by:(b,a)=>{a=a.map(e=>[e,b(e)]);return a.sort((e,f)=>e[1]-f[1]),a[0][0]},max_by:(b,a)=>{if(0==a.length)return null;a=a.map(e=>[e,b(e)]);return a.sort((e,f)=>f[1]-e[1]),a[0][0]},intersection:(b,
a)=>b.filter(e=>a.includes(e)),arr_pad:(b,a,e)=>{for(;e.length<a;)e.push(b);return e},group_by:(b,a)=>a.reduce((e,f)=>{let d=b(f);return null==e[d]&&(e[d]=[]),e[d].push(f),e},{}),array_groups:(b,a)=>{let e=[],f=[];for(let d=0;d<a.length;d++)f.length<b?f.push(a[d]):(e.push(f),f=[a[d]]);return e.push(f),e},partition:(b,a)=>{let e=[],f=[];return a.forEach(d=>{b(d)?e.push(d):f.push(d)}),[e,f]},times:(b,a)=>{let e=[];for(let f=0;f<b;f++)e.push(a(f));return e},unique:b=>[...(new Set(b))]}}}),yb=R((x,z)=>
{z.exports=b=>{let a={};return b.split("\n").map(e=>e.trim()).filter(e=>0<e.length).forEach(e=>{let f=e.split("//")[0].replaceAll("--\x3e"," ").split(/\s+/);f.forEach((d,g)=>{null==a[d]&&(a[d]={id:d,in:{},out:{}});0<g&&(a[d].in[f[g-1]]=!0,a[f[g-1]].out[d]=!0)})}),Object.keys(a).forEach(e=>{a[e].in=Object.keys(a[e].in);a[e].out=Object.keys(a[e].out)}),a}}),Gb=R((x,z)=>{z.exports={nodes:[{label:"glitch",shape:"ellipse",id:0,style:"ellipse;whiteSpace=wrap;html=1;"},{label:"little_cash",shape:"box",id:1,
style:"rounded=0;whiteSpace=wrap;html=1;"},{label:"glitch_1",shape:"box",id:2,style:"rounded=0;whiteSpace=wrap;html=1;"},{label:"glitch_2",shape:"box",id:3,style:"rounded=0;whiteSpace=wrap;html=1;"},{label:"glitch_3",shape:"box",id:4,style:"rounded=0;whiteSpace=wrap;html=1;"},{label:"EXCLUDE",shape:"ellipse",id:5,style:"ellipse;whiteSpace=wrap;html=1;"},{label:"riches",shape:"ellipse",id:6,style:"ellipse;whiteSpace=wrap;html=1;"},{label:"try_again",shape:"ellipse",id:7,style:"ellipse;whiteSpace=wrap;html=1;"},
{label:"temp_time_up",shape:"hexagon",id:8,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"temp_cash_up",shape:"hexagon",id:9,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"temp_xp_up",shape:"hexagon",id:10,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"temp_arc_start",shape:"hexagon",id:11,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"temp_reader_power_start",shape:"hexagon",id:12,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"temp_read_rate_start",shape:"hexagon",id:13,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"xp_up",shape:"hexagon",id:14,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"time_up",shape:"hexagon",id:15,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"loyalty_card",shape:"hexagon",id:16,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"loyalty_card_2",shape:"hexagon",id:17,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cpu_microbyte_1",shape:"hexagon",id:18,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cpu_microbyte_2",shape:"hexagon",id:19,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"cpu_microbyte_3",shape:"hexagon",id:20,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cpu_omskoft_1",shape:"hexagon",id:21,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cpu_omskoft_2",shape:"hexagon",id:22,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cpu_omskoft_3",shape:"hexagon",id:23,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"cpu_kamakura_1",shape:"hexagon",id:24,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cpu_kamakura_2",shape:"hexagon",id:25,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cpu_kamakura_3",shape:"hexagon",id:26,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"modem_microbyte_1",shape:"hexagon",id:27,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"modem_microbyte_2",shape:"hexagon",id:28,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"modem_microbyte_3",shape:"hexagon",id:29,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"modem_esscom_1",shape:"hexagon",id:30,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"modem_esscom_2",shape:"hexagon",id:31,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"modem_esscom_3",shape:"hexagon",id:32,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"modem_brooks_1",shape:"hexagon",id:33,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"modem_brooks_2",shape:"hexagon",id:34,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"modem_brooks_3",shape:"hexagon",id:35,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"firewall_esscom_1",shape:"hexagon",id:36,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"firewall_esscom_2",shape:"hexagon",id:37,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"firewall_esscom_3",shape:"hexagon",id:38,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"firewall_starmill_1",shape:"hexagon",id:39,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"firewall_starmill_2",shape:"hexagon",id:40,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"firewall_starmill_3",shape:"hexagon",id:41,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"firewall_brooks_1",shape:"hexagon",id:42,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"firewall_brooks_2",shape:"hexagon",id:43,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"firewall_brooks_3",shape:"hexagon",id:44,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cooler_microbyte_1",shape:"hexagon",id:45,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cooler_microbyte_2",shape:"hexagon",id:46,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cooler_jetline_1",shape:"hexagon",id:47,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"cooler_jetline_2",shape:"hexagon",id:48,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cooler_jetline_3",shape:"hexagon",id:49,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cooler_vkolor_1",shape:"hexagon",id:50,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"cooler_vkolor_2",shape:"hexagon",id:51,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"cooler_vkolor_3",shape:"hexagon",id:52,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_bismuth_contraption",shape:"hexagon",id:53,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_neon_totem",shape:"hexagon",id:54,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_grounding_rings",shape:"hexagon",id:55,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"trinket_corrugated_shawl",shape:"hexagon",id:56,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_salt_circle",shape:"hexagon",id:57,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_thermal_magnets",shape:"hexagon",id:58,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_corrugated_gold_shawl",shape:"hexagon",id:59,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"trinket_mirror_pool",shape:"hexagon",id:60,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_kepler_terrarium",shape:"hexagon",id:61,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_hard_standby",shape:"hexagon",id:62,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_winding_mod",shape:"hexagon",id:63,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"trinket_warm_lines",shape:"hexagon",id:64,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_bootloader",shape:"hexagon",id:65,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_netboot",shape:"hexagon",id:66,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_eeprom",shape:"hexagon",id:67,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"trinket_lithium_film",shape:"hexagon",id:68,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_ground_loop",shape:"hexagon",id:69,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"trinket_connection_mask",shape:"hexagon",id:70,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"read_rate_start",shape:"hexagon",id:71,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"temp_plasma_start",shape:"hexagon",id:72,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"reader_power_start",shape:"hexagon",id:73,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"tuuli_records",shape:"hexagon",id:74,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"intro1",shape:"arrow",id:75,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"intro2",shape:"arrow",id:76,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ve1",shape:"arrow",id:77,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ve2",shape:"arrow",id:78,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ve3",shape:"arrow",id:79,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ve4",shape:"arrow",id:80,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"ve5",shape:"arrow",id:81,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ve6",shape:"arrow",id:82,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ve7",shape:"arrow",id:83,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ve8",shape:"arrow",id:84,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ve9",shape:"arrow",id:85,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"ve10",shape:"arrow",id:86,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"vh1",shape:"arrow",id:87,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"vh2",shape:"arrow",id:88,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"vh3",shape:"arrow",id:89,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"vh4",shape:"arrow",id:90,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"vh5",shape:"arrow",id:91,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"be1",shape:"arrow",id:92,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"be2",shape:"arrow",id:93,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"be3",shape:"arrow",id:94,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"be4",shape:"arrow",id:95,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"bh1",shape:"arrow",id:96,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"bh2",shape:"arrow",id:97,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"bh3",shape:"arrow",id:98,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"bu1",shape:"arrow",id:99,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"me1",shape:"arrow",id:100,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"me2",shape:"arrow",id:101,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"me3",shape:"arrow",id:102,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"me4",shape:"arrow",id:103,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"mh1",shape:"arrow",id:104,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"mh2",shape:"arrow",id:105,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"mh3",shape:"arrow",id:106,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"mu1",shape:"arrow",id:107,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ge1",shape:"arrow",id:108,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ge2",shape:"arrow",id:109,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ge3",shape:"arrow",id:110,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"ge4",shape:"arrow",id:111,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"gh1",shape:"arrow",id:112,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"gh2",shape:"arrow",id:113,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"gu1",shape:"arrow",id:114,style:"shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"item_glitch_1",shape:"hexagon",id:115,
style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"item_glitch_2",shape:"hexagon",id:116,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"item_glitch_3",shape:"hexagon",id:117,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"kit_capacity_1",shape:"hexagon",id:118,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"kit_capacity_2",
shape:"hexagon",id:119,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"kit_injector",shape:"hexagon",id:120,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"clock_generator",shape:"hexagon",id:121,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"xp_generator",shape:"hexagon",id:122,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:"thermocouple",shape:"hexagon",id:123,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"ai_module",shape:"hexagon",id:124,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"arc",shape:"box",id:125,style:"rounded=0;whiteSpace=wrap;html=1;"},{label:"plasma",shape:"box",id:126,style:"rounded=0;whiteSpace=wrap;html=1;"},{label:"demux",shape:"box",id:127,style:"rounded=0;whiteSpace=wrap;html=1;"},{label:"drone",
shape:"box",id:128,style:"rounded=0;whiteSpace=wrap;html=1;"},{label:"drive_as_1",shape:"hexagon",id:129,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"drive_as_2",shape:"hexagon",id:130,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"drive_as_3",shape:"hexagon",id:131,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"t1_auth_key",shape:"hexagon",id:132,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},
{label:'t3<span style="background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">_auth_key</span>',shape:"hexagon",id:133,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:"t2_auth_key",shape:"hexagon",id:134,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"},{label:'t4<span style="background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">_auth_key</span>',shape:"hexagon",
id:135,style:"shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;"}],edges:[{from:2,to:0},{from:3,to:0},{from:4,to:0},{from:5,to:1},{from:5,to:6},{from:5,to:7},{from:16,to:72},{from:16,to:14},{from:16,to:15},{from:16,to:71},{from:16,to:73},{from:16,to:17},{from:16,to:20},{from:16,to:24},{from:16,to:22},{from:16,to:29},{from:16,to:31},{from:16,to:33},{from:16,to:42},{from:16,to:37},{from:16,to:41},{from:16,to:48},{from:16,to:46},{from:16,to:50},{from:16,to:58},{from:16,to:56},
{from:16,to:57},{from:16,to:63},{from:16,to:66},{from:16,to:69},{from:16,to:130},{from:17,to:74},{from:17,to:23},{from:17,to:25},{from:17,to:32},{from:17,to:35},{from:17,to:34},{from:17,to:43},{from:17,to:38},{from:17,to:44},{from:17,to:51},{from:17,to:52},{from:17,to:49},{from:17,to:60},{from:17,to:61},{from:17,to:64},{from:17,to:67},{from:17,to:70},{from:17,to:119},{from:17,to:131},{from:76,to:77},{from:77,to:78},{from:78,to:79},{from:78,to:92},{from:79,to:80},{from:80,to:81},{from:81,to:82},{from:82,
to:83},{from:83,to:84},{from:84,to:85},{from:84,to:108},{from:85,to:86},{from:86,to:87},{from:87,to:88},{from:88,to:89},{from:89,to:90},{from:90,to:91},{from:93,to:94},{from:94,to:95},{from:95,to:96},{from:95,to:100},{from:96,to:97},{from:97,to:98},{from:98,to:99},{from:100,to:101},{from:101,to:102},{from:102,to:103},{from:103,to:104},{from:104,to:105},{from:105,to:106},{from:106,to:107},{from:108,to:109},{from:109,to:110},{from:110,to:111},{from:111,to:112},{from:112,to:113},{from:113,to:114},{from:115,
to:2},{from:116,to:3},{from:117,to:4},{from:118,to:119},{from:124,to:122},{from:16,to:133},{from:17,to:135}]}}),Hb=R((x,z)=>{z.exports={graph:{children:(b,a)=>b.edges.filter(e=>e.from==a.id).map(e=>b.nodes[e.to]),parents:(b,a)=>b.edges.filter(e=>e.to==a.id).map(e=>b.nodes[e.from]),interpret:(b,a)=>({edges:b.edges,nodes:b.nodes.map(e=>a.filter(f=>f.like(e)).reduce((f,d)=>d.means(f),e))})}}}),nb=R((x,z)=>{var {math:b}=na(),a=f=>d=>{let g=Object.keys(f).reverse().find(c=>d.firmware_hand.includes(c));
return null==g?f.none:f[g]},e=f=>{let d=a({none:1E3*Math.pow(2,7),max_cash_1:1E3*Math.pow(2,1),max_cash_2:1E3*Math.pow(2,2),max_cash_3:1E3*Math.pow(2,3),max_cash_4:1E3*Math.pow(2,4),max_cash_5:1E3*Math.pow(2,5),max_cash_6:1E3*Math.pow(2,6),max_cash_7:1E3*Math.pow(2,7),max_cash_8:1E3*Math.pow(2,8),max_cash_9:1E3*Math.pow(2,9),max_cash_10:1E3*Math.pow(2,10),max_cash_11:1E3*Math.pow(2,11)})(f);return f.max_memory_bonus+d};z.exports={stat_max_cash:e,stat_crypto_multiplier:f=>{let d=f.xp_gain_pct,g=.06*
f.system_stats.coherence,c=f.cash/e(f);f=f.item_fx_data_lens?b.lerp(0,2,c):0;return 1+d+g+f}}}),Ib=R((x,z)=>{({u:x}=Fa());var b=yb(),a=x.obj.map_vals(c=>({id:c.id,reqs:c.in}),b("\n  reader_accel_1 --\x3e reader_accel_2 --\x3e reader_accel_3\n  reader_dmg_1 --\x3e reader_dmg_2 --\x3e reader_dmg_3\n\n  reader_virus --\x3e reader_virus_dmg --\x3e reader_virus_rate\n  reader_virus --\x3e reader_virus_max_stacks --\x3e reader_virus_more_stacks\n  reader_virus_more_stacks --\x3e reader_virus_spread\n  reader_virus_rate --\x3e reader_virus_spread\n  reader_virus_spread --\x3e reader_virus_spread_2\n\n  reader_shields_1 --\x3e reader_shields_2 --\x3e reader_shields_3\n\n  reader_augment --\x3e reader_augment_odds --\x3e reader_augment_crits --\x3e reader_augment_odds_2\n  reader_augment --\x3e reader_augment_time --\x3e reader_augment_time_2\n\n  reader_short --\x3e reader_short_radius --\x3e reader_short_radius_2\n  reader_short --\x3e reader_short_dmg --\x3e reader_short_dmg_2\n\n  reader_multi --\x3e reader_multi_dmg --\x3e reader_multi_dmg_2 --\x3e reader_multi_triple\n  reader_multi --\x3e reader_multi_ghost --\x3e reader_multi_triple\n"));
Object.entries({reader_shields_1:1,reader_short:2,reader_augment:4,reader_virus:6,reader_multi:10}).forEach(([c,h])=>a[c].insight_level=h);var e=x.obj.map_vals(c=>({id:c.id,reqs:c.in}),b("\n\tarc_dmg_1 --\x3e arc_dmg_2 --\x3e arc_dmg_3\n\tarc_rate_1 --\x3e arc_rate_2 --\x3e arc_rate_3\n\n\tarc_charge --\x3e arc_charge_dmg_1 --\x3e arc_charge_dmg_2\n\tarc_charge --\x3e arc_charge_range_1 --\x3e arc_charge_range_2\n\n\tarc_ionize --\x3e arc_ionize_dmg_1 --\x3e arc_ionize_dmg_2\n\tarc_ionize --\x3e arc_ionize_odds_1 --\x3e arc_ionize_odds_2\n\tarc_ionize_odds_2 --\x3e arc_ionize_exp_1\n\tarc_ionize_dmg_2 --\x3e arc_ionize_exp_1\n\tarc_ionize_exp_1 --\x3e arc_ionize_exp_2\n\n\tarc_echo --\x3e arc_echo_dmg_1 --\x3e arc_echo_dmg_2\n\tarc_echo --\x3e arc_echo_count_1 --\x3e arc_echo_count_2\n\n\tarc_neon --\x3e arc_neon_size_1 --\x3e arc_neon_size_2\n\tarc_neon --\x3e arc_neon_odds_1 --\x3e arc_neon_odds_2\n"));
Object.entries({arc_neon:1,arc_charge:3,arc_echo:5,arc_ionize:9}).forEach(([c,h])=>e[c].insight_level=h);var f=x.obj.map_vals(c=>({id:c.id,reqs:c.in}),b("\n\tdemux_rate_1 --\x3e demux_spread_1 --\x3e demux_rate_2 --\x3e demux_spread_2\n\tdemux_dmg_1 --\x3e demux_dmg_2 --\x3e demux_ammo_1 --\x3e demux_ammo_2 --\x3e demux_reload_1 --\x3e demux_reload_2\n\n\tdemux_data_die --\x3e demux_data_die_amt_1 --\x3e demux_data_die_amt_2\n\tdemux_data_die --\x3e demux_data_die_dmg_1 --\x3e demux_data_die_dmg_2\n\n\tdemux_bounce --\x3e demux_bounce_dmg_1 --\x3e demux_bounce_dmg_2\n\tdemux_bounce --\x3e demux_bounce_angle_1 --\x3e demux_bounce_angle_2\n\n\tdemux_polarity_1 --\x3e demux_polarity_2\n\tdemux_polarity_1 --\x3e demux_sharp_polarity\n\n\tdemux_shrapnel --\x3e demux_shrapnel_amt_1 --\x3e demux_shrapnel_amt_2\n\tdemux_shrapnel --\x3e demux_shrapnel_dmg_1 --\x3e demux_shrapnel_dmg_2\n\n\tdemux_railgun --\x3e demux_railgun_dmg_1 --\x3e demux_railgun_dmg_2\n\tdemux_railgun --\x3e demux_railgun_duration_1 --\x3e demux_railgun_duration_2 --\x3e demux_railgun_double\n"));
Object.entries({demux_bounce:1,demux_polarity_1:3,demux_shrapnel:5,demux_railgun:7,demux_data_die:9}).forEach(([c,h])=>f[c].insight_level=h);var d=x.obj.map_vals(c=>({id:c.id,reqs:c.in}),b("\n\tdrone_dmg_1 --\x3e drone_dmg_2 --\x3e drone_dmg_3\n\tdrone_speed_1 --\x3e drone_delay_1 --\x3e drone_speed_2 --\x3e drone_radius_1 --\x3e drone_delay_2 --\x3e drone_radius_2 --\x3e drone_delay_3 --\x3e drone_radius_3\n\n\tdrone_targets_1 --\x3e drone_targets_2 --\x3e drone_targets_3\n\n\tdrone_trojan --\x3e drone_trojan_dmg_1 --\x3e drone_trojan_dmg_2 --\x3e drone_trojan_dmg_3\n\tdrone_trojan --\x3e drone_trojan_exp_1 --\x3e drone_trojan_exp_2 --\x3e drone_trojan_exp_3\n\tdrone_trojan_exp_2 --\x3e drone_trojan_time_1\n\tdrone_trojan_dmg_2 --\x3e drone_trojan_time_1\n\tdrone_trojan_time_1 --\x3e drone_trojan_time_2\n\n\tdrone_aura --\x3e drone_aura_dmg_1 --\x3e drone_aura_dmg_2\n\tdrone_aura --\x3e drone_aura_rate_1 --\x3e drone_aura_rate_2\n\n\tdrone_capacitor --\x3e drone_capacitor_dmg_1 --\x3e drone_capacitor_dmg_2\n\tdrone_capacitor --\x3e drone_capacitor_rate_1 --\x3e drone_capacitor_rate_2\n\n\tdrone_twin --\x3e drone_twin_aura\n\tdrone_twin --\x3e drone_twin_trail\n\tdrone_aura --\x3e drone_twin_aura\n\tdrone_trail --\x3e drone_twin_trail\n\n\tdrone_trail --\x3e drone_trail_dmg_1\n\tdrone_trail --\x3e drone_trail_duration_1\n\tdrone_trail_dmg_1 --\x3e drone_trail_dmg_2\n\tdrone_trail_duration_1 --\x3e drone_trail_duration_2\n"));
Object.entries({drone_targets_1:1,drone_trojan:2,drone_twin:4,drone_capacitor:6,drone_trail:8,drone_aura:10}).forEach(([c,h])=>d[c].insight_level=h);var g=x.obj.map_vals(c=>({id:c.id,reqs:c.in}),b("\n\tplasma_dmg_1 --\x3e plasma_dmg_2\n"));Object.entries({}).forEach(([c,h])=>g[c].insight_level=h);z.exports={reader:a,arc:e,demux:f,drone:d,plasma:g}}),wb=R((x,z)=>{window.metrics={};var b=window.metrics;z.exports={metrics:{count:a=>b[a]=(b[a]||0)+1,gauge:(a,e)=>b[a]=e,time:(a,e)=>{let f=performance.now();
e=e();return b[a]=performance.now()-f,e},get:a=>b[a],avg_1000:(a,e)=>{let f=`${a}_buffer`,d=`${a}_counter`;null==b[f]&&(b[f]=Array(1E3).fill(0),b[d]=0);b[f][b[d]]=e;b[d]=(b[d]+1)%1E3;e=b[f].reduce((g,c)=>g+c,0);b[a]=e/1E3}}}}),ob=R((x,z)=>{wb();x=(b=>{let a=new Map;return{fetch:(e,f)=>{if(a.has(e))return f=a.get(e),a.delete(e),a.set(e,f),f;f=f();return a.set(e,f),a.size==b&&a.delete(a.keys().next().value),f}}})(1E4);z.exports={lru_cache:x}}),zb=R((x,z)=>{var b=Na(),a={reader:{scales_with:["cpu_speed",
"bandwidth"],seed:1},plasma:{scales_with:["bandwidth"],seed:2},arc:{scales_with:["cpu_speed","bandwidth"],seed:3},demux:{scales_with:["cpu_speed","bandwidth","cooling"],seed:4},drone:{scales_with:["cpu_speed","security","coherence"],seed:5},datalogger:{scales_with:[],seed:6},noisemaker:{scales_with:[],seed:7},illicit_totem:{scales_with:[],seed:8},davids_dagger:{scales_with:[],seed:9},proxy_lattice:{scales_with:[],seed:10}};Object.keys(a).forEach(e=>{a[e].title=b[`en.weapons.${e}.title`];a[e].desc=
b[`en.weapons.${e}.desc`]});z.exports={weapon_metadata:a}}),Ab=R((x,z)=>{z.exports={tree:{image:"assets/gfx/terminal/backgrounds/tree.png",title:"Perseverance",author:"DATA CO"},matulka:{image:"assets/gfx/terminal/backgrounds/matulka.png",title:"Occupied",author:""},dragon_bowl_cereal:{image:"assets/gfx/terminal/backgrounds/dragon_bowl_cereal.png",title:"Dragon Bowl (Cereal)",author:"@wolfdancer"},dragon_bowl_mac:{image:"assets/gfx/terminal/backgrounds/dragon_bowl_mac.png",title:"Dragon Bowl (Mac & Cheese)",
author:"@wolfdancer"},dragon_bowl_ramen:{image:"assets/gfx/terminal/backgrounds/dragon_bowl_ramen.png",title:"Dragon Bowl (Ramen)",author:"@wolfdancer"},dragon_bowl_shrimp:{image:"assets/gfx/terminal/backgrounds/dragon_bowl_shrimp.png",title:"Dragon Bowl (Shrimp)",author:"@wolfdancer"},dragon_bowl_sundae:{image:"assets/gfx/terminal/backgrounds/dragon_bowl_sundae.png",title:"Dragon Bowl (Sundae)",author:"@wolfdancer"},dragon_bowl_veggies:{image:"assets/gfx/terminal/backgrounds/dragon_bowl_veggies.png",
title:"Dragon Bowl (Veggies)",author:"@wolfdancer"},forest_spring:{image:"assets/gfx/terminal/backgrounds/forest_spring.png",title:"Forest (Spring)",author:"@lizardculture"},forest_winter:{image:"assets/gfx/terminal/backgrounds/forest_winter.png",title:"Forest (Winter)",author:"@lizardculture"},in_the_city:{image:"assets/gfx/terminal/backgrounds/in_the_city.png",title:"White night in the city",author:"Mr_Dostoevsky (Maksim Dostoevsky)"},light_and_leaves:{image:"assets/gfx/terminal/backgrounds/light_and_leaves.png",
title:"Photosynthesis",author:"@wolfdancer"},moku:{image:"assets/gfx/terminal/backgrounds/moku.png",title:"Moku's fursona",author:"Mokubarusia"},monstera:{image:"assets/gfx/terminal/backgrounds/monstera.png",title:"Monstera",author:"@wolfdancer"},on_a_limb:{image:"assets/gfx/terminal/backgrounds/on_a_limb.png",title:"On a Limb",author:"@wolfdancer"},synthwave:{image:"assets/gfx/terminal/backgrounds/synthwave.png",title:"Synthwave",author:"@wolfdancer"},werewolf:{image:"assets/gfx/terminal/backgrounds/werewolf.png",
title:"Werewolf",author:"@wolfdancer"},date_night:{image:"assets/gfx/terminal/backgrounds/date_night.png",title:"Date Night",author:"@lizardculture"},fetch_quest_level1:{image:"assets/gfx/terminal/backgrounds/fetch_quest_level1.png",title:"Fetch Quest: Lvl 1",author:"@lizardculture"},fetch_quest_level2:{image:"assets/gfx/terminal/backgrounds/fetch_quest_level2.png",title:"Fetch Quest: Lvl 2",author:"@lizardculture"},fetch_quest_level3:{image:"assets/gfx/terminal/backgrounds/fetch_quest_level3.png",
title:"Fetch Quest: Lvl 3",author:"@lizardculture"},sensory_overload:{image:"assets/gfx/terminal/backgrounds/sensory_overload.png",title:"Sensory Overload",author:"@lizardculture"},threads:{image:"assets/gfx/terminal/backgrounds/threads.png",title:"Threads",author:"@lizardculture"},the_koi_wave:{image:"assets/gfx/terminal/backgrounds/the_koi_wave.png",title:"The Koi Wave",author:"@lizardculture"},mushroom_planet:{image:"assets/gfx/terminal/backgrounds/mushroom_planet.png",title:"Mushroom Planet",
author:"@lizardculture"}}}),Ta=R((x,z)=>{var {math:b}=na();x=ra();var {lru_cache:a}=ob(),{weapon_metadata:e}=zb(),f=Ab(),d=v=>b.quantize(217*Math.pow(v,1/.33),10),g=v=>{if(0==v||null==v||null==v)return 0;for(let w=0;1E3>w;w++)if(d(w)<=v&&d(w+1)>v)return w;return 1E3},c=(v,w)=>{let t=[],q={dmg_pct:l=>b.lerp(.02,.05,l),rate_pct:l=>b.lerp(.02,.05,l)};v=Math.floor(g(v));w=b.seeded_rand(w);for(let l=0;l<v;l++){let r=b.array_sample(1E3*w(),[1,2]),A=b.array_sample_n(1E3*w(),Object.keys(q),r);for(let y=0;y<
r;y++){let C=A[y];t.push({stat:C,val:q[C](w())})}}return t},h=(v,w)=>{v=Math.floor(v);return a.fetch(`${v}/${w}`,()=>c(v,w))},n=(v,w)=>{let t=[],q={dmg_pct:l=>b.lerp(.02,.06,l),starting_mem:l=>b.lerp(200,500,l),bonus_exp_pct:l=>b.lerp(.01,.03,l),detection_delay_sec:l=>b.lerp(2,4,l),detection_resist_pct:l=>b.lerp(.01,.03,l)};v=Math.floor(g(v));w=b.seeded_rand(w);for(let l=0;l<v;l++){let r=b.array_sample(1E3*w(),[1,2]),A=b.array_sample_n(1E3*w(),Object.keys(q),r);for(let y=0;y<r;y++){let C=A[y];t.push({stat:C,
val:q[C](w())})}}return t},p=v=>{v=v.props[v.props_by_id.terminal].state;return Math.floor(v.uptime/60/2+v.depth/4)};x.on("changed/mode_connection/to_disconnected",(v,w)=>{w=v.props[v.props_by_id.terminal].state;let t=w.scenes.desktop,q={dragon_bowl_cereal:["dragon_bowl_mac"],dragon_bowl_mac:["dragon_bowl_shrimp"],dragon_bowl_ramen:[],dragon_bowl_shrimp:["dragon_bowl_veggies"],dragon_bowl_sundae:["dragon_bowl_cereal"],dragon_bowl_veggies:["dragon_bowl_ramen"],forest_spring:[],forest_winter:["forest_spring"],
in_the_city:[],light_and_leaves:[],moku:[],monstera:[],on_a_limb:[],synthwave:[],werewolf:[],date_night:[],fetch_quest_level1:[],fetch_quest_level2:["fetch_quest_level1"],fetch_quest_level3:["fetch_quest_level2"],sensory_overload:["date_night"],threads:[],the_koi_wave:[],mushroom_planet:[],matulka:["n/a"]},l=Object.keys(f).filter(A=>!t.bg_options.includes(A)).filter(A=>q[A].every(y=>t.bg_options.includes(y))),r=w.uptime/60/60;0<l.length&&20<r?w.bg_reward=b.array_sample(v.ticks,l):w.bg_reward=null;
v.insight_rewards={[v.run_server]:p(v),reader:Math.floor((v.run_dmg.reader||0)/20*1.3),arc:Math.floor((v.run_dmg.arc||0)/20*1.3),plasma:Math.floor((v.run_dmg.plasma||0)/20*1.3),drone:Math.floor((v.run_dmg.drone||0)/20*1.3),demux:Math.floor((v.run_dmg.demux||0)/20*1.3)}});var m=(v,w)=>{let t=Math.floor(g(v)),q=[];for(;v<w;){let l=Math.floor(d(t+1));q.push([v,Math.min(w,l)]);t+=1;v=l}return q};z.exports={level_to_insight:d,insight_to_level:g,server_insight_buffs:(v,w)=>{v=Math.floor(v);return a.fetch(`${v}/${w}`,
()=>n(v,w))},split_insight_rewards:v=>v.flatMap(w=>{let t=Math.floor(w.current);return m(t,t+Math.floor(w.reward)).map(q=>({id:w.id,current:q[0],reward:q[1]-q[0]})).flatMap(q=>[{id:w.id,type:"level"},q]).slice(1)}),server_buff_to_str:v=>({dmg_pct:w=>`SERVER EXPLOIT: +${(100*w.val).toFixed(1)}% DMG BONUS`,starting_mem:w=>`SERVER EXPLOIT: +${Math.floor(w.val)} STARTING MEMORY`,bonus_exp_pct:w=>`SERVER EXPLOIT: +${(100*w.val).toFixed(1)}% EXP BONUS`,detection_delay_sec:w=>`SERVER EXPLOIT: +${w.val.toFixed(1)}sec DETECTION DELAY`,
detection_resist_pct:w=>`SERVER EXPLOIT: +${(100*w.val).toFixed(1)}% DETECTION SLOWDOWN`})[v.stat](v),utility_insight_buffs:h,utility_buff_to_str:v=>({dmg_pct:w=>`+${(100*w.val).toFixed(1)}% DAMAGE`,rate_pct:w=>`+${(100*w.val).toFixed(1)}% RATE`})[v.stat](v),get_utility_buff:v=>(w,t)=>h(w.insight[v]||0,e[v].seed).filter(q=>q.stat==t).map(q=>q.val).reduce((q,l)=>q+l,0)}}),Xa=R((x,z)=>{var {math:b}=na(),{u:a}=Fa(),e=yb();x=Gb();var {graph:f}=Hb(),d=Na(),{stat_max_cash:g}=nb(),c=ra(),h=Ib(),{insight_to_level:n}=
Ta(),p=Object.values(h).map(Object.values).flat().reduce((B,J)=>(B[J.id]=J,B),{}),m=a.obj.map_vals(B=>({id:B.id,reqs:B.in}),e("\n  homebrew_1 --\x3e homebrew_2\n  accelerationist_1 --\x3e accelerationist_2\n  cybernetics_1 --\x3e cybernetics_2\n  expansion_1 --\x3e expansion_2\n  datalogger\n  noisemaker\n  illicit_totem\n  davids_dagger\n  proxy_lattice --\x3e proxy_node_1 --\x3e proxy_node_2 --\x3e proxy_node_3 --\x3e proxy_node_4 --\x3e proxy_node_5 --\x3e proxy_node_6\n  proxy_lattice --\x3e proxy_repeater_1 --\x3e proxy_repeater_2 --\x3e proxy_repeater_3\n"));
a="homebrew_1 accelerationist_1 cybernetics_1 expansion_1 datalogger noisemaker illicit_totem davids_dagger proxy_lattice".split(" ").reduce((B,J)=>({...B,[J]:"m/"+J}),{});Object.entries(a).forEach(([B,J])=>m[B].flag=J);c.on("before_run_starts",B=>{B.drop_weights={}});c.on("got_synth/homebrew_1",B=>{B.drop_weights.homebrew_1={match:{type:"system_upgrade"},factor:2}});c.on("got_synth/homebrew_2",B=>{B.drop_weights.homebrew_2={match:{type:"system_upgrade"},factor:2}});c.on("got_synth/accelerationist_1",
B=>{B.drop_weights.accelerationist_1={match:{type:"utility"},factor:2}});c.on("got_synth/accelerationist_2",B=>{B.drop_weights.accelerationist_2={match:{type:"utility"},factor:2}});c.on("got_synth/cybernetics_1",B=>{B.drop_weights.cybernetics_1={match:{type:"utility_upgrade"},factor:2}});c.on("got_synth/cybernetics_2",B=>{B.drop_weights.cybernetics_2={match:{type:"utility_upgrade"},factor:2}});c.on("got_synth/expansion_1",B=>{B.utility_slots+=1});c.on("got_synth/expansion_2",B=>{B.utility_slots+=
1});var v=(B,J)=>{B.props[B.props_by_id.terminal].state.active_weapons.push(J);c.emit(B,"got_utility",{id:J})},w=(B,J)=>B.props[B.props_by_id.terminal].state.active_weapons.includes(J);c.on("got_synth/datalogger",B=>{v(B,"datalogger")});c.on("stat_upgraded",(B,{stat:J})=>{"coherence"==J&&w(B,"datalogger")&&.3>b.seeded_rand(B.ticks)()&&(B.currency_delta+=1)});c.on("got_synth/noisemaker",B=>{v(B,"noisemaker")});c.on("stat_upgraded",(B,{stat:J})=>{"security"==J&&"tracing"==B.detection_mode&&w(B,"noisemaker")&&
.5>b.seeded_rand(B.ticks)()&&(B.detection_pause+=300)});c.on("got_synth/illicit_totem",B=>{v(B,"illicit_totem")});c.on("deleted_utility",B=>{w(B,"illicit_totem")&&("tracing"==B.detection_mode?B.detection_pause+=600:B.sigtrace_suppression_parts.illicit_totem=(B.sigtrace_suppression_parts.illicit_totem||0)+5)});var t=B=>B.utility_slots-B.props[B.props_by_id.terminal].state.active_weapons.length;c.on("got_synth/davids_dagger",B=>{v(B,"davids_dagger");B.sigtrace_suppression_parts.davids_dagger=10*t(B)});
c.on("got_utility",B=>{w(B,"davids_dagger")&&(B.sigtrace_suppression_parts.davids_dagger=10*t(B))});c.on("after_got_synth",B=>{w(B,"davids_dagger")&&(B.sigtrace_suppression_parts.davids_dagger=10*t(B))});c.on("deleted_utility",(B,{id:J})=>{w(B,"davids_dagger")&&("davids_dagger"==J?B.sigtrace_suppression_parts.davids_dagger=0:B.sigtrace_suppression_parts.davids_dagger=10*t(B))});var q=B=>{B=B.props[B.props_by_id.terminal].state;let J=B.firmware_hand.filter(I=>"proxy_lattice"==y[I].weapon).length,F=
3;return B.firmware_hand.includes("proxy_repeater_3")?F=6:B.firmware_hand.includes("proxy_repeater_2")?F=5:B.firmware_hand.includes("proxy_repeater_1")&&(F=4),J*F};c.on("got_synth/proxy_lattice",B=>{v(B,"proxy_lattice");B.sigtrace_suppression_parts.proxy_lattice=q(B)});c.on("got_synth",B=>{w(B,"proxy_lattice")&&(B.sigtrace_suppression_parts.proxy_lattice=q(B))});c.on("deleted_utility",(B,{id:J})=>{"proxy_lattice"==J&&(B.sigtrace_suppression_parts.proxy_lattice=0)});var l=f.interpret(x,[{like:B=>"ellipse"==
B.shape,means:B=>({...B,type:"prestige"})},{like:B=>"box"==B.shape,means:B=>({...B,type:"firmware"})},{like:B=>"hexagon"==B.shape,means:B=>({...B,type:"item"})}]),r=l.nodes.reduce((B,J)=>(B[J.label]=J,B),{});r.plasma.flag="m/plasma";r.drone.flag="m/drone";var A=B=>(J,F)=>{({remove_from_hand:()=>{let I=J.indexOf(B[1]);-1<I&&(J=J.splice(I,1))},all:()=>{B[1].forEach(I=>A(I)(J,F))},give_memory:()=>{let I=B[1],G=g(F);F.cash=Math.min(F.cash+I,G)},give_weapon:()=>{F.active_weapons.push(B[1])}})[B[0]]()},
y={homebrew_1:{type:"system_upgrade",cost:3},homebrew_2:{type:"system_upgrade",cost:3},accelerationist_1:{type:"system_upgrade",cost:3},accelerationist_2:{type:"system_upgrade",cost:3},cybernetics_1:{type:"system_upgrade",cost:3},cybernetics_2:{type:"system_upgrade",cost:3},expansion_1:{type:"system_upgrade",cost:4},expansion_2:{type:"system_upgrade",cost:4},datalogger:{type:"utility",cost:4},noisemaker:{type:"utility",cost:4},illicit_totem:{type:"utility",cost:2},davids_dagger:{type:"utility",cost:3},
proxy_lattice:{type:"utility",cost:2},proxy_node_1:{type:"utility_upgrade",weapon:"proxy_lattice",cost:1},proxy_node_2:{type:"utility_upgrade",weapon:"proxy_lattice",cost:1},proxy_node_3:{type:"utility_upgrade",weapon:"proxy_lattice",cost:1},proxy_node_4:{type:"utility_upgrade",weapon:"proxy_lattice",cost:1},proxy_node_5:{type:"utility_upgrade",weapon:"proxy_lattice",cost:1},proxy_node_6:{type:"utility_upgrade",weapon:"proxy_lattice",cost:1},proxy_repeater_1:{type:"utility_upgrade",weapon:"proxy_lattice",
cost:2},proxy_repeater_2:{type:"utility_upgrade",weapon:"proxy_lattice",cost:2},proxy_repeater_3:{type:"utility_upgrade",weapon:"proxy_lattice",cost:2},reader:{on_take:["give_weapon","reader"],type:"utility",cost:3},reader_accel_1:{weapon:"reader",type:"utility_upgrade",cost:2},reader_accel_2:{weapon:"reader",type:"utility_upgrade",cost:2},reader_accel_3:{weapon:"reader",type:"utility_upgrade",cost:2},reader_dmg_1:{weapon:"reader",type:"utility_upgrade",cost:2},reader_dmg_2:{weapon:"reader",type:"utility_upgrade",
cost:2},reader_dmg_3:{weapon:"reader",type:"utility_upgrade",cost:2},reader_virus:{weapon:"reader",type:"utility_upgrade",cost:2},reader_virus_max_stacks:{weapon:"reader",type:"utility_upgrade",cost:2},reader_virus_dmg:{weapon:"reader",type:"utility_upgrade",cost:2},reader_virus_more_stacks:{weapon:"reader",type:"utility_upgrade",cost:2},reader_virus_rate:{weapon:"reader",type:"utility_upgrade",cost:2},reader_virus_spread:{weapon:"reader",type:"utility_upgrade",cost:2},reader_virus_spread_2:{weapon:"reader",
type:"utility_upgrade",cost:2},reader_shields_1:{weapon:"reader",type:"utility_upgrade",cost:2},reader_shields_2:{weapon:"reader",type:"utility_upgrade",cost:2},reader_shields_3:{weapon:"reader",type:"utility_upgrade",cost:2},reader_augment:{weapon:"reader",type:"utility_upgrade",cost:2},reader_augment_crits:{weapon:"reader",type:"utility_upgrade",cost:2},reader_augment_odds:{weapon:"reader",type:"utility_upgrade",cost:2},reader_augment_odds_2:{weapon:"reader",type:"utility_upgrade",cost:2},reader_augment_time:{weapon:"reader",
type:"utility_upgrade",cost:2},reader_augment_time_2:{weapon:"reader",type:"utility_upgrade",cost:2},reader_short:{weapon:"reader",type:"utility_upgrade",cost:2},reader_short_radius:{weapon:"reader",type:"utility_upgrade",cost:2},reader_short_radius_2:{weapon:"reader",type:"utility_upgrade",cost:2},reader_short_dmg:{weapon:"reader",type:"utility_upgrade",cost:2},reader_short_dmg_2:{weapon:"reader",type:"utility_upgrade",cost:2},reader_multi:{weapon:"reader",type:"utility_upgrade",cost:2},reader_multi_dmg:{weapon:"reader",
type:"utility_upgrade",cost:2},reader_multi_dmg_2:{weapon:"reader",type:"utility_upgrade",cost:2},reader_multi_ghost:{weapon:"reader",type:"utility_upgrade",cost:2},reader_multi_triple:{weapon:"reader",type:"utility_upgrade",cost:2},arc:{on_take:["give_weapon","arc"],type:"utility",cost:3},arc_dmg_1:{weapon:"arc",type:"utility_upgrade",cost:2},arc_dmg_2:{weapon:"arc",type:"utility_upgrade",cost:2},arc_dmg_3:{weapon:"arc",type:"utility_upgrade",cost:2},arc_rate_1:{weapon:"arc",type:"utility_upgrade",
cost:2},arc_rate_2:{weapon:"arc",type:"utility_upgrade",cost:2},arc_rate_3:{weapon:"arc",type:"utility_upgrade",cost:2},arc_charge:{weapon:"arc",type:"utility_upgrade",cost:2},arc_charge_range_1:{weapon:"arc",type:"utility_upgrade",cost:2},arc_charge_range_2:{weapon:"arc",type:"utility_upgrade",cost:2},arc_charge_dmg_1:{weapon:"arc",type:"utility_upgrade",cost:2},arc_charge_dmg_2:{weapon:"arc",type:"utility_upgrade",cost:2},arc_ionize:{weapon:"arc",type:"utility_upgrade",cost:2},arc_ionize_dmg_1:{weapon:"arc",
type:"utility_upgrade",cost:2},arc_ionize_dmg_2:{weapon:"arc",type:"utility_upgrade",cost:2},arc_ionize_odds_1:{weapon:"arc",type:"utility_upgrade",cost:2},arc_ionize_odds_2:{weapon:"arc",type:"utility_upgrade",cost:2},arc_ionize_exp_1:{weapon:"arc",type:"utility_upgrade",cost:2},arc_ionize_exp_2:{weapon:"arc",type:"utility_upgrade",cost:2},arc_echo:{weapon:"arc",type:"utility_upgrade",cost:2},arc_echo_dmg_1:{weapon:"arc",type:"utility_upgrade",cost:2},arc_echo_dmg_2:{weapon:"arc",type:"utility_upgrade",
cost:2},arc_echo_count_1:{weapon:"arc",type:"utility_upgrade",cost:2},arc_echo_count_2:{weapon:"arc",type:"utility_upgrade",cost:2},arc_neon:{weapon:"arc",type:"utility_upgrade",cost:2},arc_neon_size_1:{weapon:"arc",type:"utility_upgrade",cost:2},arc_neon_size_2:{weapon:"arc",type:"utility_upgrade",cost:2},arc_neon_odds_1:{weapon:"arc",type:"utility_upgrade",cost:2},arc_neon_odds_2:{weapon:"arc",type:"utility_upgrade",cost:2},plasma:{on_take:["give_weapon","plasma"],type:"utility",cost:3},plasma_dmg_1:{weapon:"plasma",
type:"utility_upgrade",cost:2},plasma_dmg_2:{weapon:"plasma",type:"utility_upgrade",cost:2},drone:{on_take:["give_weapon","drone"],type:"utility",cost:3},drone_speed_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_speed_2:{weapon:"drone",type:"utility_upgrade",cost:2},drone_radius_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_radius_2:{weapon:"drone",type:"utility_upgrade",cost:2},drone_radius_3:{weapon:"drone",type:"utility_upgrade",cost:2},drone_dmg_1:{weapon:"drone",type:"utility_upgrade",
cost:2},drone_dmg_2:{weapon:"drone",type:"utility_upgrade",cost:2},drone_dmg_3:{weapon:"drone",type:"utility_upgrade",cost:2},drone_targets_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_targets_2:{weapon:"drone",type:"utility_upgrade",cost:2},drone_targets_3:{weapon:"drone",type:"utility_upgrade",cost:2},drone_delay_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_delay_2:{weapon:"drone",type:"utility_upgrade",cost:2},drone_delay_3:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trojan:{weapon:"drone",
type:"utility_upgrade",cost:2},drone_trojan_dmg_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trojan_dmg_2:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trojan_dmg_3:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trojan_exp_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trojan_exp_2:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trojan_exp_3:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trojan_time_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trojan_time_2:{weapon:"drone",
type:"utility_upgrade",cost:2},drone_aura:{weapon:"drone",type:"utility_upgrade",cost:2},drone_aura_dmg_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_aura_dmg_2:{weapon:"drone",type:"utility_upgrade",cost:2},drone_aura_rate_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_aura_rate_2:{weapon:"drone",type:"utility_upgrade",cost:2},drone_capacitor:{weapon:"drone",type:"utility_upgrade",cost:2},drone_capacitor_dmg_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_capacitor_dmg_2:{weapon:"drone",
type:"utility_upgrade",cost:2},drone_capacitor_rate_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_capacitor_rate_2:{weapon:"drone",type:"utility_upgrade",cost:2},drone_twin:{weapon:"drone",type:"utility_upgrade",cost:2},drone_twin_aura:{weapon:"drone",type:"utility_upgrade",cost:2},drone_twin_trail:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trail:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trail_dmg_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trail_dmg_2:{weapon:"drone",
type:"utility_upgrade",cost:2},drone_trail_duration_1:{weapon:"drone",type:"utility_upgrade",cost:2},drone_trail_duration_2:{weapon:"drone",type:"utility_upgrade",cost:2},demux:{on_take:["give_weapon","demux"],type:"utility",cost:3},demux_dmg_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_dmg_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_rate_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_rate_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_ammo_1:{weapon:"demux",type:"utility_upgrade",
cost:2},demux_ammo_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_reload_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_reload_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_spread_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_spread_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_data_die:{weapon:"demux",type:"utility_upgrade",cost:2},demux_data_die_amt_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_data_die_amt_2:{weapon:"demux",type:"utility_upgrade",
cost:2},demux_data_die_dmg_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_data_die_dmg_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_bounce:{weapon:"demux",type:"utility_upgrade",cost:2},demux_bounce_dmg_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_bounce_dmg_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_bounce_angle_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_bounce_angle_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_polarity_1:{weapon:"demux",
type:"utility_upgrade",cost:2},demux_polarity_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_sharp_polarity:{weapon:"demux",type:"utility_upgrade",cost:2},demux_shrapnel:{weapon:"demux",type:"utility_upgrade",cost:2},demux_shrapnel_amt_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_shrapnel_amt_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_shrapnel_dmg_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_shrapnel_dmg_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_railgun:{weapon:"demux",
type:"utility_upgrade",cost:2},demux_railgun_dmg_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_railgun_dmg_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_railgun_duration_1:{weapon:"demux",type:"utility_upgrade",cost:2},demux_railgun_duration_2:{weapon:"demux",type:"utility_upgrade",cost:2},demux_railgun_double:{weapon:"demux",type:"utility_upgrade",cost:2},glitch_1:{unlock:!0,glitched:!0,top_text:"operator",bottom_text:"must choose",core_cols:[1,.3,.3],cost:0},glitch_2:{glitched:!0,
top_text:"hurry up",bottom_text:"slowpoke",core_cols:[1,1,.3],cost:0},glitch_3:{label:"$*#!()Y#$!*()#$T",desc:"",glitched:!0,top_text:"a brighter",bottom_text:"tomorrow",core_cols:[1,1,1],cost:0},little_cash:{cost:1,on_take:["all",[["give_memory",1500],["remove_from_hand","little_cash"]]]}};Object.keys(y).forEach(B=>{y[B].label=d[`en.synth.${B}.title`];y[B].desc=d[`en.synth.${B}.desc`];y[B].flavor=d[`en.synth.${B}.flavor`];y[B].id=B});var C={utility:1,system_upgrade:2,utility_upgrade:3};z.exports=
{firmware_info:B=>y[B],take_firmware:(B,J)=>{let F=J.props[J.props_by_id.terminal].state;F.firmware_hand.includes(B)||(F.firmware_hand.push(B),y[B].on_take&&A(y[B].on_take)(F.firmware_hand,F),c.emit(J,"got_synth",{id:B}),c.emit(J,`got_synth/${B}`,{}),c.emit(J,"after_got_synth",{id:B}),c.emit(J,`after_got_synth/${B}`,{}))},has_firmware:(B,J)=>J.firmware_hand.includes(B),firmware_draw:(B,J,F,I)=>{let G=D=>{let L=y[D];return Object.values(I).filter(M=>null!=M).filter(M=>Object.entries(M.match).every(([X,
ea])=>L[X]==ea)).reduce((M,X)=>M*X.factor,C[L.type])},O=J.map(D=>[G(D),D]);F=b.array_weighted_sample_n(B,O,F);let P=J.filter(D=>"system_upgrade"==y[D].type);.2>b.seeded_rand(B)()&&!F.some(D=>P.includes(D))&&(B=b.array_sample(2*B,P))&&(F[0]=B);return F},firmware_pool:(B,J,F,I)=>{let G=B.reduce((D,L)=>(D[L]=!0,D),{}),O=J.reduce((D,L)=>(D[L]=!0,D),{}),P=D=>"item"==D.type?O[D.label]:G[D.label];B=Object.keys(y).filter(D=>{if(G[D])return!1;var L=r[D],M=p[D],X=m[D];if(L)return M=f.parents(l,L),X=L.flag?
I[L.flag]:!0,M.every(P)&&X;if(M)return D=D.split("_")[0],X=void 0!==G[D],L=M.reqs.every(ea=>P({label:ea})),D=(n(F[D])||0)>=(M.insight_level||0),M=M.flag?I[M.flag]:!0,X&&L&&D&&M;if(X)return M=X.reqs.every(ea=>P({label:ea})),L=Object.values(F).map(n).reduce((ea,V)=>ea+V,0)>=(X.insight_level||0),X=X.flag?I[X.flag]:!0,M&&L&&X});return 3>B.length&&B.push("little_cash"),B},firmware:y}}),Yb=R((x,z)=>{z.exports={"B612 Mono":{"Bold Italic":{render_px:64,padding:8,units_per_em:2E3,font_family:"B612 Mono",font_subfamily:"Bold Italic",
ascender:1930,descender:-500,glyph_metrics:{32:[0,0,1300],33:[230.23076923076923,-17,1300],34:[295,1013,1300],35:[1,-17,1300],36:[53,-190,1300],37:[37,-16,1300],38:[42.18918918918919,-17,1300],39:[213,1068,1300],40:[229.42857142857142,-420,1300],41:[201,-420,1300],42:[241,654,1300],43:[169,100,1300],44:[128,-365,1300],45:[300,400,1300],46:[99.34285714285714,-17,1300],47:[0,-100,1300],48:[71.48529411764706,-16,1300],49:[217,0,1300],50:[49,0,1300],51:[82,0,1300],52:[96,0,1300],53:[85,0,1300],54:[96.34482758620689,
-17,1300],55:[114,0,1300],56:[78.07920792079209,-17,1300],57:[103.701171875,-17,1300],58:[133.9375,-17,1300],59:[167,-365,1300],60:[83,34,1300],61:[195,181,1300],62:[80,34,1300],63:[168,-17,1300],64:[-5.7272727272727275,-382,1300],65:[35,0,1300],66:[63,0,1300],67:[33.590909090909086,-17,1300],68:[2,0,1300],69:[39,0,1300],70:[32,0,1300],71:[30.835051546391753,-17,1300],72:[10,0,1300],73:[75,0,1300],74:[50,-17,1300],75:[8,0,1300],76:[104,0,1300],77:[5,0,1300],78:[5,0,1300],79:[32,-17,1300],80:[28,0,
1300],81:[31.380859375,-180,1300],82:[61,0,1300],83:[39,-17,1300],84:[68,0,1300],85:[47.11475409836065,-17,1300],86:[17,-17,1300],87:[30,0,1300],88:[30,0,1300],89:[50,0,1300],90:[30,0,1300],91:[135,-398,1300],92:[287,-100,1300],93:[147,-398,1300],94:[43,866,1300],95:[67,-455,1300],96:[658,1200,1300],97:[139.47368421052633,-16.285714285714285,1300],98:[100,-17,1300],99:[96.826171875,-17,1300],100:[66.24000000000001,-17,1300],101:[89.87341772151899,-16,1300],102:[16,-429.58064516129036,1300],103:[58,
-517,1300],104:[92,0,1300],105:[212,-17,1300],106:[112,-517,1300],107:[103,0,1300],108:[287,-17,1300],109:[-28,0,1300],110:[95,0,1300],111:[100.74418604651163,-17,1300],112:[37,-500,1300],113:[84,-500,1300],114:[66,0,1300],115:[96,-17,1300],116:[130,-17,1300],117:[94.42553191489361,-17,1300],118:[129,-17,1300],119:[79,0,1300],120:[-1,0,1300],121:[-26,-480,1300],122:[127,0,1300],123:[134,-420,1300],124:[316,-380,1300],125:[92,-420,1300],126:[0,400,1300]},kerning_pairs:{}},Bold:{render_px:64,padding:8,
units_per_em:2E3,font_family:"B612 Mono",font_subfamily:"Bold",ascender:1930,descender:-500,glyph_metrics:{32:[0,0,1300],33:[338,-17,1300],34:[315,1013,1300],35:[38,-17,1300],36:[117,-190,1300],37:[54,-16,1300],38:[41,-17,1300],39:[220,1068,1300],40:[379,-420,1300],41:[468,-420,1300],42:[247,654,1300],43:[179,100,1300],44:[122,-365,1300],45:[335,400,1300],46:[103,-17,1300],47:[101,-100,1300],48:[68,-16,1300],49:[153,0,1300],50:[112,0,1300],51:[170,0,1300],52:[120,0,1300],53:[172,0,1300],54:[95,-17,
1300],55:[140,0,1300],56:[82,-17,1300],57:[100,-17,1300],58:[103,-17,1300],59:[103,-365,1300],60:[130,34,1300],61:[200,181,1300],62:[130,34,1300],63:[107,-17,1300],64:[39.99999999999999,-382,1300],65:[50,0,1300],66:[89,0,1300],67:[100,-17,1300],68:[66,0,1300],69:[132,0,1300],70:[165,0,1300],71:[44,-17,1300],72:[48,0,1300],73:[148,0,1300],74:[146,-17,1300],75:[89,0,1300],76:[89,0,1300],77:[69,0,1300],78:[96,0,1300],79:[50,-17,1300],80:[124,0,1300],81:[51,-180,1300],82:[86,0,1300],83:[150,-17,1300],
84:[66,0,1300],85:[92,-17,1300],86:[15,-17,1300],87:[21,0,1300],88:[16,0,1300],89:[40,0,1300],90:[110,0,1300],91:[255,-398,1300],92:[93,-100,1300],93:[367,-398,1300],94:[50,866,1300],95:[100,-455,1300],96:[400,1200,1300],97:[106,-17,1300],98:[151,-16,1300],99:[106,-17,1300],100:[148,-17,1300],101:[100,-16,1300],102:[100,0,1300],103:[125,-517,1300],104:[122,0,1300],105:[161,-17,1300],106:[185,-517,1300],107:[165,0,1300],108:[120,-17,1300],109:[50,0,1300],110:[144,0,1300],111:[81,-17,1300],112:[150,
-500,1300],113:[117,-500,1300],114:[145,0,1300],115:[127,-17,1300],116:[100,-17,1300],117:[145,-17,1300],118:[133,-17,1300],119:[34,0,1300],120:[57,0,1300],121:[82,-480,1300],122:[179,0,1300],123:[200,-420,1300],124:[434,-380,1300],125:[201,-420,1300],126:[31,400,1300]},kerning_pairs:{}},Italic:{render_px:64,padding:8,units_per_em:2E3,font_family:"B612 Mono",font_subfamily:"Italic",ascender:1930,descender:-500,glyph_metrics:{32:[0,0,1300],33:[196,-18.391304347826086,1300],34:[381.5,1067,1300],35:[39,
-20,1300],36:[100,-199,1300],37:[86,-17,1300],38:[88.25,-20,1300],39:[328,1067,1300],40:[180.20000000000005,-421.1428571428571,1300],41:[147,-420.0740737915039,1300],42:[225,712,1300],43:[196,122,1300],44:[107,-307,1300],45:[273,445,1300],46:[104.33333333333334,-17,1300],47:[47,-100,1300],48:[134.47058823529414,-20.184210526315788,1300],49:[268,0,1300],50:[71,0,1300],51:[120,0,1300],52:[132,0,1300],53:[121,0,1300],54:[135,-19,1300],55:[200,0,1300],56:[130,-17,1300],57:[170,-17,1300],58:[132.916748046875,
-17,1300],59:[115,-307,1300],60:[92,67,1300],61:[243,245,1300],62:[111,67,1300],63:[236,-17,1300],64:[84,-410,1300],65:[18,0,1300],66:[100,0,1300],67:[106,-17,1300],68:[59,0,1300],69:[72,0,1300],70:[100,0,1300],71:[109.4375,-17,1300],72:[50,0,1300],73:[67,0,1300],74:[130,-17,1300],75:[50,0,1300],76:[173,0,1300],77:[13,0,1300],78:[42,0,1300],79:[79.37142857142857,-17,1300],80:[99,0,1300],81:[63,-145,1300],82:[100,0,1300],83:[97,-17,1300],84:[145,0,1300],85:[114.43859649122808,-17,1300],86:[137,-20,
1300],87:[68,0,1300],88:[0,0,1300],89:[128,0,1300],90:[9,0,1300],91:[125,-420,1300],92:[303,-100,1300],93:[53,-420,1300],94:[23,912,1300],95:[73,-455,1300],96:[549,1200,1300],97:[160,-17,1300],98:[147,-17,1300],99:[144,-17,1300],100:[100,-17,1300],101:[128,-17,1300],102:[59,-421,1300],103:[100,-517,1300],104:[108,0,1300],105:[225,-17,1300],106:[134,-517,1300],107:[160,0,1300],108:[305,-17,1300],109:[23,0,1300],110:[102,0,1300],111:[124,-17,1300],112:[91,-500,1300],113:[155,-500,1300],114:[100,0,1300],
115:[130,-17,1300],116:[142,-17,1300],117:[122,-17,1300],118:[164,-20,1300],119:[146,0,1300],120:[26,0,1300],121:[8,-480,1300],122:[169,0,1300],123:[121,-420.72727272727275,1300],124:[229,-400,1300],125:[82,-413.9433962264151,1300],126:[78,418.2597402597403,1300]},kerning_pairs:{}},Regular:{render_px:64,padding:8,units_per_em:2E3,font_family:"B612 Mono",font_subfamily:"Regular",ascender:1930,descender:-500,glyph_metrics:{32:[0,0,1300],33:[378,-17,1300],34:[350,1067,1300],35:[100,-20,1300],36:[205,
-200,1300],37:[100,-17,1300],38:[100,-20,1300],39:[200,1067,1300],40:[500,-420,1300],41:[460,-420,1300],42:[328,712,1300],43:[200,122,1300],44:[152,-307,1300],45:[400,445,1300],46:[136,-17,1300],47:[175,-100,1300],48:[141,-17,1300],49:[185,0,1300],50:[183,0,1300],51:[227,0,1300],52:[151,0,1300],53:[248,0,1300],54:[153,-17,1300],55:[177,0,1300],56:[149,-17,1300],57:[150,-17,1300],58:[152,-17,1300],59:[152,-307,1300],60:[200,91,1300],61:[200,260,1300],62:[200,91,1300],63:[107,-17,1300],64:[120,-410,
1300],65:[32,0,1300],66:[180,0,1300],67:[100,-17,1300],68:[175,0,1300],69:[180,0,1300],70:[175,0,1300],71:[128,-17,1300],72:[159,0,1300],73:[180,0,1300],74:[240,-17,1300],75:[175,0,1300],76:[178,0,1300],77:[120,0,1300],78:[140,0,1300],79:[100,-17,1300],80:[218,0,1300],81:[100,-145,1300],82:[174,0,1300],83:[193,-17,1300],84:[130,0,1300],85:[155,-17,1300],86:[112,-20,1300],87:[38,0,1300],88:[101,0,1300],89:[90,0,1300],90:[161,0,1300],91:[400,-420,1300],92:[175,-100,1300],93:[428,-420,1300],94:[122,
912,1300],95:[100,-455,1300],96:[485,1200,1300],97:[170,-17,1300],98:[190,-17,1300],99:[170,-17,1300],100:[151,-17,1300],101:[150,-17,1300],102:[148,0,1300],103:[150,-517,1300],104:[191,0,1300],105:[200,-17,1300],106:[261,-517,1300],107:[191,0,1300],108:[189,-17,1300],109:[86,0,1300],110:[211,0,1300],111:[144,-17,1300],112:[210,-500,1300],113:[151,-500,1300],114:[211,0,1300],115:[175,-17,1300],116:[100,-17,1300],117:[211,-17,1300],118:[175,-20,1300],119:[100,0,1300],120:[106,0,1300],121:[164,-480,
1300],122:[181,0,1300],123:[228,-420,1300],124:[500,-400,1300],125:[246,-420,1300],126:[133,422,1300]},kerning_pairs:{}}},"Epetri AIRY-anorexic2":{Regular:{render_px:64,padding:8,units_per_em:1E3,font_family:"Epetri AIRY-anorexic2",font_subfamily:"Regular",ascender:700,descender:-1,glyph_metrics:{32:[0,0,847],48:[70,0,847],49:[70,0,847],50:[70,0,847],51:[70,0,847],52:[70,0,847],53:[70,0,847],54:[70,0,847],55:[70,0,847],56:[70,0,847],57:[70,0,847],65:[70,0,847],66:[70,0,847],67:[70,0,847],68:[70,0,
847],69:[70,0,847],70:[70,0,847],71:[70,0,847],72:[70,0,847],73:[240,0,847],74:[70,0,847],75:[70,0,847],76:[70,0,847],77:[70,0,847],78:[70,0,847],79:[70,0,847],80:[70,0,847],81:[70,0,847],82:[70,0,847],83:[70,0,847],84:[70,0,847],85:[70,0,847],86:[70,0,847],87:[70,0,847],88:[70,0,847],89:[70,0,847],90:[70,0,847],97:[70,0,847],98:[70,0,847],99:[70,0,847],100:[70,0,847],101:[70,0,847],102:[70,0,847],103:[70,0,847],104:[70,0,847],105:[240,0,847],106:[70,0,847],107:[70,0,847],108:[70,0,847],109:[70,0,
847],110:[70,0,847],111:[70,0,847],112:[70,0,847],113:[70,0,847],114:[70,0,847],115:[70,0,847],116:[70,0,847],117:[70,0,847],118:[70,0,847],119:[70,0,847],120:[70,0,847],121:[70,0,847],122:[70,0,847]},kerning_pairs:{}}},"Epetri AIRY-regular1":{Regular:{render_px:64,padding:8,units_per_em:1E3,font_family:"Epetri AIRY-regular1",font_subfamily:"Regular",ascender:700,descender:-1,glyph_metrics:{32:[0,0,841],48:[56,0,847],49:[56,0,847],50:[56,0,847],51:[56,0,847],52:[56,0,847],53:[56,0,847],54:[56,0,847],
55:[56,0,847],56:[56,0,847],57:[56,0,847],65:[56,0,847],66:[56,0,847],67:[56,0,847],68:[56,0,847],69:[56,0,847],70:[56,0,847],71:[56,0,847],72:[56,0,847],73:[226,0,847],74:[56,0,847],75:[56,0,847],76:[56,0,847],77:[56,0,847],78:[56,0,847],79:[56,0,847],80:[56,0,847],81:[56,0,847],82:[56,0,847],83:[56,0,847],84:[56,0,847],85:[56,0,847],86:[56,0,847],87:[56,0,847],88:[56,0,847],89:[56,0,847],90:[56,0,847],97:[56,0,847],98:[56,0,847],99:[56,0,847],100:[56,0,847],101:[56,0,847],102:[56,0,847],103:[56,
0,847],104:[56,0,847],105:[226,0,847],106:[56,0,847],107:[56,0,847],108:[56,0,847],109:[56,0,847],110:[56,0,847],111:[56,0,847],112:[56,0,847],113:[56,0,847],114:[56,0,847],115:[56,0,847],116:[56,0,847],117:[56,0,847],118:[56,0,847],119:[56,0,847],120:[56,0,847],121:[56,0,847],122:[56,0,847]},kerning_pairs:{}}},"Ibarra Real Nova":{Regular:{render_px:64,padding:8,units_per_em:1E3,font_family:"Ibarra Real Nova",font_subfamily:"Regular",ascender:950,descender:-300,glyph_metrics:{32:[0,0,265],33:[50,
-6,214],34:[82,454,418],35:[30,-26,484],36:[50,-89,567],37:[35,-8,628],38:[55,-13,778],39:[82,454,265],40:[60,-238,301],41:[40,-238,301],42:[33.9453125,331,409],43:[73,148,530],44:[53,-150,265],45:[20,255,265],46:[68,-6,265],47:[20,-7,448],48:[60,-8,582],49:[40,0,410],50:[40,0,497],51:[30,-10,500],52:[25,0,546],53:[10,-11,475],54:[50,-9,500],55:[25,0,470],56:[55,-12,538],57:[35,-8,500],58:[68,-7,265],59:[53,-150,265],60:[80,137,530],61:[73,201,530],62:[75,137,530],63:[45,-6,364],64:[45,-206,972],
65:[5,0,763],66:[40,0,695],67:[45,-12,735],68:[40,0,805],69:[40,0,685],70:[40,0,644],71:[45,-12,807],72:[40,0,836],73:[40,0,420],74:[-35,-178,415],75:[40,0,799],76:[40,0,704],77:[35,-9,961],78:[40,-16,856],79:[45,-12,804],80:[40,0,670],81:[45,-150,804],82:[40,-13,774],83:[50,-8,567],84:[15,0,694],85:[25,-12,792],86:[5,-15,760],87:[5,-9,1129],88:[10,0,785],89:[5,0,710],90:[30,0,669],91:[75,-215,295],92:[20,-7,448],93:[30,-215,295],94:[40,325,516],95:[0,-93,530],96:[174,543,530],97:[60,-7,466],98:[25,
-12,544],99:[45,-8,446],100:[45,-8,554],101:[45,-8,449],102:[35,0,320],103:[30,-260,491],104:[35,0,534],105:[35,0,261],106:[-40,-259,258],107:[35,0,522],108:[35,0,271],109:[35,0,789],110:[35,0,533],111:[45,-8,508],112:[25,-250,541],113:[45,-250,542],114:[35,0,349],115:[40,-8,363],116:[25,-8,328],117:[15,-8,526],118:[5,-12,471],119:[8,-11,712],120:[10,0,489],121:[7,-259,462],122:[25,0,405],123:[40,-215,357],124:[110,-250,261],125:[35,-215,357],126:[63,289,530]},kerning_pairs:{"38,65":-45,"38,66":-30,
"38,68":-30,"38,69":-30,"38,70":-30,"38,72":-30,"38,73":-30,"38,74":-15,"38,75":-30,"38,76":-30,"38,77":-30,"38,78":-30,"38,80":-30,"38,82":-30,"38,84":-25,"38,85":-25,"38,86":-55,"38,87":-55,"38,88":-35,"38,89":-60,"38,98":-10,"40,99":-15,"40,100":-15,"40,101":-15,"40,106":50,"40,111":-15,"40,113":-15,"42,65":-65,"42,99":-20,"42,100":-20,"42,101":-20,"42,111":-20,"42,113":-20,"44,48":-45,"44,52":-65,"44,55":-30,"44,56":-30,"44,57":-45,"44,67":-30,"44,71":-30,"44,79":-30,"44,81":-30,"44,84":-110,
"44,85":-55,"44,86":-145,"44,87":-145,"44,89":-160,"44,97":-15,"44,99":-15,"44,100":-15,"44,101":-15,"44,106":-20,"44,111":-15,"44,113":-15,"44,116":-35,"44,117":-20,"44,118":-80,"44,119":-80,"44,120":-15,"44,121":-80,"45,65":-45,"45,74":-20,"45,84":-45,"45,86":-65,"45,87":-65,"45,88":-55,"45,89":-60,"46,48":-45,"46,52":-65,"46,55":-30,"46,56":-30,"46,57":-45,"46,67":-30,"46,71":-30,"46,79":-30,"46,81":-30,"46,84":-110,"46,85":-55,"46,86":-145,"46,87":-145,"46,89":-160,"46,97":-15,"46,99":-15,"46,100":-15,
"46,101":-15,"46,106":-20,"46,111":-15,"46,113":-15,"46,116":-35,"46,117":-20,"46,118":-80,"46,119":-80,"46,120":-15,"46,121":-80,"47,48":-60,"47,50":-10,"47,52":-95,"47,54":-45,"47,56":-35,"47,57":-15,"47,65":-110,"47,67":-35,"47,71":-35,"47,79":-35,"47,81":-35,"47,97":-65,"47,99":-80,"47,100":-80,"47,101":-80,"47,103":-95,"47,105":-90,"47,109":-90,"47,110":-90,"47,111":-80,"47,112":-45,"47,113":-80,"47,114":-90,"47,115":-55,"47,116":-45,"47,117":-45,"47,118":-45,"47,119":-45,"47,120":-45,"47,121":-45,
"47,122":-45,"48,44":-45,"48,46":-45,"48,47":-60,"49,48":-10,"51,37":-25,"51,44":-30,"51,46":-30,"51,47":-25,"51,50":-15,"51,56":-15,"53,44":-55,"53,46":-55,"53,47":-15,"54,50":-15,"55,44":-55,"55,46":-55,"55,47":-70,"55,52":-40,"56,44":-30,"56,46":-30,"56,47":-25,"57,44":-45,"57,46":-45,"57,47":-45,"64,65":-45,"64,85":-15,"64,86":-35,"64,87":-20,"64,89":-55,"64,98":-10,"65,42":-65,"65,45":-45,"65,64":-30,"65,67":-35,"65,71":-35,"65,79":-35,"65,81":-35,"65,84":-65,"65,85":-65,"65,86":-120,"65,87":-110,
"65,89":-105,"65,92":-110,"65,97":-10,"65,98":-15,"65,99":-20,"65,100":-20,"65,101":-20,"65,111":-20,"65,112":-15,"65,113":-20,"65,116":-30,"65,117":-15,"65,118":-80,"65,119":-80,"65,121":-80,"66,44":-15,"66,46":-15,"66,65":-25,"66,74":-30,"66,86":-40,"66,87":-40,"66,88":-30,"66,89":-50,"66,97":-10,"66,102":-20,"66,105":-10,"66,109":-10,"66,110":-10,"66,112":-20,"66,114":-10,"66,118":-10,"66,119":-10,"66,120":-20,"66,121":-15,"68,44":-30,"68,46":-30,"68,47":-35,"68,65":-35,"68,67":35,"68,71":35,"68,74":-25,
"68,79":35,"68,81":35,"68,85":-10,"68,86":-45,"68,87":-40,"68,88":-35,"68,89":-35,"68,92":-35,"68,98":-10,"69,120":-10,"69,121":-15,"70,44":-90,"70,46":-90,"70,47":-30,"70,65":-45,"70,74":-5,"70,97":-40,"70,99":-15,"70,100":-15,"70,101":-15,"70,103":-25,"70,105":-20,"70,109":-20,"70,110":-20,"70,111":-15,"70,112":-20,"70,113":-15,"70,114":-20,"70,115":-20,"70,120":-20,"70,121":-10,"70,122":-20,"71,65":-40,"71,66":-15,"71,67":25,"71,68":-15,"71,69":-15,"71,70":-15,"71,71":25,"71,72":-15,"71,73":-15,
"71,75":-15,"71,76":-15,"71,78":-15,"71,79":25,"71,80":-15,"71,81":25,"71,82":-15,"71,85":-15,"71,86":-25,"71,87":-25,"71,88":-25,"71,89":-15,"71,98":-15,"71,120":-10,"71,121":-10,"72,97":-25,"72,99":-15,"72,100":-15,"72,101":-15,"72,111":-15,"72,112":-15,"72,113":-15,"72,116":-15,"72,117":-25,"72,118":-20,"72,119":-20,"72,121":-20,"73,97":-25,"73,99":-15,"73,100":-15,"73,101":-15,"73,111":-15,"73,112":-15,"73,113":-15,"73,116":-15,"73,117":-25,"73,118":-20,"73,119":-20,"73,121":-20,"74,44":-55,"74,45":-30,
"74,46":-55,"74,47":-60,"74,58":-30,"74,59":-30,"74,64":-15,"74,65":-65,"74,67":-10,"74,71":-10,"74,74":-20,"74,79":-10,"74,81":-10,"74,97":-65,"74,99":-30,"74,100":-30,"74,101":-30,"74,102":-20,"74,103":-45,"74,105":-30,"74,106":-20,"74,109":-30,"74,110":-30,"74,111":-30,"74,112":-40,"74,113":-30,"74,114":-30,"74,115":-45,"74,116":-35,"74,117":-15,"74,118":-20,"74,119":-20,"74,120":-60,"74,121":-30,"74,122":-30,"75,38":-15,"75,45":-35,"75,64":-20,"75,67":-35,"75,71":-35,"75,79":-35,"75,81":-35,"75,97":-10,
"75,99":-25,"75,100":-25,"75,101":-25,"75,111":-25,"75,113":-25,"75,116":-15,"75,117":-15,"75,118":-55,"75,119":-55,"75,121":-55,"76,42":-80,"76,84":-40,"76,85":-10,"76,86":-60,"76,87":-50,"76,89":-65,"76,92":-45,"76,118":-20,"76,119":-20,"76,121":-10,"77,97":-20,"77,99":-20,"77,100":-20,"77,101":-20,"77,111":-20,"77,113":-20,"77,118":-25,"77,119":-25,"78,38":-30,"78,44":-35,"78,46":-35,"78,58":-30,"78,59":-30,"78,65":-40,"78,67":-20,"78,71":-20,"78,74":-20,"78,79":-20,"78,81":-20,"78,97":-35,"78,99":-30,
"78,100":-30,"78,101":-30,"78,103":-30,"78,105":-20,"78,106":-20,"78,109":-20,"78,110":-20,"78,111":-30,"78,112":-25,"78,113":-30,"78,114":-20,"78,115":-45,"78,116":-20,"78,117":-20,"78,118":-30,"78,119":-30,"78,120":-25,"78,121":-30,"78,122":-25,"79,44":-30,"79,46":-30,"79,47":-35,"79,65":-35,"79,67":35,"79,71":35,"79,74":-25,"79,79":35,"79,81":35,"79,85":-10,"79,86":-45,"79,87":-40,"79,88":-35,"79,89":-35,"79,92":-35,"79,98":-10,"80,44":-130,"80,46":-130,"80,47":-75,"80,64":-20,"80,65":-80,"80,66":-20,
"80,68":-20,"80,69":-20,"80,70":-20,"80,72":-20,"80,73":-20,"80,74":-40,"80,75":-20,"80,76":-20,"80,78":-20,"80,80":-20,"80,82":-20,"80,86":-20,"80,87":-15,"80,88":-20,"80,97":-25,"80,99":-40,"80,100":-40,"80,101":-40,"80,103":-15,"80,111":-40,"80,113":-40,"80,115":-20,"81,67":35,"81,71":35,"81,79":35,"81,81":35,"81,86":-45,"81,88":-40,"81,89":-35,"81,92":-15,"81,112":20,"82,42":-55,"82,67":-45,"82,71":-45,"82,79":-45,"82,81":-45,"82,84":-30,"82,85":-35,"82,86":-65,"82,87":-90,"82,89":-95,"82,92":-55,
"82,97":-15,"82,98":-10,"82,99":-20,"82,100":-20,"82,101":-20,"82,111":-20,"82,113":-20,"82,116":-20,"82,117":-15,"82,118":-45,"82,119":-45,"82,121":-45,"83,65":-45,"83,74":-10,"83,86":-25,"83,87":-25,"83,88":-20,"83,89":-25,"83,97":-10,"83,102":-15,"83,112":-10,"83,120":-20,"84,44":-110,"84,45":-45,"84,46":-110,"84,47":-55,"84,58":-20,"84,59":-20,"84,65":-65,"84,97":-70,"84,99":-55,"84,100":-55,"84,101":-55,"84,103":-65,"84,111":-55,"84,112":-65,"84,113":-55,"84,115":-45,"84,117":-70,"84,118":-35,
"84,119":-35,"84,120":-45,"84,121":-35,"84,122":-45,"85,44":-55,"85,45":-30,"85,46":-55,"85,47":-60,"85,58":-30,"85,59":-30,"85,64":-15,"85,65":-65,"85,67":-10,"85,71":-10,"85,74":-20,"85,79":-10,"85,81":-10,"85,97":-65,"85,99":-30,"85,100":-30,"85,101":-30,"85,102":-20,"85,103":-45,"85,105":-30,"85,106":-20,"85,109":-30,"85,110":-30,"85,111":-30,"85,112":-40,"85,113":-30,"85,114":-30,"85,115":-45,"85,116":-35,"85,117":-15,"85,118":-20,"85,119":-20,"85,120":-60,"85,121":-30,"85,122":-30,"86,38":-35,
"86,44":-145,"86,45":-65,"86,46":-145,"86,47":-110,"86,58":-55,"86,59":-55,"86,64":-45,"86,65":-130,"86,67":-45,"86,71":-45,"86,74":-30,"86,79":-45,"86,81":-45,"86,83":-35,"86,97":-115,"86,99":-110,"86,100":-110,"86,101":-110,"86,102":-60,"86,103":-120,"86,105":-65,"86,109":-65,"86,110":-65,"86,111":-110,"86,112":-70,"86,113":-110,"86,114":-65,"86,115":-120,"86,116":-75,"86,117":-90,"86,118":-55,"86,119":-55,"86,120":-95,"86,121":-60,"86,122":-70,"87,38":-35,"87,44":-145,"87,45":-65,"87,46":-145,
"87,47":-110,"87,58":-55,"87,59":-55,"87,64":-50,"87,65":-150,"87,67":-40,"87,71":-40,"87,74":-20,"87,79":-40,"87,81":-40,"87,83":-35,"87,97":-115,"87,99":-110,"87,100":-110,"87,101":-110,"87,102":-60,"87,103":-125,"87,105":-65,"87,109":-65,"87,110":-65,"87,111":-110,"87,112":-70,"87,113":-110,"87,114":-65,"87,115":-120,"87,116":-80,"87,117":-80,"87,118":-55,"87,119":-55,"87,120":-90,"87,121":-60,"87,122":-70,"88,45":-55,"88,67":-35,"88,71":-35,"88,79":-35,"88,81":-35,"88,83":-20,"88,97":-10,"88,99":-25,
"88,100":-25,"88,101":-25,"88,111":-25,"88,113":-25,"88,116":-40,"88,118":-55,"88,119":-55,"89,38":-45,"89,44":-160,"89,45":-60,"89,46":-160,"89,47":-80,"89,58":-55,"89,59":-55,"89,64":-65,"89,65":-105,"89,67":-35,"89,71":-35,"89,74":-25,"89,79":-35,"89,81":-35,"89,83":-40,"89,97":-110,"89,99":-110,"89,100":-110,"89,101":-110,"89,102":-45,"89,103":-125,"89,105":-85,"89,106":-15,"89,109":-85,"89,110":-85,"89,111":-110,"89,112":-75,"89,113":-110,"89,114":-85,"89,115":-120,"89,116":-80,"89,117":-95,
"89,118":-65,"89,119":-65,"89,120":-100,"89,121":-65,"89,122":-90,"90,118":-15,"90,119":-15,"90,121":-15,"91,99":-10,"91,100":-10,"91,101":-10,"91,106":65,"91,111":-10,"91,113":-10,"92,67":-35,"92,71":-35,"92,79":-35,"92,81":-35,"92,84":-45,"92,85":-60,"92,86":-110,"92,87":-110,"92,89":-80,"92,99":-20,"92,100":-20,"92,101":-20,"92,111":-20,"92,113":-20,"92,118":-50,"92,119":-50,"92,121":-50,"97,84":-55,"97,85":-55,"97,86":-90,"97,87":-90,"97,89":-110,"97,92":-65,"97,98":-10,"97,99":-5,"97,100":-5,
"97,101":-5,"97,106":-10,"97,111":-5,"97,112":-10,"97,113":-5,"97,116":-10,"97,118":-40,"97,119":-40,"97,121":-30,"98,41":-15,"98,42":-20,"98,44":-15,"98,46":-15,"98,47":-25,"98,65":-20,"98,66":-15,"98,68":-15,"98,69":-15,"98,70":-15,"98,72":-15,"98,73":-15,"98,74":-20,"98,75":-15,"98,76":-15,"98,77":-20,"98,78":-15,"98,80":-15,"98,82":-15,"98,84":-55,"98,85":-30,"98,86":-90,"98,87":-90,"98,88":-25,"98,89":-100,"98,92":-80,"98,93":-10,"98,97":-10,"98,98":-15,"98,99":10,"98,100":10,"98,101":10,"98,104":-20,
"98,107":-20,"98,108":-20,"98,111":10,"98,113":10,"98,118":-25,"98,119":-25,"98,120":-35,"98,121":-20,"99,84":-30,"99,86":-65,"99,87":-65,"99,88":-20,"99,89":-85,"99,92":-70,"99,104":-15,"99,107":-15,"99,108":-15,"100,64":-15,"100,97":-20,"100,99":-15,"100,100":-15,"100,101":-15,"100,103":-15,"100,106":-10,"100,111":-15,"100,113":-15,"100,116":-10,"100,117":-10,"100,118":-20,"100,119":-20,"100,121":-15,"101,66":-15,"101,68":-15,"101,69":-15,"101,70":-15,"101,72":-15,"101,73":-15,"101,75":-15,"101,76":-15,
"101,77":-20,"101,78":-15,"101,80":-15,"101,82":-15,"101,84":-30,"101,85":-20,"101,86":-80,"101,87":-80,"101,88":-15,"101,89":-90,"101,92":-100,"101,98":-15,"101,99":10,"101,100":10,"101,101":10,"101,111":10,"101,113":10,"101,118":-10,"101,119":-10,"101,120":-20,"101,121":-10,"102,33":80,"102,41":60,"102,42":80,"102,44":-20,"102,46":-20,"102,63":60,"102,92":80,"102,93":65,"102,97":-20,"102,99":-25,"102,100":-25,"102,101":-25,"102,102":-15,"102,103":-30,"102,111":-25,"102,112":-10,"102,113":-25,"102,115":-20,
"102,116":-4,"102,125":60,"103,44":-15,"103,46":-15,"103,86":-55,"103,87":-50,"103,89":-60,"103,92":-70,"103,97":-30,"103,98":-20,"103,99":-30,"103,100":-30,"103,101":-30,"103,111":-30,"103,113":-30,"103,115":-15,"103,116":10,"103,118":-10,"103,119":-10,"104,84":-55,"104,85":-30,"104,86":-80,"104,87":-80,"104,89":-100,"104,92":-100,"104,118":-20,"104,119":-20,"105,85":-35,"105,86":-90,"105,87":-90,"105,89":-95,"105,92":-90,"105,97":-15,"105,98":-15,"105,99":-10,"105,100":-10,"105,101":-10,"105,104":-15,
"105,107":-15,"105,108":-15,"105,111":-10,"105,113":-10,"105,121":-30,"107,38":-20,"107,44":-15,"107,45":-20,"107,46":-15,"107,64":-20,"107,85":-40,"107,86":-65,"107,87":-65,"107,89":-75,"107,92":-85,"107,97":-40,"107,98":-15,"107,99":-35,"107,100":-35,"107,101":-35,"107,111":-35,"107,113":-35,"107,118":-15,"107,119":-15,"108,64":-15,"108,97":-20,"108,99":-15,"108,100":-15,"108,101":-15,"108,103":-15,"108,106":-10,"108,111":-15,"108,113":-15,"108,116":-10,"108,117":-10,"108,118":-20,"108,119":-20,
"108,121":-15,"109,84":-55,"109,85":-30,"109,86":-80,"109,87":-80,"109,89":-100,"109,92":-100,"109,118":-20,"109,119":-20,"110,84":-55,"110,85":-30,"110,86":-80,"110,87":-80,"110,89":-100,"110,92":-100,"110,118":-20,"110,119":-20,"111,41":-15,"111,42":-20,"111,44":-15,"111,46":-15,"111,47":-25,"111,65":-20,"111,66":-15,"111,68":-15,"111,69":-15,"111,70":-15,"111,72":-15,"111,73":-15,"111,74":-20,"111,75":-15,"111,76":-15,"111,77":-20,"111,78":-15,"111,80":-15,"111,82":-15,"111,84":-55,"111,85":-30,
"111,86":-90,"111,87":-90,"111,88":-25,"111,89":-100,"111,92":-80,"111,93":-10,"111,97":-10,"111,98":-15,"111,99":10,"111,100":10,"111,101":10,"111,104":-20,"111,107":-20,"111,108":-20,"111,111":10,"111,113":10,"111,118":-25,"111,119":-25,"111,120":-35,"111,121":-20,"112,41":-15,"112,42":-20,"112,44":-15,"112,46":-15,"112,47":-25,"112,65":-20,"112,66":-15,"112,68":-15,"112,69":-15,"112,70":-15,"112,72":-15,"112,73":-15,"112,74":-20,"112,75":-15,"112,76":-15,"112,77":-20,"112,78":-15,"112,80":-15,
"112,82":-15,"112,84":-55,"112,85":-30,"112,86":-90,"112,87":-90,"112,88":-25,"112,89":-100,"112,92":-80,"112,93":-10,"112,97":-10,"112,98":-15,"112,99":10,"112,100":10,"112,101":10,"112,104":-20,"112,107":-20,"112,108":-20,"112,111":10,"112,113":10,"112,118":-25,"112,119":-25,"112,120":-35,"112,121":-20,"113,44":-20,"113,46":-20,"113,65":-15,"113,66":-15,"113,67":-10,"113,68":-15,"113,69":-15,"113,70":-15,"113,71":-10,"113,72":-15,"113,73":-15,"113,75":-15,"113,76":-15,"113,77":-15,"113,78":-15,
"113,79":-10,"113,80":-15,"113,81":-10,"113,82":-15,"113,83":-25,"113,84":-30,"113,85":-20,"113,86":-65,"113,87":-65,"113,89":-65,"113,92":-100,"113,97":-30,"113,98":-15,"113,99":-25,"113,100":-25,"113,101":-25,"113,104":-20,"113,107":-20,"113,108":-20,"113,111":-25,"113,113":-25,"113,116":-20,"113,118":-30,"113,119":-30,"113,122":-25,"114,44":-55,"114,46":-55,"114,47":-25,"114,65":-55,"114,84":-45,"114,86":-65,"114,87":-65,"114,88":-30,"114,89":-60,"114,92":-70,"114,97":-15,"114,98":-15,"114,99":-10,
"114,100":-10,"114,101":-10,"114,104":-10,"114,107":-10,"114,108":-10,"114,111":-10,"114,113":-10,"115,65":-20,"115,84":-45,"115,85":-35,"115,86":-65,"115,87":-65,"115,89":-75,"115,92":-80,"115,97":-15,"115,98":-20,"115,104":-10,"115,107":-10,"115,108":-10,"115,118":-20,"115,119":-20,"115,121":-15,"116,45":-25,"116,86":-65,"116,87":-65,"116,89":-65,"116,92":-45,"116,97":-20,"116,98":-20,"116,99":-15,"116,100":-15,"116,101":-15,"116,103":-15,"116,104":-20,"116,107":-20,"116,108":-20,"116,111":-15,
"116,113":-15,"116,115":-15,"117,85":-35,"117,86":-90,"117,87":-90,"117,89":-95,"117,92":-90,"117,97":-15,"117,98":-15,"117,99":-10,"117,100":-10,"117,101":-10,"117,104":-15,"117,107":-15,"117,108":-15,"117,111":-10,"117,113":-10,"117,121":-30,"118,38":-20,"118,44":-80,"118,46":-80,"118,47":-50,"118,65":-80,"118,66":-20,"118,68":-20,"118,69":-20,"118,70":-20,"118,72":-20,"118,73":-20,"118,74":-25,"118,75":-20,"118,76":-20,"118,77":-25,"118,78":-20,"118,80":-20,"118,82":-20,"118,84":-35,"118,85":-20,
"118,86":-60,"118,87":-60,"118,88":-55,"118,89":-65,"118,92":-80,"118,97":-35,"118,98":-15,"118,99":-25,"118,100":-25,"118,101":-25,"118,103":-25,"118,104":-15,"118,107":-15,"118,108":-15,"118,111":-25,"118,113":-25,"118,115":-20,"119,38":-20,"119,44":-80,"119,46":-80,"119,47":-50,"119,65":-80,"119,66":-20,"119,68":-20,"119,69":-20,"119,70":-20,"119,72":-20,"119,73":-20,"119,74":-25,"119,75":-20,"119,76":-20,"119,77":-25,"119,78":-20,"119,80":-20,"119,82":-20,"119,84":-35,"119,85":-20,"119,86":-60,
"119,87":-60,"119,88":-55,"119,89":-65,"119,92":-80,"119,97":-35,"119,98":-15,"119,99":-25,"119,100":-25,"119,101":-25,"119,103":-25,"119,104":-15,"119,107":-15,"119,108":-15,"119,111":-25,"119,113":-25,"119,115":-20,"120,38":-15,"120,44":-15,"120,46":-15,"120,84":-45,"120,85":-25,"120,86":-50,"120,87":-50,"120,89":-65,"120,92":-80,"120,97":-20,"120,98":-10,"120,99":-35,"120,100":-35,"120,101":-35,"120,104":-10,"120,107":-10,"120,108":-10,"120,111":-35,"120,113":-35,"121,38":-20,"121,44":-80,"121,46":-80,
"121,47":-50,"121,65":-80,"121,66":-20,"121,68":-20,"121,69":-20,"121,70":-20,"121,72":-20,"121,73":-20,"121,74":-25,"121,75":-20,"121,76":-20,"121,77":-25,"121,78":-20,"121,80":-20,"121,82":-20,"121,84":-35,"121,85":-20,"121,86":-60,"121,87":-60,"121,88":-55,"121,89":-65,"121,92":-80,"121,97":-35,"121,98":-15,"121,99":-25,"121,100":-25,"121,101":-25,"121,103":-25,"121,104":-15,"121,107":-15,"121,108":-15,"121,111":-25,"121,113":-25,"121,115":-20,"122,84":-45,"122,85":-25,"122,86":-65,"122,87":-65,
"122,89":-80,"122,92":-80,"123,106":60}}},Inconsolata:{Regular:{render_px:64,padding:8,units_per_em:1E3,font_family:"Inconsolata",font_subfamily:"Regular",ascender:859,descender:-190,glyph_metrics:{32:[0,0,500],33:[180,-11,500],34:[135,407,500],35:[25,10,500],36:[60,-47,500],37:[28,-10,500],38:[36,-12,500],39:[210,407,500],40:[122,-104,500],41:[114,-104,500],42:[41,123,500],43:[45,104,500],44:[165,-168,500],45:[111,281,500],46:[180,-11,500],47:[64,-42,500],48:[57,-11,500],49:[88,0,500],50:[58,0,500],
51:[69,-11,500],52:[48,0,500],53:[64,-11,500],54:[67,-10,500],55:[79,0,500],56:[60,-10,500],57:[68,-10,500],58:[179,-11,500],59:[165,-168,500],60:[35,47,500],61:[45,182,500],62:[40,47,500],63:[64,-11,500],64:[31,-11,500],65:[16,0,500],66:[48,0,500],67:[41,-10,500],68:[54,-1,500],69:[59,0,500],70:[78,0,500],71:[35.939453125,-10,500],72:[50,0,500],73:[81,0,500],74:[49,-11,500],75:[42,-4,500],76:[66,0,500],77:[41,0,500],78:[50,0,500],79:[27,-11,500],80:[59,0,500],81:[29,-145.4705882352941,500],82:[56,
0,500],83:[52,-10,500],84:[31,0,500],85:[50,-11,500],86:[25,-4,500],87:[17,0,500],88:[41,0,500],89:[28,0,500],90:[50,0,500],91:[131,-89,500],92:[64,-42,500],93:[131,-89,500],94:[93,343,500],95:[35,-80,500],96:[154,507,500],97:[49,-11,500],98:[60,-11,500],99:[56,-11,500],100:[45,-10,500],101:[49,-10,500],102:[63,0,500],103:[38,-172,500],104:[73,0,500],105:[100,0,500],106:[48,-174,500],107:[66,-4,500],108:[79,0,500],109:[38,0,500],110:[72,0,500],111:[39,-8,500],112:[60,-167,500],113:[42,-167,500],114:[119,
-1,500],115:[57,-10,500],116:[70,-7,500],117:[64,-11,500],118:[40,0,500],119:[16,-1,500],120:[47,0,500],121:[22,-174,500],122:[50,0,500],123:[53,-95,500],124:[217,-151,500],125:[54,-95,500],126:[71,266,500]},kerning_pairs:{}}},"Kvar SQ":{Regular:{render_px:64,padding:8,units_per_em:1E3,font_family:"Kvar SQ",font_subfamily:"Regular",ascender:750,descender:-1,glyph_metrics:{32:[0,0,800],48:[0,0,700],49:[0,0,700],50:[0,0,700],51:[0,0,700],52:[0,0,700],53:[0,0,700],54:[0,0,700],55:[0,0,700],56:[0,0,700],
57:[0,0,700],65:[0,0,700],66:[0,0,700],67:[0,0,700],68:[0,0,700],69:[0,0,700],70:[0,0,700],71:[0,0,700],72:[0,0,700],73:[0,0,700],74:[0,0,700],75:[0,0,700],76:[0,0,700],77:[0,0,700],78:[0,0,700],79:[0,0,700],80:[0,0,700],81:[0,0,700],82:[0,0,700],83:[0,0,700],84:[0,0,700],85:[0,0,700],86:[0,0,700],87:[0,0,700],88:[0,0,700],89:[0,0,700],90:[0,0,700],97:[0,0,700],98:[0,0,700],99:[0,0,700],100:[0,0,700],101:[0,0,700],102:[0,0,700],103:[0,0,700],104:[0,0,700],105:[233,0,700],106:[0,0,700],107:[0,0,700],
108:[0,0,700],109:[0,0,700],110:[0,0,700],111:[0,0,700],112:[0,0,700],113:[0,0,700],114:[0,0,700],115:[0,0,700],116:[0,0,700],117:[0,0,700],118:[0,0,700],119:[0,0,700],120:[0,0,700],121:[0,0,700],122:[0,0,700]},kerning_pairs:{}}},"Major Mono Display":{Regular:{render_px:64,padding:8,units_per_em:1E3,font_family:"Major Mono Display",font_subfamily:"Regular",ascender:900,descender:-100,glyph_metrics:{32:[0,0,740],33:[279,-15,740],34:[202,405,740],35:[89,0,740],36:[103,-108,740],37:[85,-15,740],38:[97,
-15,740],39:[297,405,740],40:[271,-95,740],41:[271,-102,740],42:[223,377,740],43:[177,151,740],44:[279,-126,740],45:[198,327,740],46:[279,-15,740],47:[107,0,740],48:[135,-15,740],49:[142,0,740],50:[154,0,740],51:[141,-15,740],52:[123,0,740],53:[136,-15,740],54:[141,-15,740],55:[140,0,740],56:[155,-15,740],57:[141,0,740],58:[279,-15,740],59:[279,-126,740],60:[185,80,740],61:[166,244,740],62:[235,80,740],63:[89,-15,740],64:[98,-61,740],65:[42,0,740],66:[127,0,740],67:[83,-15,740],68:[120,0,740],69:[120,
0,740],70:[130,0,740],71:[78,-15,740],72:[102,0,740],73:[145,0,740],74:[79,-15,740],75:[110,0,740],76:[144,0,740],77:[89,1,740],78:[99,1,740],79:[80,-19,740],80:[139,0,740],81:[78,-69,740],82:[123,0,740],83:[74,-18,740],84:[89,0,740],85:[89,-15,740],86:[42,-14,740],87:[40,0,740],88:[75,0,740],89:[73,0,740],90:[112,0,740],91:[270,-93,740],92:[107,0,740],93:[270,-93,740],94:[222,744,740],95:[102,-39,740],96:[274,741,740],97:[65,0,740],98:[127,0,740],99:[95,-15,740],100:[106,0,740],101:[130,0,740],102:[139,
0,740],103:[78,-15,740],104:[102,0,740],105:[145,0,740],106:[80,-15,740],107:[110,0,740],108:[155,0,740],109:[89,0,740],110:[98,0,740],111:[83,-15,740],112:[139,0,740],113:[81,-33,740],114:[123,0,740],115:[106,-15,740],116:[89,0,740],117:[89,-15,740],118:[63,0,740],119:[40,0,740],120:[79,0,740],121:[80,0,740],122:[112,0,740],123:[239,-4,740],124:[352,-93,740],125:[239,-4,740],126:[110,278,740]},kerning_pairs:{}}}}}),Oc=R((x,z)=>{z.exports={meta:{size:{w:4094,h:3373}},frames:[[2,2,1253,1173],[2,1177,
1037,1012],[2,2191,799,500],[2,2693,500,500],[504,2693,500,500],[803,2191,500,500],[1006,2693,500,500],[1041,1177,500,500],[1041,1679,500,500],[1305,2181,500,500],[1508,2683,500,500],[1257,2,500,500],[1257,504,500,500],[1543,1006,500,500],[1543,1508,500,500],[1807,2010,500,500],[2010,2512,500,500],[1759,2,500,500],[1759,504,500,500],[2045,1006,500,500],[2045,1508,500,500],[2309,2010,500,500],[2512,2512,500,500],[2261,2,500,500],[2261,504,500,500],[2547,1006,500,500],[2547,1508,500,500],[2811,2010,
500,500],[3014,2512,500,500],[3516,2,500,500],[2763,504,403,482],[2763,2,300,450],[3065,2,400,400],[3049,988,400,400],[3168,504,400,400],[3049,1390,400,400],[4018,2,51,400],[2010,3014,256,256],[2268,3014,256,256],[3049,1792,132,200],[1807,2512,88,60],[1807,2574,57,82],[1866,2574,54,82],[3467,2,40,81],[3467,85,34,81],[3467,168,34,81],[1922,2512,51,81],[1922,2595,43,81],[3467,251,44,81],[3065,404,48,81],[1967,2595,40,81],[3467,334,40,81],[3115,417,37,81],[1975,2512,31,81],[3154,417,31,81],[3168,906,
29,80],[3199,906,29,80],[3230,906,48,79],[3280,906,48,79],[3330,906,46,79],[3378,906,46,79],[3426,906,35,79],[3187,417,35,79],[3224,417,45,78],[3271,417,45,78],[3318,417,49,78],[3369,417,39,78],[3410,404,39,78],[3451,417,51,78],[1543,2010,51,78],[1543,2090,55,78],[1596,2010,50,78],[1600,2090,50,78],[1648,2010,34,78],[1652,2090,52,78],[1684,2010,43,78],[4071,2,23,78],[1706,2090,43,78],[1729,2010,46,78],[1751,2090,35,78],[1777,2010,19,78],[1257,1006,35,78],[1257,1086,29,78],[1288,1086,29,78],[1294,
1006,27,77],[1319,1085,38,77],[1323,1006,53,77],[1359,1085,50,77],[1378,1006,31,76],[1411,1006,50,76],[1411,1084,55,75],[1463,1006,59,75],[4018,404,74,73],[4018,479,74,60],[1468,1083,33,73],[1503,1083,33,73],[4071,82,19,72],[1508,3185,29,72],[1539,3185,29,72],[1570,3185,29,72],[1601,3185,29,72],[1632,3185,50,71],[1632,3258,55,71],[1684,3185,50,71],[1689,3258,58,71],[1736,3185,56,71],[1749,3258,40,71],[1791,3258,55,71],[1794,3185,36,71],[1832,3185,46,71],[1848,3258,46,71],[1880,3185,46,71],[1896,3258,
44,71],[1928,3185,71,70],[1942,3257,54,70],[1998,3272,52,70],[2052,3272,38,70],[2092,3272,35,70],[2129,3272,35,70],[2166,3272,48,69],[2216,3272,49,69],[2267,3272,50,69],[2319,3272,49,69],[2370,3272,55,69],[2427,3272,54,69],[2483,3272,52,69],[2,3259,52,69],[56,3259,51,69],[109,3259,51,69],[162,3259,48,69],[212,3259,47,69],[261,3259,47,69],[310,3259,47,69],[359,3259,51,68],[412,3259,48,68],[462,3259,49,68],[513,3259,49,68],[564,3259,53,68],[619,3259,53,68],[674,3259,56,68],[732,3259,53,68],[787,3259,
59,68],[848,3259,49,68],[899,3259,48,68],[949,3259,40,68],[991,3259,51,68],[1044,3259,48,68],[1094,3259,56,68],[1152,3259,48,68],[1202,3259,45,68],[1249,3259,46,68],[1297,3259,46,68],[1345,3259,47,68],[1394,3195,47,68],[1443,3195,48,68],[4071,156,21,68],[1493,3259,49,67],[1544,3259,41,67],[1394,3265,45,67],[2,3195,67,61],[1587,3259,39,67],[1441,3265,39,67],[3183,1792,58,67],[3183,1861,56,66],[3183,1929,52,66],[3237,1929,52,66],[3241,1861,52,66],[3243,1792,52,66],[3291,1929,49,66],[3295,1860,52,66],
[3297,1792,55,66],[2526,3014,55,66],[2526,3082,49,66],[2526,3150,51,66],[2577,3082,57,66],[2583,3014,58,66],[2537,3218,53,66],[2579,3150,52,66],[2537,3286,54,66],[2592,3218,52,66],[2633,3150,48,66],[2636,3082,56,66],[2643,3014,57,66],[2593,3286,56,66],[2646,3218,55,66],[2683,3150,56,66],[2694,3082,57,66],[2702,3014,56,66],[2651,3286,53,66],[2703,3218,53,66],[2741,3150,49,66],[2753,3082,48,66],[2760,3014,49,66],[2706,3286,47,66],[2755,3286,44,66],[2758,3218,52,66],[2792,3150,52,66],[2803,3082,53,66],
[2811,3014,52,66],[2801,3286,52,66],[2812,3218,54,66],[2846,3150,53,66],[2858,3082,52,66],[2865,3014,52,66],[2855,3286,49,66],[2868,3218,49,66],[2901,3150,49,66],[2912,3082,48,66],[2919,3014,45,66],[2906,3286,50,66],[2919,3218,50,66],[2952,3150,52,66],[2962,3082,47,66],[2966,3014,47,66],[2958,3286,51,66],[2971,3218,45,66],[3006,3150,51,66],[3011,3082,50,65],[3015,3014,27,65],[3044,3014,54,65],[3011,3286,55,65],[3018,3218,47,65],[3059,3149,49,65],[3063,3081,51,65],[3100,3014,55,65],[3067,3216,51,65],
[3110,3148,54,65],[3116,3081,54,65],[3157,3014,47,65],[3068,3283,54,65],[3120,3215,51,65],[3166,3148,53,65],[3172,3081,51,65],[3206,3014,51,65],[3124,3282,52,65],[3173,3215,56,65],[3221,3148,57,65],[3225,3081,55,65],[3259,3014,45,65],[3178,3282,34,65],[3214,3282,56,65],[3231,3215,56,65],[3280,3148,44,65],[3282,3081,55,65],[3306,3014,52,65],[3272,3282,55,65],[3289,3215,54,65],[3326,3148,58,65],[3339,3081,57,65],[3360,3014,55,65],[3329,3282,58,65],[3345,3215,51,65],[3386,3148,58,65],[3398,3081,58,65],
[3417,3014,56,65],[3389,3282,54,65],[3398,3215,56,65],[3446,3148,57,65],[3458,3081,55,65],[3475,3014,43,65],[3445,3282,31,65],[3456,3215,39,65],[3478,3282,51,65],[3497,3215,49,65],[3505,3148,56,65],[3515,3081,50,65],[3531,3282,54,65],[3548,3215,55,65],[3563,3148,47,65],[3587,3282,56,65],[3605,3215,47,65],[3645,3282,57,65],[3313,1997,55,65],[3342,1928,54,65],[3349,1860,51,65],[3354,1792,55,65],[3313,2064,58,65],[3370,1995,51,65],[3398,1927,47,65],[3402,1859,24,65],[3411,1792,47,65],[3428,1859,46,65],
[3313,2131,48,65],[3313,2198,56,65],[3363,2131,46,65],[3373,2062,50,65],[3423,1994,48,65],[3447,1926,44,65],[3313,2265,49,65],[3313,2332,46,65],[3313,2399,50,65],[3361,2332,48,65],[3364,2265,48,65],[3371,2198,48,65],[3411,2129,56,65],[3425,2061,53,65],[3473,1993,51,65],[71,3195,65,61],[138,3195,65,60],[205,3195,65,60],[3365,2399,35,65],[3402,2399,35,65],[3411,2332,47,64],[3414,2265,47,64],[3421,2196,49,64],[3469,2128,49,64],[3480,2060,49,64],[3439,2398,47,64],[3460,2331,53,64],[3463,2262,51,64],[3472,
2194,53,64],[3520,2126,53,64],[3488,2397,51,64],[3515,2328,55,64],[3516,2260,56,64],[3527,2192,53,64],[3516,2463,54,64],[3541,2394,57,64],[3572,2326,49,64],[3574,2258,49,64],[3516,2529,47,64],[3516,2595,54,64],[3565,2529,52,64],[3572,2460,54,64],[3600,2392,53,64],[3623,2324,58,64],[3516,2661,45,64],[3516,2727,44,64],[3516,2793,47,64],[3562,2727,47,64],[3563,2661,47,64],[3572,2595,47,64],[3619,2526,50,64],[3628,2458,47,64],[272,3195,64,61],[338,3195,64,61],[404,3195,64,61],[470,3195,64,61],[536,3195,
64,61],[602,3195,64,61],[668,3195,64,61],[734,3195,64,61],[800,3195,64,61],[866,3195,64,61],[932,3195,64,61],[998,3195,64,61],[1064,3195,64,61],[1130,3195,64,61],[1196,3195,64,61],[1262,3195,64,61],[1328,3195,64,61],[3655,2390,64,61],[3516,2859,64,61],[3565,2793,64,61],[3611,2727,64,61],[3612,2661,64,61],[3621,2592,64,61],[3671,2524,64,61],[3677,2453,64,61],[3516,2922,64,61],[3520,2985,64,61],[3567,3048,64,61],[3612,3111,64,61],[3654,3174,64,61],[3704,3237,64,61],[3704,3300,64,61],[3582,2856,64,61],
[3631,2790,64,61],[3677,2724,64,61],[3582,2919,64,61],[3586,2982,64,61],[3633,3045,64,61],[3678,3108,64,61],[3720,3171,64,61],[3678,2655,64,61],[3687,2587,64,61],[3737,2516,64,61],[3770,3234,64,61],[3770,3297,64,61],[3648,2853,64,61],[3697,2787,64,61],[3648,2916,64,61],[3652,2979,64,61],[3699,3042,64,61],[3744,3105,64,61],[3786,3168,64,61],[3743,2718,64,61],[3744,2650,64,61],[3753,2579,64,61],[3836,3231,64,61],[3836,3294,64,61],[3714,2850,64,61],[3714,2913,64,61],[3718,2976,64,61],[359,3329,64,44],
[3765,3039,64,61],[3810,3102,64,60],[3852,3164,64,60],[3763,2781,64,61],[3809,2713,53,64],[3810,2642,50,64],[3902,3226,50,64],[3439,2464,64,32],[3902,3292,48,63],[3952,3292,63,60],[3780,2844,63,60],[3829,2779,47,63],[3780,2906,53,63],[3784,2971,53,63],[3835,2906,50,63],[3831,3036,52,63],[3839,2971,47,63],[3885,3036,44,63],[3918,3101,51,63],[3954,3166,53,63],[4017,541,53,63],[4017,606,54,63],[4017,671,54,63],[4017,736,52,63],[4017,801,49,62],[4017,865,50,62],[4017,929,47,62],[4017,993,47,62],[4017,
1057,62,61],[4017,1120,62,61],[4017,1183,62,61],[4017,1246,62,61],[4017,1309,62,61],[4017,1372,62,61],[4017,1435,62,61],[4017,1498,62,61],[4017,1561,62,61],[4017,1624,62,61],[4017,1687,62,61],[4017,1750,62,61],[4017,1813,62,61],[4017,1876,62,61],[4017,1939,62,61],[4017,2002,62,61],[4017,2065,62,61],[3575,2128,62,61],[3582,2191,62,61],[3639,2128,62,61],[3625,2254,62,61],[3646,2191,62,61],[3703,2128,62,61],[3683,2317,62,61],[3689,2254,62,61],[3710,2191,62,61],[3767,2128,62,61],[3721,2380,62,61],[3747,
2317,62,61],[3753,2254,62,61],[3774,2191,62,61],[3831,2128,62,61],[3743,2443,62,61],[3785,2380,62,61],[3811,2317,62,61],[3817,2254,62,61],[3838,2191,62,61],[3895,2128,62,61],[3803,2506,62,61],[3807,2443,62,61],[3849,2380,62,61],[3875,2317,62,61],[3881,2254,62,61],[3902,2191,62,61],[3959,2128,62,61],[3819,2569,62,61],[3867,2506,62,61],[3871,2443,62,61],[3913,2380,62,61],[3939,2317,62,61],[3945,2254,62,61],[3966,2191,62,61],[4023,2128,62,61],[4030,2191,62,61],[3862,2632,62,61],[3883,2569,62,61],[3931,
2506,62,61],[3935,2443,62,61],[3977,2380,62,61],[4003,2317,62,61],[3864,2695,40,62],[4041,2380,47,62],[3878,2759,46,62],[3906,2695,29,62],[3878,2823,43,62],[3887,2887,43,62],[4009,2254,62,61],[3923,2823,43,62],[3999,2443,40,62],[3926,2759,40,62],[4041,2444,52,62],[3888,2951,52,62],[4066,929,28,62],[3932,2887,53,62],[3995,2507,44,62],[3947,2569,46,62],[3931,3015,46,62],[3942,2951,46,62],[3971,3079,46,62],[3979,3015,58,62],[4041,2508,53,62],[4039,2572,52,62],[3968,2633,58,62],[3876,3101,40,61],[4009,
3143,40,61],[4019,3079,42,61],[4051,3142,42,61],[4009,3206,47,61],[425,3329,61,44],[4017,3269,44,61],[4039,2636,52,61],[3968,2697,61,61],[4039,2699,46,61],[3990,2760,43,61],[3968,2823,47,61],[3987,2886,43,61],[4017,2823,44,61],[3990,2949,43,61],[4032,2886,57,61],[4035,2949,46,61],[3451,987,61,60],[4039,3012,42,61],[3463,906,61,61],[3451,1049,61,61],[3451,1112,61,61],[3451,1175,61,61],[3451,1238,61,61],[4063,3205,31,61],[3451,1301,61,61],[3451,1364,61,61],[3451,1427,61,61],[3451,1490,61,61],[3451,
1553,61,61],[3451,1616,61,61],[3451,1679,61,61],[3460,1742,61,61],[3476,1805,61,61],[3493,1868,61,61],[3526,1931,61,61],[3526,1994,61,61],[3531,2057,61,61],[3514,969,61,61],[3526,906,61,61],[3570,504,61,61],[3570,567,61,61],[3570,630,61,61],[3570,693,61,61],[3570,756,61,61],[3570,819,61,61],[3514,1032,61,61],[3514,1095,61,61],[3514,1158,61,61],[3514,1221,61,61],[3514,1284,61,61],[3514,1347,61,61],[3514,1410,61,61],[3514,1473,61,61],[3514,1536,61,61],[3514,1599,61,61],[3514,1662,61,61],[3523,1725,
61,61],[3539,1788,61,61],[3556,1851,61,61],[3589,1914,61,61],[3589,1977,61,61],[3594,2040,61,61],[3577,969,61,61],[3589,882,61,61],[3633,504,61,61],[3633,567,61,61],[3633,630,61,61],[3633,693,61,61],[3633,756,61,61],[3633,819,61,61],[3577,1032,61,61],[3577,1095,61,61],[3577,1158,61,61],[3577,1221,61,61],[3577,1284,61,61],[3577,1347,61,61],[3577,1410,61,61],[3577,1473,61,61],[3577,1536,61,61],[3577,1599,61,61],[3577,1662,51,61],[3586,1725,48,61],[3602,1788,50,61],[3630,1662,51,61],[3619,1851,45,61],
[3636,1725,52,61],[3654,1788,50,61],[3652,1914,52,61],[3652,1977,52,61],[3666,1851,51,61],[3657,2040,51,61],[3706,1914,52,61],[3706,1977,56,61],[3710,2040,59,61],[3640,945,54,61],[3652,882,54,61],[3696,504,50,61],[3696,567,52,61],[3748,504,46,61],[3696,630,48,61],[3696,693,46,61],[3696,756,50,61],[3696,819,51,61],[3744,693,49,61],[3746,630,50,61],[3748,756,51,61],[3750,567,45,61],[3795,693,52,61],[3796,504,50,61],[3797,567,52,61],[3798,630,52,61],[3848,504,52,61],[3851,567,51,61],[3902,504,52,61],
[3956,504,59,61],[3904,567,54,61],[3960,567,55,61],[3849,693,50,61],[3852,630,56,61],[3910,630,49,61],[3901,693,60,52],[3845,2844,29,60],[3961,630,47,60],[3963,692,45,60],[3926,2633,38,60],[3995,2571,42,60],[3901,747,43,60],[3946,754,34,60],[3801,756,54,60],[3857,809,55,60],[3801,818,54,60],[3760,819,38,60],[3914,816,58,60],[3857,871,54,60],[3771,881,59,60],[3708,882,56,60],[3913,878,42,60],[3493,1931,24,60],[3974,816,40,60],[3957,878,42,60],[4035,2762,59,52],[3954,3231,24,59],[3832,933,43,59],[3771,
943,39,59],[3719,944,43,59],[3877,940,38,59],[4017,3332,58,31],[3812,994,44,58],[3771,1004,35,58],[3719,1005,46,58],[3640,1008,45,58],[3917,940,41,58],[3960,940,44,58],[3917,1E3,42,58],[3937,2695,29,57],[3982,754,33,57],[3858,1001,57,52],[3808,1054,42,57],[3764,1065,42,57],[3719,1065,43,57],[3961,1E3,41,57],[3961,1059,41,57],[3640,1068,39,57],[3852,1055,41,57],[3808,1113,40,57],[3764,1124,40,57],[3706,1124,46,57],[3640,1127,44,57],[3895,1060,44,57],[3850,1114,43,57],[3941,1118,44,57],[3806,1173,45,
57],[3760,1183,42,57],[3706,1183,45,57],[4066,993,28,57],[3313,2466,56,31],[3640,1186,49,56],[3853,1173,49,56],[3904,1177,53,56],[3959,1177,53,56],[3371,2466,56,36],[3853,1231,45,56],[3687,1008,30,56],[3804,1232,44,56],[3760,1242,39,56],[3706,1242,43,56],[3640,1244,42,56],[3900,1235,41,56],[3850,1289,39,56],[3801,1290,42,56],[3760,1300,37,56],[3706,1300,40,56],[3640,1302,43,56],[3943,1235,42,56],[3891,1293,42,56],[3845,1347,43,56],[3799,1348,44,56],[3719,1358,47,56],[3640,1360,44,56],[3935,1293,45,
56],[3890,1351,43,56],[3935,1351,55,52],[3935,1405,55,52],[1482,3328,55,37],[3768,1406,55,52],[1539,3328,55,37],[3706,1416,55,52],[3640,1418,54,52],[1942,3329,54,29],[4067,2317,27,54],[3845,1405,40,54],[4068,801,26,54],[3771,1460,50,53],[3706,1470,51,53],[3640,1472,49,53],[3640,1527,48,53],[3640,1582,50,53],[3690,1527,49,53],[3683,1637,49,53],[3692,1582,52,53],[3741,1525,52,53],[3690,1692,53,52],[3734,1637,52,53],[3746,1580,52,53],[3795,1515,50,53],[2166,3343,53,25],[3706,1746,50,53],[3719,1801,52,
53],[3719,1856,49,53],[3760,1911,50,53],[3770,1856,49,53],[3764,1966,50,53],[3812,1911,50,53],[1807,2658,53,21],[3771,2021,48,53],[3816,1966,49,53],[3821,2021,47,53],[3823,1461,53,52],[3758,1692,49,53],[3887,1409,46,53],[3788,1635,45,53],[3800,1570,46,53],[3847,1515,47,53],[3773,1747,46,53],[3918,3166,34,53],[3773,1802,48,52],[3821,1856,49,52],[3864,1910,46,52],[1998,3344,52,25],[3867,1964,52,52],[3809,1690,50,52],[3821,1744,50,52],[3823,1798,49,52],[3872,1852,51,52],[3912,1906,47,52],[3895,1119,
30,52],[3835,1625,49,52],[3848,1570,49,52],[3861,1679,45,52],[3886,1624,46,52],[3873,1733,52,52],[3908,1678,51,52],[3874,1787,47,52],[3980,3231,26,52],[3923,1787,45,52],[3970,1459,45,52],[1862,2658,52,21],[3952,3354,51,19],[2052,3344,50,29],[3878,1464,50,36],[2221,3354,50,19],[3771,2076,44,50],[3817,2076,44,50],[3068,3350,50,23],[3987,1118,28,50],[3863,2076,35,50],[3681,1068,35,50],[3927,1732,47,49],[3896,1502,48,49],[3925,1841,46,49],[2763,454,45,48],[2810,454,48,45],[488,3329,47,44],[537,3329,47,
44],[3857,756,42,47],[3970,1783,44,47],[2860,454,38,47],[2900,454,41,47],[3973,1832,42,47],[3973,1881,42,47],[3768,1358,29,46],[3982,1293,32,46],[3654,3237,46,36],[2943,454,46,45],[2991,454,44,46],[3976,1513,39,46],[3899,1553,41,46],[3870,2018,43,46],[3900,2066,46,46],[3915,2018,43,46],[3948,2066,42,46],[3921,1960,40,45],[3960,2007,43,45],[3963,1930,35,45],[1596,3328,25,45],[3934,1601,42,45],[3961,1648,40,45],[2,3330,44,43],[48,3330,44,43],[586,3329,36,44],[3976,1695,39,44],[3942,1561,44,37],[624,
3329,24,44],[3011,3353,44,20],[94,3330,43,43],[139,3330,43,43],[3567,3111,43,34],[2104,3344,43,29],[184,3330,42,36],[1623,3331,29,42],[228,3330,42,34],[3037,454,26,42],[3520,3048,42,31],[3589,945,42,22],[1654,3331,40,42],[1696,3331,40,42],[272,3330,41,40],[315,3330,41,40],[1738,3331,38,41],[1778,3331,41,40],[1821,3331,41,34],[3640,1637,41,23],[1864,3331,41,41],[3612,3174,28,39],[650,3334,29,39],[3888,3015,39,19],[3124,3349,38,24],[3930,1464,38,35],[3978,1600,37,24],[3976,1741,35,37],[681,3334,36,
32],[3988,1561,27,36],[719,3334,36,34],[3963,1977,36,28],[3946,1513,27,35],[3987,1235,26,35],[1907,3331,26,35],[3686,1358,28,35],[757,3334,34,32],[4063,3268,26,34],[3971,3143,34,21],[2273,3343,33,30],[3899,1601,33,21],[793,3334,33,33],[1897,2512,23,33],[4063,3075,31,33],[4072,541,22,33],[2308,3343,32,27],[2342,3343,32,30],[3594,2103,32,21],[1041,2181,32,8],[828,3334,32,32],[4063,2816,31,27],[3931,3079,31,20],[4069,857,25,30],[4063,3110,28,30],[4063,2845,30,29],[2376,3343,25,30],[4071,226,23,30],[2403,
3343,29,29],[2434,3343,29,27],[2465,3343,28,27],[2495,3343,28,28],[3934,1648,25,28],[862,3334,28,28],[892,3334,27,27],[921,3334,27,27],[950,3334,27,27],[4069,889,25,25],[3164,3349,24,24],[2763,988,16,16],[3463,969,16,16],[3836,3357,16,16],[2781,988,16,16],[3481,969,16,16],[3854,3357,16,16],[2799,988,16,16],[3872,3357,16,16],[2817,988,16,16],[3890,3357,16,16],[3504,417,10,10],[3509,2,5,5],[1538,1006,3,3]],radix:{"assets/gfx/":{"misc/":{"wip.png":0,"discord.png":1,"eye.png":2,box_:{"side.png":867,"top.png":868},
"gigapixel.png":897,"megapixel.png":898,"pixel.png":899},"terminal/backgrounds/":{d:{"ate_night.png":4,ragon_bowl_:{"cereal.png":5,"mac.png":6,"ramen.png":7,s:{"hrimp.png":8,"undae.png":9},"veggies.png":10}},f:{etch_quest_level:{"1.png":11,"2.png":12,"3.png":13},orest_:{"spring.png":14,"winter.png":15}},"in_the_city.png":16,"light_and_leaves.png":17,m:{"atulka.png":18,o:{"ku.png":19,"nstera.png":20},"ushroom_planet.png":21},"on_a_limb.png":22,"reef.png":23,s:{"ensory_overload.png":24,"ynthwave.png":25},
t:{h:{"e_koi_wave.png":26,"reads.png":27},"ree.png":28},"werewolf.png":29},"dreams/":{"alpha_head.png":30,lock_:{s:{"moke.png":3,"uit.png":31},"1.png":32,"2.png":33,"3.png":34,"4.png":35,"key.png":36},"grass.png":37,"stone.png":38,"hand.png":39},"glyphs/":{B612_Mono_:{Bold_:{4:{"0.png":44,"1.png":45,"7.png":101,"8.png":164,"9.png":221,"3.png":784,"2.png":814,"4.png":840,"5.png":845,"6.png":876},Italic_:{4:{"0.png":47,"1.png":48,"7.png":104,"8.png":176,"9.png":242,"3.png":785,"2.png":815,"4.png":841,
"5.png":843,"6.png":873},1:{0:{"2.png":41,"6.png":46,"0.png":123,"3.png":124,"7.png":125,"4.png":138,"8.png":157,"5.png":238,"9.png":627,"1.png":726},2:{"3.png":68,"5.png":69,"4.png":85,"1.png":141,"0.png":647,"6.png":653,"2.png":757},1:{"2.png":139,"3.png":140,"6.png":420,"9.png":711,"1.png":727,"4.png":728,"5.png":729,"7.png":730,"8.png":731,"0.png":756}},9:{"1.png":71,"3.png":72,"2.png":106,"8.png":126,"0.png":317,"4.png":712,"5.png":732,"7.png":733,"9.png":734,"6.png":869},3:{"6.png":70,"5.png":175,
"3.png":239,"7.png":240,"8.png":241,"4.png":847,"9.png":872,"2.png":888},5:{"4.png":177,"6.png":178,"7.png":179,"0.png":243,"2.png":244,"1.png":310,"3.png":311,"5.png":312,"9.png":662,"8.png":798},6:{"4.png":91,"3.png":180,"7.png":181,"5.png":245,"6.png":246,"8.png":247,"9.png":313,"0.png":685,"2.png":686,"1.png":799},7:{"1.png":182,"9.png":183,"2.png":248,"4.png":249,"5.png":250,"6.png":251,"7.png":252,"8.png":253,"0.png":314,"3.png":315},8:{"1.png":105,"3.png":184,"5.png":185,"6.png":186,"0.png":254,
"2.png":255,"7.png":256,"8.png":257,"9.png":258,"4.png":316}},1:{2:{"3.png":63,"5.png":64,"4.png":84,"1.png":137,"6.png":682,"0.png":714,"2.png":754},0:{"6.png":43,"0.png":119,"3.png":120,"7.png":121,"2.png":133,"4.png":134,"8.png":156,"5.png":217,"9.png":708,"1.png":719},1:{"2.png":135,"3.png":136,"6.png":419,"9.png":709,"1.png":720,"5.png":721,"7.png":722,"8.png":723,"0.png":752,"4.png":753}},9:{"1.png":66,"3.png":67,"2.png":103,"8.png":122,"0.png":309,"4.png":710,"7.png":724,"9.png":725,"5.png":755,
"6.png":864},3:{"6.png":65,"5.png":163,"3.png":218,"7.png":219,"8.png":220,"4.png":855,"9.png":871,"2.png":887},5:{"4.png":165,"6.png":166,"7.png":167,"0.png":222,"2.png":223,"1.png":302,"3.png":303,"5.png":304,"9.png":661,"8.png":797},6:{"4.png":90,"3.png":168,"7.png":169,"5.png":224,"6.png":225,"8.png":226,"9.png":305,"0.png":683,"2.png":684,"1.png":825},7:{"1.png":170,"9.png":171,"2.png":227,"4.png":228,"5.png":229,"6.png":230,"7.png":231,"8.png":232,"0.png":306,"3.png":307},8:{"1.png":102,"3.png":172,
"5.png":173,"6.png":174,"0.png":233,"2.png":234,"7.png":235,"8.png":236,"9.png":237,"4.png":308}},Italic_:{4:{"0.png":50,"1.png":51,"7.png":107,"8.png":190,"9.png":261,"3.png":786,"2.png":833,"4.png":851,"5.png":859,"6.png":882},1:{0:{"2.png":42,"6.png":49,"0.png":127,"3.png":128,"4.png":142,"7.png":143,"8.png":144,"5.png":259,"9.png":663,"1.png":735},2:{"3.png":57,"5.png":58,"4.png":73,"1.png":147,"0.png":713,"6.png":715,"2.png":761},1:{"2.png":145,"3.png":146,"6.png":421,"1.png":736,"5.png":737,
"7.png":738,"8.png":739,"0.png":758,"4.png":759,"9.png":760}},9:{"1.png":59,"3.png":60,"2.png":108,"8.png":129,"0.png":325,"4.png":687,"5.png":740,"7.png":741,"9.png":742,"6.png":883},3:{"6.png":74,"5.png":187,"7.png":188,"8.png":189,"3.png":260,"4.png":858,"9.png":874,"2.png":889},5:{"4.png":191,"6.png":192,"7.png":193,"0.png":262,"2.png":263,"1.png":318,"3.png":319,"5.png":320,"9.png":762,"8.png":826},6:{"4.png":86,"3.png":194,"7.png":195,"5.png":264,"6.png":265,"8.png":266,"9.png":321,"0.png":763,
"2.png":764,"1.png":827},7:{"1.png":196,"9.png":197,"2.png":267,"4.png":268,"5.png":269,"6.png":270,"7.png":271,"8.png":272,"0.png":322,"3.png":323},8:{"1.png":114,"3.png":198,"5.png":199,"6.png":200,"0.png":273,"2.png":274,"7.png":275,"8.png":276,"9.png":277,"4.png":324}},Regular_:{4:{"0.png":53,"1.png":54,"7.png":109,"8.png":204,"9.png":280,"3.png":787,"2.png":834,"4.png":852,"5.png":866,"6.png":884},9:{"1.png":61,"3.png":62,"2.png":110,"8.png":132,"0.png":333,"7.png":749,"9.png":750,"5.png":773,
"4.png":776,"6.png":878},1:{2:{"3.png":75,"4.png":76,"5.png":77,"1.png":154,"0.png":768,"2.png":769,"6.png":775},0:{"6.png":52,"0.png":130,"3.png":131,"2.png":148,"4.png":149,"7.png":150,"8.png":151,"5.png":278,"1.png":743,"9.png":744},1:{"2.png":152,"3.png":153,"6.png":422,"1.png":745,"5.png":746,"7.png":747,"8.png":748,"0.png":765,"4.png":766,"9.png":767}},3:{"6.png":78,"5.png":201,"7.png":202,"8.png":203,"3.png":279,"4.png":865,"9.png":875,"2.png":890},5:{"4.png":205,"6.png":206,"7.png":207,"0.png":281,
"2.png":282,"1.png":326,"3.png":327,"5.png":328,"9.png":770,"8.png":828},6:{"4.png":87,"3.png":208,"7.png":209,"5.png":283,"6.png":284,"8.png":285,"9.png":329,"0.png":771,"2.png":772,"1.png":829},7:{"1.png":210,"9.png":211,"2.png":286,"4.png":287,"5.png":288,"6.png":289,"7.png":290,"8.png":291,"0.png":330,"3.png":331},8:{"1.png":115,"3.png":212,"5.png":213,"6.png":214,"0.png":292,"2.png":293,"7.png":294,"8.png":295,"9.png":296,"4.png":332}}},Major_Mono_Display_Regular_:{4:{"0.png":97,"1.png":98,"7.png":400,
"8.png":411,"9.png":605,"3.png":839,"5.png":842,"2.png":846,"4.png":854,"6.png":881},9:{"1.png":99,"3.png":100,"2.png":401,"9.png":418,"0.png":624,"7.png":625,"8.png":626,"5.png":774,"4.png":850,"6.png":877},1:{2:{"3.png":94,"5.png":95,"4.png":96,"0.png":601,"1.png":602,"2.png":603,"6.png":780},1:{"3.png":399,"1.png":408,"5.png":409,"7.png":494,"0.png":595,"2.png":596,"4.png":597,"6.png":598,"8.png":599,"9.png":600},0:{"3.png":407,"6.png":493,"0.png":587,"1.png":588,"2.png":589,"4.png":590,"5.png":591,
"7.png":592,"8.png":593,"9.png":594}},3:{"6.png":89,"8.png":410,"3.png":495,"7.png":496,"5.png":604,"4.png":844,"9.png":853,"2.png":896},6:{"4.png":216,"3.png":413,"7.png":414,"5.png":502,"6.png":608,"8.png":609,"9.png":610,"0.png":782,"2.png":783,"1.png":824},7:{"1.png":415,"9.png":416,"4.png":503,"0.png":611,"2.png":612,"3.png":613,"5.png":614,"6.png":615,"7.png":616,"8.png":617},8:{"1.png":162,"3.png":417,"5.png":504,"6.png":505,"0.png":618,"2.png":619,"4.png":620,"7.png":621,"8.png":622,"9.png":623},
5:{"6.png":412,"0.png":497,"1.png":498,"3.png":499,"4.png":500,"7.png":501,"2.png":606,"5.png":607,"9.png":681,"8.png":781}},I:{barra_Real_Nova_Regular_:{4:{"0.png":55,"1.png":56,"7.png":487,"8.png":515,"9.png":631,"2.png":835,"3.png":836,"4.png":848,"5.png":870,"6.png":885},9:{"1.png":82,"3.png":83,"8.png":406,"2.png":490,"0.png":642,"5.png":777,"7.png":812,"9.png":813,"4.png":818,"6.png":879},1:{2:{"3.png":79,"4.png":80,"5.png":81,"1.png":630,"0.png":790,"2.png":817,"6.png":830},0:{"6.png":88,"3.png":158,
"9.png":394,"0.png":403,"2.png":483,"4.png":484,"7.png":485,"8.png":486,"5.png":628,"1.png":808},1:{"3.png":510,"9.png":511,"2.png":629,"6.png":751,"7.png":788,"0.png":789,"8.png":800,"1.png":809,"5.png":810,"4.png":816}},7:{"7.png":93,"4.png":112,"8.png":159,"2.png":298,"1.png":395,"5.png":396,"9.png":489,"0.png":637,"3.png":638,"6.png":639},8:{"7.png":40,"1.png":113,"8.png":299,"5.png":397,"6.png":398,"2.png":405,"3.png":522,"9.png":523,"0.png":640,"4.png":641},6:{"4.png":92,"5.png":297,"8.png":404,
"7.png":521,"3.png":634,"6.png":635,"9.png":636,"0.png":831,"2.png":832,"1.png":837},3:{"6.png":111,"5.png":512,"7.png":513,"8.png":514,"3.png":648,"4.png":860,"9.png":861,"2.png":893},5:{"3.png":488,"1.png":516,"2.png":517,"4.png":518,"6.png":519,"7.png":520,"0.png":632,"5.png":633,"9.png":716,"8.png":811}},nconsolata_Regular_:{4:{"0.png":117,"1.png":118,"7.png":491,"8.png":667,"9.png":689,"2.png":821,"3.png":822,"4.png":856,"5.png":857,"6.png":886},1:{2:{"4.png":155,"3.png":160,"5.png":161,"1.png":666,
"0.png":806,"2.png":807,"6.png":838},0:{"6.png":116,"0.png":643,"2.png":649,"4.png":650,"7.png":651,"8.png":652,"3.png":654,"5.png":655,"1.png":791,"9.png":801},1:{"2.png":664,"3.png":665,"6.png":717,"1.png":792,"4.png":793,"5.png":794,"0.png":802,"7.png":803,"8.png":804,"9.png":805}},9:{"1.png":300,"3.png":301,"2.png":492,"8.png":646,"0.png":707,"7.png":795,"9.png":796,"5.png":820,"4.png":849,"6.png":880},3:{"6.png":524,"3.png":644,"7.png":656,"8.png":657,"5.png":688,"4.png":862,"9.png":863,"2.png":894},
6:{"3.png":645,"4.png":659,"5.png":673,"7.png":674,"6.png":692,"8.png":693,"9.png":694,"0.png":778,"2.png":779,"1.png":823},8:{"1.png":215,"3.png":660,"5.png":679,"6.png":680,"0.png":701,"2.png":702,"4.png":703,"7.png":704,"8.png":705,"9.png":706},5:{"6.png":658,"0.png":668,"1.png":669,"3.png":670,"4.png":671,"7.png":672,"2.png":690,"5.png":691,"9.png":718,"8.png":819},7:{"1.png":675,"4.png":676,"5.png":677,"9.png":678,"0.png":695,"2.png":696,"3.png":697,"6.png":698,"7.png":699,"8.png":700}}},"Epetri_AIRY-":{regular1_Regular_:{1:{0:{"0.png":334,
"1.png":335,"2.png":336,"3.png":337,"4.png":338,"6.png":339,"7.png":340,"8.png":341,"9.png":342,"5.png":508},1:{"0.png":343,"1.png":344,"2.png":345,"3.png":346,"4.png":347,"5.png":348,"6.png":349,"7.png":350,"8.png":351,"9.png":352},2:{"0.png":353,"1.png":354,"2.png":355}},4:{"8.png":356,"9.png":357},5:{"0.png":358,"1.png":359,"2.png":360,"3.png":361,"4.png":362,"5.png":363,"6.png":364,"7.png":365},6:{"5.png":366,"6.png":367,"7.png":368,"8.png":369,"9.png":370},7:{"0.png":371,"1.png":372,"2.png":373,
"4.png":374,"5.png":375,"6.png":376,"7.png":377,"8.png":378,"9.png":379,"3.png":509},8:{"0.png":380,"1.png":381,"2.png":382,"3.png":383,"4.png":384,"5.png":385,"6.png":386,"7.png":387,"8.png":388,"9.png":389},9:{"0.png":390,"7.png":391,"8.png":392,"9.png":393},"32.png":892},anorexic2_Regular_:{1:{0:{"0.png":423,"1.png":424,"2.png":425,"3.png":426,"4.png":427,"6.png":428,"7.png":429,"8.png":430,"9.png":431,"5.png":506},1:{"0.png":432,"1.png":433,"2.png":434,"3.png":435,"4.png":436,"5.png":437,"6.png":438,
"7.png":439,"8.png":440,"9.png":441},2:{"0.png":442,"1.png":443,"2.png":444}},4:{"8.png":445,"9.png":446},5:{"0.png":447,"1.png":448,"2.png":449,"3.png":450,"4.png":451,"5.png":452,"6.png":453,"7.png":454},6:{"5.png":455,"6.png":456,"7.png":457,"8.png":458,"9.png":459},7:{"0.png":460,"1.png":461,"2.png":462,"4.png":463,"5.png":464,"6.png":465,"7.png":466,"8.png":467,"9.png":468,"3.png":507},8:{"0.png":469,"1.png":470,"2.png":471,"3.png":472,"4.png":473,"5.png":474,"6.png":475,"7.png":476,"8.png":477,
"9.png":478},9:{"0.png":479,"7.png":480,"8.png":481,"9.png":482},"32.png":891}},Kvar_SQ_Regular_:{1:{0:{"0.png":525,"1.png":526,"2.png":527,"3.png":528,"4.png":529,"5.png":530,"6.png":531,"7.png":532,"8.png":533,"9.png":534},1:{"0.png":535,"1.png":536,"2.png":537,"3.png":538,"4.png":539,"5.png":540,"6.png":541,"7.png":542,"8.png":543,"9.png":544},2:{"0.png":545,"1.png":546,"2.png":547}},4:{"8.png":548,"9.png":549},5:{"0.png":550,"1.png":551,"2.png":552,"3.png":553,"4.png":554,"5.png":555,"6.png":556,
"7.png":557},6:{"5.png":558,"6.png":559,"7.png":560,"8.png":561,"9.png":562},7:{"0.png":563,"1.png":564,"2.png":565,"3.png":566,"4.png":567,"5.png":568,"6.png":569,"7.png":570,"8.png":571,"9.png":572},8:{"0.png":573,"1.png":574,"2.png":575,"3.png":576,"4.png":577,"5.png":578,"6.png":579,"7.png":580,"8.png":581,"9.png":582},9:{"0.png":583,"7.png":584,"8.png":585,"9.png":586},"32.png":895}},"ui/lid.png":402}}}}),pb=R((x,z)=>{var b=(a=>{let e=(c,h,n)=>(Object.keys(c).forEach(p=>{Number.isInteger(c[p])?
n[c[p]]=h+p:e(c[p],h+p,n)}),n),f=e(a.radix,"",[]),d=a.frames,g=f.reduce((c,h,n)=>{h=d[n];return c[f[n]]={frame:{x:h[0],y:h[1],w:h[2],h:h[3]}},c},{});return{meta:a.meta,frames:g}})(Oc());b.meta.size.w+=2;b.meta.size.h+=2;x=(a=>Object.keys(a.frames).reduce((e,f)=>{let d=a.meta.size,g=a.frames[f].frame,c=.0035*g.w,h=.0035*g.h;return e[f]=[(g.x+c)/d.w,(g.y+h)/d.h,(g.x+g.w-c)/d.w,(g.y+g.h-h)/d.h],e},{}))(b);b=(a=>Object.keys(a.frames).reduce((e,f)=>{let d=a.frames[f].frame;return e[f]={w:d.w,h:d.h},e},
{}))(b);z.exports={atlas_uvs:x,atlas_sizes:b}}),Jb=R((x,z)=>{var b=Yb(),{atlas_uvs:a,atlas_sizes:e}=pb(),f="\n !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".split("").reduce((q,l)=>({...q,[l]:!0}),{}),d=new Int16Array(1E4),g=new Int8Array(1E4),c=new Int16Array(1E4),h=new Float32Array(1E4),n=new Float32Array(1E4),p={},m={},v={},w={},t={};for(let q in b){p[q]={};m[q]={};v[q]={};w[q]={};t[q]={};for(let l in b[q]){p[q][l]=`assets/gfx/glyphs/${q}_${l}_`.replace(/ /g,
"_");m[q][l]={};v[q][l]={};w[q][l]={};t[q][l]={};let r=b[q][l];Object.keys(r.kerning_pairs).forEach(A=>{let y=A.split(",");void 0===t[y[0]]&&(t[y[0]]={});t[y[0]][y[1]]=r.kerning_pairs[A]})}}z.exports={layout_text:({text:q,parts:l,font:r,subfamily:A="Regular",margin:y,line_height:C=1,size:B,tint:J,border:F,overlay:I,kern_scale:G,kern_scales:O,overlap_id:P})=>{let D=[],L=null,M=null,X=-1/0,ea=-1/0;null==l&&(l=[{text:q,font:r,subfamily:A,size:B,tint:J}]);for(q=0;q<l.length;q++){var V=l[q].text,H=l[q].size||
B;let u=l[q].tint||J,E=l[q].overlap_id||P;var ca=l[q].font||r,U=l[q].subfamily||A||"Regular",W=b[ca][U],da=W.glyph_metrics;let {padding:Q,units_per_em:T,render_px:aa}=W;W=Q/aa*T;(null==L||null==M)&&(L-=W,M-=W);var fa=m[ca][U];let ia=v[ca][U],K=w[ca][U];var ba=t[ca][U];U=p[ca][U];ca=V.length;for(var S=0;S<ca;S++){var k=V.charCodeAt(S);f[V[S]]||(k=63);d[S]=k;void 0===fa[k]&&(fa[k]=`${U}${k}.png`,ia[k]=a[fa[k]],K[k]=e[fa[k]])}for(V=0;V<ca-1;V++)g[V]=0,fa=d[V],void 0!==ba[fa]&&void 0!==ba[fa][d[V+1]]&&
(g[V]=ba[fa][d[V+1]]);for(ba=0;ba<ca;ba++)V=da[d[ba]],void 0!==V&&(c[ba]=V[2]+g[ba],h[ba]=V[0]-W,n[ba]=V[1]-W);da=1/T*H;H/=aa;ba=null;for(V=0;V<ca;V++){fa=d[V];if(void 0!==y&&null==ba&&32!==fa&&10!==fa){for(U=ba=0;V+U<ca&&32!==d[V+U]&&10!==d[V+U];)ba+=c[V+U]+g[V+U],U+=1;(L+ba)*da>y&&(M+=C*T,L=-W)}10===fa?(M+=C*T,L=-W):(U=K[fa],k=(h[V]+L)*da,S=(n[V]-M)*da,D.push({type:"msdf",transform:{pos:[k,S,0],rot:[0,0,0],scale:[H*U.w,H*U.h,1]},origin:[0,0],tint:u,uvs:ia[fa],overlay:I,overlap_id:E}),L+=(c[V]+g[V])*
(G||1)*((O||[])[V]||1),k+=H*U.w,U=S-H*U.h,k>X&&(X=k),-U>ea&&(ea=-U));32===fa&&(ba=null)}}l=[];return F&&(l=D.map((u,E)=>({type:"sdf",transform:{pos:[u.transform.pos[0],u.transform.pos[1],u.transform.pos[2]+.01*(D.length-E+1)],rot:u.transform.rot,scale:u.transform.scale},origin:u.origin,tint:F,uvs:u.uvs,overlay:I})),D=l.concat(D)),{type:"no",transform:{pos:[0,0,0],rot:[0,0,0],scale:[1,1,1]},kids:D,size:[X,ea]}}}}),qb=R((x,z)=>{z.exports={parse_2_parts:b=>{let a=null,e=[];return b.split(/<(\/?[a-zA-Z0-9_])+>/g).forEach((f,
d)=>{0!=f.length&&(1==d%2?a="/"==f[0]?null:f:e.push({tag:a,text:f}))}),e}}}),Pc=R(()=>{var x=ra(),z=Ga(),b=$a(),{math:a}=na(),e=xa();x.on("start_new_game",f=>{x.emit(f,"beat_start",{beat_id:"startup"});f.props[f.props_by_id.terminal].state.wallpaper="matulka";f.mailbox=[...a.range(0,50).map(d=>({id:"junk"+d,status:"read"}))];b.run(f.vm,[["wait",300],["play","bye_back",0,!0,"bg_music"],["play","bye_hacks",0,!0,"bg_glitch"],["lerp_volume","bg_music",0,.3,300]]);z.queue(f.automator_state,[[700,"(wait)"],
[0,"(play bye_hit 0.06 false bye_hit)"],[3,"(jerk_loader 3)"],[0,"(stop bye_hit)"],[96,"(wait)"],[0,"(play bye_hit 0.05 false bye_hit -600)"],[3,"(jerk_loader 3)"],[0,"(stop bye_hit)"]]);z.queue(f.automator_state,[[200,"(wait)"],[100,"(lerp desktop_boot_loader 0 0.1)"],[400,"(lerp desktop_boot_loader 0.1 0.7)"],[100,"(lerp desktop_boot_loader 0.5 0.6)"],[15,"(lerp desktop_boot_loader 0.7 0.8)"],[0,"(set desktop_boot_loader 0.65)"],[0,"(play bye_hit 0.04 false bye_hit -200)"],[3,"(jerk_loader 3)"],
[0,"(stop bye_hit)"],[100,"(wait)"],[15,"(lerp desktop_boot_loader 0.1 0.3)"],[0,"(set desktop_boot_loader 0.25)"],[20,"(wait)"],[10,"(lerp desktop_boot_loader 0.6 0.5)"],[5,"(lerp desktop_boot_loader 0.3 0.5)"],[0,"(set desktop_boot_loader 0.35)"],[0,"(play bye_hit 0.05 false bye_hit)"],[3,"(jerk_loader 3)"],[0,"(stop bye_hit)"],[20,"(wait)"],[10,"(lerp desktop_boot_loader 0.3 0.4)"],[0,"(set desktop_boot_loader 0)"],[0,"(set desktop_glitch 0.05)"],[200,"(wait)"],[30,"(lerp desktop_reveal 0 1)"],
[240,"(wait)"],[0,"(set desktop_glitch 0.1)"],[0,"(popup junk1)"]]);f.dont_save=!0});x.on("dismissed_popup/junk1",f=>{f.flags["a/settings"]=!0;z.queue(f.automator_state,[[200,"(wait)"],[10,"(lerp_volume bg_glitch 0 0.2)"]]);z.queue(f.automator_state,[[200,"(wait)"],[0,"(set desktop_glitch 0.2)"],[0,"(play bye_hit 0.4 false)"],[0,"(shake_cam 0.1)"],[0,"(popup junk3)"],[3,"(wait)"],[0,"(popup junk14)"],[3,"(wait)"],[0,"(popup junk2)"]])});x.on("dismissed_popup/junk3",f=>{z.queue(f.automator_state,[[130,
"(wait)"],[0,"(popup junk4)"],[140,"(wait)"],[0,"(play bye_stabs_1 0.4 false)"]])});x.on("dismissed_popup/junk4",f=>{z.queue(f.automator_state,[[120,"(wait)"],[0,"(popup junk5)"]])});x.on("dismissed_popup/junk5",f=>{z.queue(f.automator_state,[[120,"(wait)"],[0,"(set_flag a/mail)"],[0,"(send_mail ob2 0)"]])});x.on("read_mail/ob2",f=>{z.queue(f.automator_state,[[200,"(wait)"],[0,"(set desktop_spooky_mode true)"],[0,"(set desktop_glitch 1)"],[0,"(play bye_hit 0.4 false)"],[0,"(shake_cam 0.2)"],[10,"(lerp_volume bg_glitch 0.2 0.5)"],
[0,"(close_apps)"],[0,"(unset_flag a/mail)"],[90,"(wait)"],[0,"(popup junk8)"],[5,"(wait)"],[0,"(popup junk7)"],[5,"(wait)"],[0,"(popup junk6)"],[140,"(wait)"],[0,"(play bye_stabs_2 0.4 false)"]])});x.on("dismissed_popup/junk6",f=>{z.queue(f.automator_state,[[90,"(wait)"],[0,"(play bye_stabs_3 0.4 false)"]])});x.on("dismissed_popup/junk8",f=>{z.queue(f.automator_state,[[140,"(wait)"],[0,"(popup junk9)"],[130,"(wait)"],[0,"(play bye_stabs_4 0.4 false)"]])});x.on("dismissed_popup/junk9",f=>{z.queue(f.automator_state,
[[180,"(wait)"],[0,"(popup junk10)"],[160,"(wait)"],[0,"(play bye_stabs_5 0.4 false)"]])});x.on("dismissed_popup/junk10",f=>{z.queue(f.automator_state,[[210,"(wait)"],[0,"(play bye_hit 0.2 false)"],[3,"(lerp desktop_reveal 1 0.01)"],[3,"(lerp_volume bg_glitch 0.5 0)"],[0,"(set desktop_glitch 0)"],[120,"(wait)"],[800,"(lerp desktop_remote_reboot 0 1)"]]);z.queue(f.automator_state,[[200,"(wait)"],[0,"(play bye_boot_2 0 true bg_boot)"],[600,"(lerp_volume bg_boot 0 0.15)"]]);z.queue(f.automator_state,
[[500,"(wait)"],[0,"(popup junk12)"],[190,"(wait)"],[0,"(play bye_stabs_6 0.4 false)"]])});x.on("dismissed_popup/junk12",f=>{z.queue(f.automator_state,[[150,"(wait)"],[0,"(popup junk13)"],[150,"(wait)"],[0,"(play bye_stabs_7 0.4 false)"]])});x.on("dismissed_popup/junk13",f=>{z.queue(f.automator_state,[[240,"(wait)"],[0,"(popup junk15)"],[80,"(wait)"],[0,"(play bye_stabs_8 0.4 false)"]])});x.on("dismissed_popup/junk15",f=>{z.queue(f.automator_state,[[160,"(wait)"],[0,"(set desktop_remote_reboot 0)"],
[10,"(lerp_volume bg_boot 0.15 0)"],[100,"(wait)"],[500,"(lerp desktop_boot_loader 0 1)"],[0,"(set desktop_boot_loader 0)"],[200,"(lerp_volume bg_music 0.3 0)"],[0,"(emit remote_reboot_done)"],[60,"(lerp desktop_reveal 0.01 1)"],[0,"(give_item ai_module)"],[0,"(give_item thermocouple)"],[0,"(give_item kit_injector)"],[0,"(set_flag a/mail)"]])});x.on("remote_reboot_done",f=>{f.props[f.props_by_id.terminal].state.wallpaper="tree";f.desktop_spooky_mode=!1;f.irl_cash=0;f.desktop_fg_tint=[1,1,1,1];f.mail_selected=
null;e(f,"mode_desktop","home");f.mailbox=[];f.dont_save=!1;f.flags.reset_terminal=!0;x.emit(f,"beat_end",{beat_id:"startup"})})}),Qc=R(()=>{var x=ra(),z=Ga(),{math:b}=na(),{take_firmware:a}=Xa();z.register("give_synth",f=>d=>{a(d,f)});z.register("give_stat",f=>(d,g)=>{f.props[f.props_by_id.terminal].state.system_stats[d]+=g});z.register("pause_run",f=>()=>{f.props[f.props_by_id.terminal].state.paused=!0});z.register("set_connected_at",f=>d=>{f.props[f.props_by_id.terminal].state.scenes.connected.connected_at=
f.ticks-d});var e=f=>d=>{d.flags[f]=!0};((f,d)=>{d((g,c)=>{x.on(g,(h,n)=>{f(h)&&c(h,n)})})})((f=>d=>!d.flags[f])("b/b4"),f=>{f("read_mail/conn_test",e("sv/connection_test"));f("before_run_starts",d=>{"connection_test"==d.run_server&&(d.run_flags.connection_test_failed=!1,x.emit(d,"beat_start",{beat_id:"bad_conn"}))});f("block_died",d=>{if("connection_test"==d.run_server&&!d.run_flags.connection_test_failed&&8<d.run_flags.blocks_broken){d.run_flags.connection_test_failed=!0;let g="reader reader_accel_1 reader_accel_2 reader_accel_3 arc arc_rate_1 arc_rate_2 arc_rate_3 reader_multi reader_multi_triple reader_shields_1 arc_echo drone arc_echo_count_1 drone_speed_1 reader_shields_2 reader_shields_3 drone_speed_2 drone_trail demux arc_echo_count_2 demux_railgun drone_twin arc_neon arc_neon_odds_1 drone_twin_trail demux_railgun_duration_1 demux_railgun_duration_2 arc_neon_odds_2 arc_neon_size_1 arc_neon_size_2".split(" ").map(n=>
[0,"(give_synth "+n+")"]),c=[...Array(100).keys()].map(n=>b.array_sample(313+10*n,"cpu_speed 3;bandwidth 3;security 3;coherence 3;cooling 5;cpu_speed 5;bandwidth 5;security 5;coherence 5;cooling 8;cpu_speed 12;bandwidth 13;security 12;coherence 11;cooling 12".split(";"))).map(n=>[0,"(give_stat "+n+")"]),h=b.seeded_rand(313);z.queue(d.automator_state,[[60,"(wait)"],...g.flatMap((n,p)=>0==p?[n]:[[Math.floor(b.lerp(5,10,h())),"(wait)"],n])]);z.queue(d.automator_state,[[80,"(wait)"],...c.flatMap((n,p)=>
0==p?[n]:[[Math.floor(b.lerp(2,4,h())),"(wait)"],[0,"(change sigtrace_part_mods 1)"],n])]);z.queue(d.automator_state,[[100,"(wait)"],[100,"(lerp run_connection_failing 0 1)"],[0,"(set run_connection_failing 1)"],[100,"(wait)"],[0,"(emit start_trace)"],[100,"(wait)"],[0,"(pause_run)"],[50,"(wait)"],[0,"(set_connected_at 100)"],[10,"(wait)"],[0,"(set_connected_at 70)"],[10,"(wait)"],[0,"(set_connected_at 80)"],[10,"(wait)"],[0,"(set_connected_at 60)"],[10,"(wait)"],[0,"(set_connected_at 100)"],[10,
"(wait)"],[0,"(set_connected_at 50)"],[10,"(wait)"],[0,"(set_connected_at 100)"],[10,"(wait)"],[0,"(set_connected_at 30)"],[10,"(wait)"],[0,"(set_connected_at 80)"],[10,"(wait)"],[0,"(set_connected_at 20)"],[10,"(wait)"],[0,"(set_connected_at 80)"],[10,"(wait)"],[0,"(set_connected_at 0)"],[10,"(wait)"],[0,"(set_connected_at 0)"],[10,"(wait)"],[100,"(set_connected_at 0)"],[0,"(emit connection_killed)"],[0,"(change_loudly mode_terminal desktop)"],[0,"(change_loudly mode_connection waiting)"],[0,"(set run_connection_failing 0)"],
[0,"(set_flag b/b4)"],[0,"(set_flag a/addresses)"],[180,"(wait)"],[0,"(popup after_b4)"]])}})});x.on("dismissed_popup/after_b4",f=>{x.emit(f,"beat_end",{beat_id:"bad_conn"})})}),Rc=R(()=>{var x=ra(),z=xa(),b=Ga(),a=$a(),{math:e}=na(),f=Na(),{u:d}=Fa(),{take_firmware:g}=Xa(),{layout_text:c}=Jb(),{parse_2_parts:h}=qb(),n=yb();Pc();Qc();var p=n("\n  // gig sequences\n  g_intro1 g_intro2 g_ve1 g_ve2 g_ve3 g_ve4 g_ve5 g_ve6 g_ve7 g_ve8 g_ve9 g_ve10 g_vh1 g_vh2 g_vh3 g_vh4 g_vh5\n  g_be1 g_be2 g_be3 g_be4 g_bh1 g_bh2 g_bh3 g_bu1\n  g_me1 g_me2 g_me3 g_me4 g_mh1 g_mh2 g_mh3 g_mu1\n  g_ge1 g_ge2 g_ge3 g_ge4 g_gh1 g_gh2 g_gu1\n\n  // unlocking the b/m/g gig sequences as we progress\n  g_ve2 --\x3e g_be1\n  g_be3 --\x3e g_me1\n  g_ve8 --\x3e g_ge1\n\n  startup --\x3e m_ob3 --\x3e m_conn_test --\x3e bad_conn --\x3e g_intro1 --\x3e p_vents_1 --\x3e g_intro2\n  g_be1 --\x3e p_vents_2 --\x3e g_be2\n");
x.on("beat_start",(l,{beat_id:r})=>{let A={m_:"mail",p_:"popup",g_:"gig"}[r.substring(0,2)];"mail"==A||"gig"==A?l.mailbox.unshift({id:r.substring(2),status:"pending",deliver_at:l.ticks+120}):"popup"==A&&l.desktop_popups.push({...q[r.substring(2)],status:"pending",opened_at:l.ticks+120});x.emit(l,"beat_start/"+r,{})});x.on("read_mail",(l,{id:r})=>{r="m_"+r;p[r]&&x.emit(l,"beat_end",{beat_id:r})});x.on("dismissed_popup",(l,{id:r})=>{r="p_"+r;p[r]&&x.emit(l,"beat_end",{beat_id:r})});x.on("gig_completed",
(l,{id:r})=>{r="g_"+r;p[r]&&x.emit(l,"beat_end",{beat_id:r})});x.on("beat_end",(l,{beat_id:r})=>{p[r]&&(l.flags["b/"+r]=!0,p[r].out.forEach(A=>{p[A].in.every(y=>l.flags["b/"+y])&&x.emit(l,"beat_start",{beat_id:A})}))});x.on("read_mail/conn_test",l=>{l.flags["a/manual"]=!0;l.flags["mea/1"]=!0});x.on("dismissed_popup/after_b4",l=>{l.flags["mea/2"]=!0;l.flags["a/codex"]=!0});x.on("read_mail/intro1",l=>{l.flags["mea/3"]=!0});x.on("read_mail/me1",l=>{l.flags["mea/5"]=!0});x.on("started_run",l=>{"easy_business"==
l.run_server&&(l.flags["mea/4"]=!0)});var m={bye_back:"terminal_music",bye_hacks:"terminal_music",bye_boot_2:"terminal_music",bye_stabs_1:"terminal_music",bye_stabs_2:"terminal_music",bye_stabs_3:"terminal_music",bye_stabs_4:"terminal_music",bye_stabs_5:"terminal_music",bye_stabs_6:"terminal_music",bye_stabs_7:"terminal_music",bye_stabs_8:"terminal_music",detection_start:"terminal_mod_menu_sfx",debrief:"terminal_music"};b.register("play",l=>(r,A,y,C,B)=>{l.cmds.push({type:"audio/play",name:r,params:{volume:A,
loop:"true"==y,handle:C,detune:B,bus:m[r]||"terminal_sfx"}})});b.register("lerp_volume",(l,r)=>(A,y,C)=>{l.cmds.push({type:"audio/set_volume",handle:A,volume:e.lerp(y,C,r)})});b.register("stop",l=>r=>{l.cmds.push({type:"audio/stop",handle:r})});a.define("play",(l,r,A,y,C)=>B=>{B.cmds.push({type:"audio/play",name:l,params:{volume:r,loop:A,handle:y,detune:C,bus:m[l]||"terminal_sfx"}})});a.define("lerp_volume",(l,r,A,y)=>(C,B,J)=>{-1==J.optime&&(J.optime=y-1);C.cmds.push({type:"audio/set_volume",handle:l,
volume:e.lerp(r,A,1-J.optime/(y-1))})});a.define("stop",l=>r=>{r.cmds.push({type:"audio/stop",handle:l})});b.register("set_flag",l=>r=>{l.flags[r]=!0});b.register("unset_flag",l=>r=>{l.flags[r]=!1});b.register("set_slide",l=>r=>{l.slide_text=f[(l.language||"en")+"."+r]});var v=f["en.gaels_letter"].split("\n");a=[f["en.popup_errors.1"],f["en.popup_errors.2"],f["en.popup_errors.3"],f["en.popup_errors.4"],f["en.popup_errors.5"],f["en.popup_errors.6"],f["en.popup_errors.7"],f["en.popup_errors.8"]];n=
(l,r,A,y)=>{l=l.split("\n");let C=Math.max(...l.map(F=>F.length)),B=l.map(F=>F.padEnd(C," ")).map(F=>F.split("")),J=r.split("");return J[0]="<b>"+J[0],J[J.length-1]+="</b>",J.forEach((F,I)=>{B[y][A]=F;A+=1;A>=C-1-15&&(B[y][A-1]+="</b>",J[I+1]="<b>"+J[I+1],A=15,y+=1)}),B.map(F=>F.join("").trimEnd()).join("\n")};var w=(l,r)=>{let A=e.array_sample(r,[30,35,40]),y=Array(A).fill(1).map((F,I)=>{F=I/(A-1)*32;I=e.noise(r,1,1,I);return"/:/:/ ==-- .  . ,  ,  . , .     "[Math.floor(F*e.lerp(.5,1,I))]}).join(""),
C=Array(A).fill(1).map((F,I)=>{F=I/(A-1)*32;I=e.noise(r+1E3,1,1,I);return"/:/:/ ==-- .  . ,  ,  . , .     "[Math.floor(F*e.lerp(.3,1,I))]}).reverse().join(""),B=(F,I,G)=>I.slice(0,F)+G+I.slice(F),J=e.seeded_rand(r);for(let F=0;F<l.length;F++).04>J()&&(l=B(F,l," "));return y+l+C};v=[w(v[0],0),w(v[1],1),w(v[2],2),w(v[3],3),w(v[4],111),w(v[5],5),w(v[6],6),w(v[7],7),w(v[8],8),w(v[9],9)];var t=[a[0],a[1],a[2],n(n(a[3],v[1],20,9),v[0],15,3),a[4],n(a[5],v[2],8,7),n(a[6],v[3],20,8),a[7],n(a[0],v[4],10,4),
n(a[1],v[5],10,2),a[2],n(n(a[3],v[6],10,2),v[7],27,10),n(a[4],v[8],10,5),a[5],n(a[6],v[9],5,10)].map(h),q={junk1:{pos:[0,0]},junk2:{pos:[20,-20]},junk3:{pos:[0,0]},junk4:{pos:[-20,20]},junk5:{pos:[-10,10]},junk6:{pos:[10,-20]},junk7:{pos:[0,0]},junk8:{pos:[-10,20]},junk9:{pos:[-30,30]},junk10:{pos:[-20,-20]},junk11:{pos:[-10,10]},junk12:{pos:[-10,10]},junk13:{pos:[-10,10]},junk14:{pos:[-10,10]},junk15:{pos:[-10,10]},vent_stuck:{pos:[-10,10]}};d.unique(Object.keys(f).filter(l=>l.startsWith("en.popup.")).map(l=>
l.split(".")[2])).forEach(l=>{q[l]||(q[l]={});var r="en.popup."+l;let A=f[r+".header"],y=f[r+".body"];r=f[r+".cta"];A&&(q[l].header=A);y&&(q[l].body=h(y));r&&(q[l].cta=r);q[l].id=l;q[l].pos=q[l].pos||[0,0]});Object.values(q).forEach((l,r)=>{l.body||(l.body=t[r]);l.size||(r=c({parts:l.body,font:"B612 Mono",size:3,line_height:1.4,tint:[1,1,1,1]}),l.size=[r.size[0]+16,r.size[1]+40])});b.register("popup",l=>r=>{x.emit(l,"popup_opened",{id:r});l.desktop_popups.push({...q[r],opened_at:l.ticks})});b.register("send_mail",
l=>(r,A)=>{l.mailbox.unshift({id:r,status:"pending",deliver_at:l.ticks+60*A})});b.register("close_apps",l=>()=>{z(l,"mode_desktop","home")});b.register("shake_cam",l=>r=>{l.cam_shake_energy+=r});b.register("jerk_loader",(l,r)=>A=>{let y=e.v4.lerp([1,1,1,1],[1,.5,.5,.5],1-r);A=e.lerp(0,A,1-r);l.desktop_boot_loader_tint=y;l.desktop_boot_loader_offset[0]=A});x.on("read_mail/conn_test",l=>{l.flags["a/addresses"]=!0});d=l=>r=>{r.flags[l]=!0};x.on("read_mail",(l,{id:r})=>{r.startsWith("daily")&&(l.flags["sv/daily"]=
!0)});x.on("read_mail/intro1",d("sv/training"));x.on("read_mail/intro2",d("sv/easy_business"));x.on("read_mail/bh1",d("sv/hard_business"));x.on("read_mail/me1",d("sv/easy_medical"));x.on("read_mail/mh1",d("sv/hard_medical"));x.on("read_mail/ge1",d("sv/easy_govt"));x.on("read_mail/gh1",d("sv/hard_govt"));x.on("before_run_starts",l=>{l.starting_mods.forEach(r=>{g(r,l)})});x.on("gig_completed/ve1",l=>{l.flags["a/kit"]=!0;l.flags.onboarded=!0});x.on("before_run_starts",l=>{l.run_flags.blocks_broken=0});
x.on("block_died",l=>{l.run_flags.blocks_broken+=1});x.on("read_mail/intro1",l=>{l.flags["a/addresses"]=!0});x.on("gig_completed/intro1",l=>{l.flags["a/files"]=!0;l.flags["a/shop"]=!0;l.flags["a/settings"]=!0});x.on("popup_opened",(l,{id:r})=>{"vents_1"==r&&(l.popup_vent_1_open_1=0,l.popup_vent_1_open_2=0,l.popup_vent_1_open_3=0)});x.on("clicked/vent_1_btn_1",l=>{b.queue(l.automator_state,[[150,"(lerp popup_vent_1_open_1 0 1)"]])});x.on("clicked/vent_1_btn_2",l=>{b.queue(l.automator_state,[[150,"(lerp popup_vent_1_open_2 0 1)"]])});
x.on("clicked/vent_1_btn_3",l=>{b.queue(l.automator_state,[[150,"(lerp popup_vent_1_open_3 0 1)"]])});x.on("popup_opened",(l,{id:r})=>{"vents_2"==r&&(l.popup_vent_2_open_1=1,l.popup_vent_2_open_2=1,l.popup_vent_2_open_3=1)});x.on("clicked/vent_2_btn_1",l=>{b.queue(l.automator_state,[[150,"(lerp popup_vent_2_open_1 1 0)"]])});x.on("clicked/vent_2_btn_2",l=>{b.queue(l.automator_state,[[150,"(lerp popup_vent_2_open_2 1 0)"]])});x.on("clicked/vent_2_btn_3",l=>{b.queue(l.automator_state,[[50,"(lerp popup_vent_2_open_3 1 0.6)"],
[60,"(wait)"],[50,"(lerp popup_vent_2_open_3 0.9 0.6)"],[60,"(wait)"],[0,"(set popup_vent_2_obstructed true)"],[120,"(wait)"],[0,"(popup vent_stuck)"],[100,"(wait)"],[0,"(player_speak player.standup)"],[60,"(lerp player_speak_dt 0 1)"],[0,"(set walked false)"],[100,"(wait)"],[0,"(maybe_show_stand_prompt)"],[0,"(wait_until walked)"],[0,"(player_speak_clear)"],[120,"(wait)"],[40,"(lerp show_interact_prompt 0 1)"]])});b.register("maybe_show_stand_prompt",l=>()=>{l.flags.can_stand=!0;l.flags.has_walked||
b.queue(l.automator_state,[[40,"(lerp show_stand_prompt 0 1)"],[0,"(wait_until walked)"],[40,"(lerp show_stand_prompt 1 0)"]])});x.on("choice.cut_cable/yes",l=>{l.popup_vent_2_open_3=0;l.popup_vent_2_obstructed=!1})}),Sc=R(()=>{var x=ra();x.on("started_run",z=>{z.telemetry_queue.push({type:"run_start",ticks:z.ticks})});x.on("beat_start",(z,b)=>{z.telemetry_queue.push({type:"beat_start",ticks:z.ticks,payload:b})});x.on("beat_end",(z,b)=>{z.telemetry_queue.push({type:"beat_end",ticks:z.ticks,payload:b})});
x.on("read_mail",(z,b)=>{z.telemetry_queue.push({type:"read_mail",ticks:z.ticks,payload:b})});x.on("finished_run",(z,b)=>{z.telemetry_queue.push({type:"finished_run",ticks:z.ticks,payload:b})});x.on("gig_completed",(z,b)=>{z.telemetry_queue.push({type:"gig_completed",ticks:z.ticks,payload:b})});x.on("got_synth",(z,b)=>{z.telemetry_queue.push({type:"got_synth",ticks:z.ticks,payload:b})});x.on("stat_upgraded",(z,b)=>{z.telemetry_queue.push({type:"stat_upgraded",ticks:z.ticks,payload:b})})}),Tc=R((x,
z)=>{z.exports="./alpha_amb-VMNEN2ET.mp3"}),Uc=R((x,z)=>{z.exports="./alpha_gasp-UDGIT3RA.mp3"}),Vc=R((x,z)=>{z.exports="./grass_step_1-CMKDUFLW.mp3"}),Wc=R((x,z)=>{z.exports="./grass_step_2-LCT7SA7W.mp3"}),Xc=R((x,z)=>{z.exports="./grass_step_3-PYKZO7EY.mp3"}),Yc=R((x,z)=>{z.exports="./grass_step_4-HAD556TS.mp3"}),Zc=R((x,z)=>{z.exports="./grass_step_5-PCSSK5ND.mp3"}),$c=R((x,z)=>{z.exports="./grass_step_6-WN4R3TLG.mp3"}),ad=R((x,z)=>{z.exports="./grass_step_7-TT6PUBPH.mp3"}),bd=R((x,z)=>{z.exports=
"./grass_step_8-FTLCOEPK.mp3"}),cd=R((x,z)=>{z.exports="./block_break_1-LC3FFE2H.ogg"}),dd=R((x,z)=>{z.exports="./block_break_2-IU7MV567.ogg"}),ed=R((x,z)=>{z.exports="./block_break_3-WOZVPTJH.ogg"}),fd=R((x,z)=>{z.exports="./block_break_4-2K6576GZ.ogg"}),gd=R((x,z)=>{z.exports="./block_break_5-HZH32HSN.ogg"}),hd=R((x,z)=>{z.exports="./cat-oo-XYWRH4VA.mp3"}),id=R((x,z)=>{z.exports="./cat-ee-46LHUJNO.mp3"}),jd=R((x,z)=>{z.exports="./cat-aa-3ZG2LVEB.mp3"}),kd=R((x,z)=>{z.exports="./cat-o-AR4OIFPI.mp3"}),
ld=R((x,z)=>{z.exports="./busybeat_head-H7CVTOYF.ogg"}),md=R((x,z)=>{z.exports="./busybeat_body-IUHB7O7N.ogg"}),nd=R((x,z)=>{z.exports="./bad_connection_head-5MOIZYOS.ogg"}),od=R((x,z)=>{z.exports="./bad_connection_body-ZYXFHYDX.ogg"}),pd=R((x,z)=>{z.exports="./bye_back-WWQL3O7G.ogg"}),qd=R((x,z)=>{z.exports="./bye_hacks-HKFWX7LK.ogg"}),rd=R((x,z)=>{z.exports="./bye_boot_2-AZH7H6NT.ogg"}),sd=R((x,z)=>{z.exports="./bye_hit-KODDVSMC.ogg"}),td=R((x,z)=>{z.exports="./bye_stabs_1-2FWVEVEV.ogg"}),ud=R((x,
z)=>{z.exports="./bye_stabs_2-VM4WRRZR.ogg"}),vd=R((x,z)=>{z.exports="./bye_stabs_3-XIQ4KBZ2.ogg"}),wd=R((x,z)=>{z.exports="./bye_stabs_4-JWGLU3IA.ogg"}),xd=R((x,z)=>{z.exports="./bye_stabs_5-LEKNXIZH.ogg"}),yd=R((x,z)=>{z.exports="./bye_stabs_6-QGW46HYD.ogg"}),zd=R((x,z)=>{z.exports="./bye_stabs_7-RDLBOAYB.ogg"}),Ad=R((x,z)=>{z.exports="./bye_stabs_8-QIL7IPGT.ogg"}),Bd=R((x,z)=>{z.exports="./button_hover_head-JO67R6UJ.ogg"}),Cd=R((x,z)=>{z.exports="./button_hover_body-APMXECJP.ogg"}),Dd=R((x,z)=>
{z.exports="./button_click-DSHU3LC4.ogg"}),Ed=R((x,z)=>{z.exports="./start_button_hover_head-I2OSYXAU.ogg"}),Fd=R((x,z)=>{z.exports="./start_button_hover_body-NOD22ZXM.ogg"}),Gd=R((x,z)=>{z.exports="./start_button_click-ERAW4B4R.ogg"}),Hd=R((x,z)=>{z.exports="./arm_loop-FBHLIUCW.ogg"}),Id=R((x,z)=>{z.exports="./arm_fire-527G32DS.ogg"}),Jd=R((x,z)=>{z.exports="./reader_bounce-TS7B2W6C.ogg"}),Kd=R((x,z)=>{z.exports="./debrief-CRMXWG73.ogg"}),Ld=R((x,z)=>{z.exports="./demux_reload-TACMG2KB.ogg"}),Md=
R((x,z)=>{z.exports="./demux_fire_1-3IIEOU6W.ogg"}),Nd=R((x,z)=>{z.exports="./demux_fire_2-JT2QSKQQ.ogg"}),Od=R((x,z)=>{z.exports="./demux_fire_3-C4BGNQL7.ogg"}),Pd=R((x,z)=>{z.exports="./demux_fire_4-7LIS44UP.ogg"}),Qd=R((x,z)=>{z.exports="./detection_start-FWO5CLLO.ogg"}),Rd=R((x,z)=>{z.exports="./recall_loop-RB5E2PE2.ogg"}),Sd=R((x,z)=>{z.exports="./arc_1-IL4V2QNP.ogg"}),Td=R((x,z)=>{z.exports="./arc_2-G62PPB3C.ogg"}),Ud=R((x,z)=>{z.exports="./arc_3-5DUUAVT2.ogg"}),Vd=R((x,z)=>{z.exports="./arc_4-UJXZ4GTY.ogg"}),
Wd=R((x,z)=>{z.exports="./arc_5-3LSKWD3P.ogg"}),Xd=R((x,z)=>{z.exports="./volume_adjust-G66EREKD.ogg"}),Yd=R((x,z)=>{z.exports="./plonk-KG6EQCQW.ogg"}),Bb=R((x,z)=>{var {math:b}=na(),a={alpha_amb:Tc(),alpha_gasp:Uc(),grass_step_1:Vc(),grass_step_2:Wc(),grass_step_3:Xc(),grass_step_4:Yc(),grass_step_5:Zc(),grass_step_6:$c(),grass_step_7:ad(),grass_step_8:bd(),block_break_1:cd(),block_break_2:dd(),block_break_3:ed(),block_break_4:fd(),block_break_5:gd(),cat_oo:hd(),cat_ee:id(),cat_aa:jd(),cat_o:kd(),
busybeat_head:ld(),busybeat_body:md(),bad_connection_head:nd(),bad_connection_body:od(),bye_back:pd(),bye_hacks:qd(),bye_boot_2:rd(),bye_hit:sd(),bye_stabs_1:td(),bye_stabs_2:ud(),bye_stabs_3:vd(),bye_stabs_4:wd(),bye_stabs_5:xd(),bye_stabs_6:yd(),bye_stabs_7:zd(),bye_stabs_8:Ad(),button_hover_head:Bd(),button_hover_body:Cd(),button_click:Dd(),start_button_hover_head:Ed(),start_button_hover_body:Fd(),start_button_click:Gd(),arm_loop:Hd(),arm_fire:Id(),reader_bounce:Jd(),debrief:Kd(),demux_reload:Ld(),
demux_fire_1:Md(),demux_fire_2:Nd(),demux_fire_3:Od(),demux_fire_4:Pd(),detection_start:Qd(),recall_loop:Rd(),arc_1:Sd(),arc_2:Td(),arc_3:Ud(),arc_4:Vd(),arc_5:Wd(),volume_adjust:Xd(),plonk:Yd()},e={},f={},d={},g={},c={},h={},n=new AudioContext;x={"audio/detune_bus":({handle:y,detune:C})=>{c[y]&&(c[y].filter_node.detune.value=C)},"audio/set_bus_volume":({handle:y,volume:C})=>{c[y]&&(c[y].gain_node.gain.value=C||0)},"audio/filter_bus":({handle:y,filter_type:C,hz:B})=>{p(y,{type:C,hz:B})}};var p=(y,
{type:C,hz:B})=>{c[y]&&(c[y].filter_node.type=C,c[y].filter_node.frequency.value=B)};x["audio/play"]=({name:y,params:C})=>{m(y,C)};var m=(y,C)=>{let B=n.createBufferSource();B.buffer=e[y];y=n.createGain();return B.connect(y),C&&C.bus?y.connect(c[C.bus].gain_node):y.connect(n.destination),B.onended=()=>{},C&&C.loop&&(B.loop=!0),C&&null!=C.handle&&(d[C.handle]={source:B,gain_node:y}),C&&null!=C.volume&&y.gain.setValueAtTime(C.volume,n.currentTime),C&&null!=C.detune&&(B.detune.value=C.detune),B.start(),
B};x["audio/play_once"]=({name:y,params:C})=>{d[C.handle]||m(y,C)};x["audio/play_pool"]=({pool_name:y,params:C})=>{v(y,C)};var v=(y,C)=>{let B=f[y];y=b.array_sample((null==C?void 0:C.seed)||0,B.samples);B.active_samples+=1;B.volume_scaling&&(C.volume=(C.volume||1)*B.volume_scaling(B.active_samples));m(y,C).onended=()=>{--B.active_samples}};x["audio/play_looper"]=({name:y,params:C})=>{w(y,C)};var w=(y,C)=>{let B=h[y];y=m(B.head,{...C,handle:C.handle?C.handle+"head":null});let J=y.onended;y.onended=
()=>{J();m(B.body,{...C,loop:!0,handle:C.handle?C.handle+"body":null})}};x["audio/set_volume"]=({handle:y,volume:C})=>{t(y,C)};var t=(y,C)=>{let B=y+"head",J=y+"body";if(d[B]&&t(B,C),d[J]&&t(J,C),d[y])({gain_node:y}=d[y]),y.gain.setValueAtTime(C,n.currentTime)};x["audio/set_detune"]=({handle:y,detune:C})=>{q(y,C)};var q=(y,C)=>{let B=y+"head",J=y+"body";if(d[B]&&q(B,C),d[J]&&q(J,C),d[y])({source:y}=d[y]),y.detune.value=C};x["audio/stop"]=({handle:y})=>{l(y)};var l=y=>{if(d[y]){var {source:C}=d[y];
C.stop();d[y]=void 0}};x["audio/stop_looper"]=({handle:y})=>{r(y)};var r=y=>{let C=y+"head",B=y+"body";if(d[C]){y=d[C].source;let J=y.onended;y.onended=()=>{J();l(B)}}l(C);l(B)};x["audio/set_filter"]=({handle:y,filter_type:C,hz:B})=>{A(y,{type:C,hz:B})};var A=(y,{type:C,hz:B})=>{var J=y+"head",F=y+"body";if(d[J]&&A(J,{type:C,hz:B}),d[F]&&A(F,{type:C,hz:B}),d[y])J=y+"/"+C,g[J]||(F=n.createBiquadFilter(),F.type=C,y=d[y].gain_node,y.disconnect(n.destination),y.connect(F),F.connect(n.destination),g[J]=
F),g[J].frequency.value=B};z.exports={load:()=>{let y=Object.keys(a).map(C=>fetch(a[C]).then(B=>B.arrayBuffer()).then(B=>n.decodeAudioData(B)).then(B=>{e[C]=B}).catch(B=>console.error("audio.load fetch failed for",C,B)));return Promise.all(y)},create_pool:(y,C,B)=>{f[y]={samples:C,active_samples:0,volume_scaling:B}},create_looper:(y,{head:C,body:B,foot:J})=>{h[y]={head:C,body:B,foot:J}},host_cmds:x,make_bus:y=>{let C=n.createGain(),B=n.createBiquadFilter();B.type="lowpass";B.frequency.value=1E4;C.connect(B);
B.connect(n.destination);c[y]={gain_node:C,filter_node:B}}}}),Zd=R(()=>{var x=Bb(),{math:z}=na(),b=ra();x.make_bus("terminal_sfx");x.make_bus("terminal_mod_menu_sfx");x.make_bus("terminal_music");x.create_pool("ball_bounce",["cat_oo","cat_ee","cat_aa","cat_o"]);x.create_pool("ball_bounce_2",["reader_bounce"],c=>z.clamp(0,1,1/(.6*Math.pow(c,.4))));b.on("reader_bounced",c=>{let h=c.ticks,n=z.seeded_rand(h);c.cmds.push({type:"audio/play_pool",pool_name:"ball_bounce_2",params:{seed:h,bus:"terminal_sfx",
volume:z.lerp(.7,.8,n()),detune:z.lerp(-200,200,n())}})});b.on("arm_fired",c=>{let h=z.seeded_rand(c.ticks);c.cmds.push({type:"audio/play",name:"arm_fire",params:{bus:"terminal_sfx",volume:z.lerp(.2,.3,h()),detune:z.lerp(-100,100,h())}})});b.on("changed/mode_demux/to_reloading",c=>{c.cmds.push({type:"audio/play",name:"demux_reload",params:{volume:.15,bus:"terminal_sfx",handle:"demux_reload"}})});b.on("changed/mode_demux/from_reloading",c=>{c.cmds.push({type:"audio/stop",handle:"demux_reload"})});
x.create_pool("demux_fire",["demux_fire_1","demux_fire_2","demux_fire_3","demux_fire_4"]);b.on("demux_bullet_fired",c=>{let h=c.ticks,n=z.seeded_rand(h);c.cmds.push({type:"audio/play_pool",pool_name:"demux_fire",params:{seed:h,bus:"terminal_sfx",volume:z.lerp(.4,.5,n()),detune:z.lerp(-100,100,n())}})});x.create_pool("arc_fire",["arc_1","arc_2","arc_3","arc_4","arc_5"]);b.on("arc_fired",c=>{let h=c.ticks,n=z.seeded_rand(h);c.cmds.push({type:"audio/play_pool",pool_name:"arc_fire",params:{seed:h,bus:"terminal_sfx",
volume:z.lerp(.4,.5,n()),detune:z.lerp(-100,100,n())}})});x.create_looper("start_button_hover",{head:"start_button_hover_head",body:"start_button_hover_body"});b.on("cursor_over/booting_start_btn",c=>{c.cmds.push({type:"audio/stop_looper",handle:"booting_start_btn_hover_sfx"});c.cmds.push({type:"audio/play_looper",name:"start_button_hover",params:{handle:"booting_start_btn_hover_sfx",volume:.15,bus:"terminal_sfx"}})});b.on("cursor_out/booting_start_btn",c=>{c.cmds.push({type:"audio/stop_looper",handle:"booting_start_btn_hover_sfx"})});
b.on("clicked/booting_start_btn",c=>{c.cmds.push({type:"audio/stop_looper",handle:"booting_start_btn_hover_sfx"});c.cmds.push({type:"audio/play",name:"start_button_click",params:{volume:.5,bus:"terminal_sfx"}})});x.create_looper("button_hover",{head:"button_hover_head",body:"button_hover_body"});var a=(c,h)=>{c.cmds.push({type:"audio/stop_looper",handle:h})},e=(c,h,n)=>{c.cmds.push({type:"audio/play",name:h,params:n})},f=(c,h)=>n=>{var p={handle:"button_hover_sfx/"+c,bus:h||"terminal_sfx",volume:z.ranged_sin(n.ticks/
2,.05,.08),detune:z.ranged_sin(n.ticks,-50,50)};n.cmds.push({type:"audio/play_looper",name:"button_hover",params:p})},d=c=>h=>{a(h,"button_hover_sfx/"+c)},g=(c,h)=>n=>{a(n,"button_hover_sfx/"+c);e(n,"button_click",{bus:h||"terminal_sfx",volume:z.ranged_sin(n.ticks/2,.18,.22),detune:z.ranged_sin(n.ticks,-20,20)})};"to_addresses to_files to_shop to_mail to_kit to_codex to_settings".split(" ").forEach(c=>{b.on("cursor_over/"+c,f(c));b.on("cursor_out/"+c,d(c));b.on("clicked/"+c,g(c))});b.on("popup_opened",
c=>{e(c,"button_hover_head",{bus:"terminal_sfx",volume:z.ranged_sin(c.ticks/2,.05,.08),detune:z.ranged_sin(c.ticks,-50,50)})});b.on("dismissed_popup",c=>{e(c,"button_click",{bus:"terminal_sfx",volume:z.ranged_sin(c.ticks/2,.05,.08),detune:z.ranged_sin(c.ticks,-50,50)})});x.create_looper("busybeat",{head:"busybeat_head",body:"busybeat_body"});x.create_looper("bad_connection",{head:"bad_connection_head",body:"bad_connection_body"});b.on("before_run_starts",(c,{address_id:h})=>{c.cmds.push({type:"audio/play_looper",
name:{connection_test:"bad_connection"}[h]||"busybeat",params:{handle:"bg_music",volume:.4,bus:"terminal_music"}});e(c,"arm_loop",{loop:!0,volume:0,handle:"arm_loop",bus:"terminal_sfx"})});b.on("finished_run",c=>{a(c,"bg_music");c.cmds.push({type:"audio/stop",handle:"arm_loop"})});b.on("connection_killed",c=>{a(c,"bg_music")});x.create_pool("block_break",["block_break_1","block_break_2","block_break_3","block_break_4","block_break_5"],c=>z.lerp(1,.2,z.clamp(0,1,c/30)));b.on("block_died",(c,{block:h})=>
{h=c.ticks+h.seed;let n=z.seeded_rand(h);h={seed:h,bus:"terminal_sfx",volume:z.lerp(.15,.2,n()),detune:z.lerp(-100,100,n())};c.cmds.push({type:"audio/play_pool",pool_name:"block_break",params:h})});["cpu_speed","bandwidth","security","cooling","coherence"].forEach(c=>{b.when(h=>h.run_flags["can_afford_"+c]&&"delta_shop"!=h.terminal_modal,h=>{h("cursor_over/system_stat_btn_"+c,f(c));h("cursor_out/system_stat_btn_"+c,d(c));h("clicked/system_stat_btn_"+c,g(c))})});b.on("cursor_over",(c,{oid:h})=>{h.startsWith("weapon_btn")&&
f(h)(c)});b.on("cursor_out",(c,{oid:h})=>{h.startsWith("weapon_btn")&&d(h)(c)});"modal_option_0 modal_option_1 modal_option_2 delta_shop_close_btn delta_shop_reroll_btn delta_shop_blacklist_btn open_delta_shop_btn".split(" ").forEach(c=>{b.on("cursor_over/"+c,f(c,"terminal_mod_menu_sfx"));b.on("cursor_out/"+c,d(c,"terminal_mod_menu_sfx"));b.on("clicked/"+c,g(c,"terminal_mod_menu_sfx"))})}),$d=R((x,z)=>{z.exports=(b,a,e)=>{a.item_fx_liquidbit_converter?b.irl_cash+=.001*e:(a.cash+=e,a.total_cash_collected+=
e)}}),ae=R((x,z)=>{z.exports="id,slot,cpu_clock,uplink,security,cooling,coherence,cash,max cash,sigtrace,suppression,delta,utility slots,give mod,unlock mod,auth,insight %,ev,ev type min,ev type max,ev norm,est cost,cost\r\ncpu_microbyte_1,cpu,4,,,,,,,,,,,,,,,23.37,15.20,105.165,0.091,1817,1817\r\ncpu_microbyte_2,cpu,7,,,,,,,,,,,,,,,40.8975,15.20,105.165,0.286,9080,9080\r\ncpu_microbyte_3,cpu,14,,,,,,,,,,,,,,,81.795,15.20,105.165,0.740,55249,55249\r\ncpu_omskoft_1,cpu,2,,,,2,,,,,,,,,,,15.195,15.20,105.165,0.000,1000,1000\r\ncpu_omskoft_2,cpu,5,,,,2,,,,,,,,,,,32.7225,15.20,105.165,0.195,4757,4757\r\ncpu_omskoft_3,cpu,10,,,,4,,,,,,,,,,,65.445,15.20,105.165,0.559,31882,31882\r\ncpu_kamakura_1,cpu,6,,,,,,,8,,,,,,,,35.055,15.20,105.165,0.221,5824,5824\r\ncpu_kamakura_2,cpu,10,,,,,,,16,,,,,,,,58.425,15.20,105.165,0.480,23857,23857\r\ncpu_kamakura_3,cpu,18,,,,,,,32,,,,,,,,105.165,15.20,105.165,1.000,100000,100000\r\nmodem_microbyte_1,modem,,4,,,,,,,,,,,,,,18.62,9.31,65.17,0.167,3750,3750\r\nmodem_microbyte_2,modem,,7,,,,,,,,,,,,,,32.585,9.31,65.17,0.417,18188,18188\r\nmodem_microbyte_3,modem,,14,,,,,,,,,,,,,,65.17,9.31,65.17,1.000,100000,100000\r\nmodem_esscom_1,modem,,2,,,,50,,,,,,,,,,9.31,9.31,65.17,0.000,1000,1000\r\nmodem_esscom_2,modem,,5,,,,100,,,,,,,,,,23.275,9.31,65.17,0.250,7188,7188\r\nmodem_esscom_3,modem,,10,,,,200,,,,,,,,,,46.55,9.31,65.17,0.667,45000,45000\r\nmodem_brooks_1,modem,,2,,,,,,,4,,,,,,,9.31,9.31,65.17,0.000,1000,1000\r\nmodem_brooks_2,modem,,5,,,,,,,8,,,,,,,23.275,9.31,65.17,0.250,7188,7188\r\nmodem_brooks_3,modem,,10,,,,,,,12,,,,,,,46.55,9.31,65.17,0.667,45000,45000\r\nfirewall_esscom_1,firewall,,,4,,,,,,,,,,,,,6.24,3.12,28.08,0.125,2547,2547\r\nfirewall_esscom_2,firewall,,,8,,,,,,,,,,,,,12.48,3.12,28.08,0.375,14922,14922\r\nfirewall_esscom_3,firewall,,,14,,,,,,,,,,,,,21.84,3.12,28.08,0.750,56688,56688\r\nfirewall_starmill_1,firewall,,,2,,,,,,5,,,,,,,3.12,3.12,28.08,0.000,1000,1000\r\nfirewall_starmill_2,firewall,,,5,,,,,,10,,,,,,,7.8,3.12,28.08,0.188,4480,4480\r\nfirewall_starmill_3,firewall,,,10,,,,,,15,,,,,,,15.6,3.12,28.08,0.500,25750,25750\r\nfirewall_brooks_1,firewall,,,6,,,,,8,,,,,,,,9.36,3.12,28.08,0.250,7188,7188\r\nfirewall_brooks_2,firewall,,,10,,,,,16,,,,,,,,15.6,3.12,28.08,0.500,25750,25750\r\nfirewall_brooks_3,firewall,,,18,,,,,32,,,,,,,,28.08,3.12,28.08,1.000,100000,100000\r\ncooler_microbyte_1,cooler,,,,4,,,,,,,,,,,,14.82,10.92,39.7575,0.135,2811,2811\r\ncooler_microbyte_2,cooler,,,,6,,,,,,,,,,,,22.23,10.92,39.7575,0.392,16228,16228\r\ncooler_jetline_1,cooler,1,,,2,,,,,,,,,,,,13.2525,10.92,39.7575,0.081,1648,1648\r\ncooler_jetline_2,cooler,2,,,4,,,,,,,,,,,,26.505,10.92,39.7575,0.540,29916,29916\r\ncooler_jetline_3,cooler,3,,,6,,,,,,,,,,,,39.7575,10.92,39.7575,1.000,100000,100000\r\ncooler_vkolor_1,cooler,,,,2,2,,,,,,,,,,,10.92,10.92,39.7575,0.000,1000,1000\r\ncooler_vkolor_2,cooler,,,,4,2,,,,,,,,,,,18.33,10.92,39.7575,0.257,7537,7537\r\ncooler_vkolor_3,cooler,,,,6,4,,,,,,,,,,,29.25,10.92,39.7575,0.636,40999,40999\r\ntrinket_bismuth_contraption,trinket,,,,,2,,,,,,,,,,,3.51,0.00,35.055,0.100,1993,1993\r\ntrinket_neon_totem,trinket,,,,,4,,,,,,,,,,,7.02,0.00,35.055,0.200,4970,4970\r\ntrinket_grounding_rings,trinket,,,,,2,,,,10,,,,,,,3.51,0.00,35.055,0.100,1993,1993\r\ntrinket_corrugated_shawl,trinket,,,,2,6,,,,,,,,,,,17.94,0.00,35.055,0.512,26929,26929\r\ntrinket_salt_circle,trinket,,,,,8,,,,,,,,,,,14.04,0.00,35.055,0.401,16881,16881\r\ntrinket_thermal_magnets,trinket,,,,,6,,,,,,,,,,,10.53,0.00,35.055,0.300,9933,9933\r\ntrinket_corrugated_gold_shawl,trinket,,,,2,10,,,,,,,,,,,24.96,0.00,35.055,0.712,51191,51191\r\ntrinket_mirror_pool,trinket,,,,,,200,,20,,,,,,,,0,0.00,35.055,0.000,1000,5377\r\ntrinket_kepler_terrarium,trinket,,,,,,,,,,,1,,,,,0,0.00,35.055,0.000,1000,6800\r\ntrinket_hard_standby,trinket,,,,,,,,,,,,arc,,,,0,0.00,35.055,0.000,1000,8902\r\ntrinket_winding_mod,trinket,6,,,,,100,,,,,,,,,,35.055,0.00,35.055,1.000,100000,7220\r\ntrinket_warm_lines,trinket,,,,,,,,,,4,,,,,,0,0.00,35.055,0.000,1000,6400\r\ntrinket_bootloader,trinket,,,,,,150,,,,2,,,,,,0,0.00,35.055,0.000,1000,5030\r\ntrinket_netboot,trinket,,,,,,,,,8,2,,,,,,0,0.00,35.055,0.000,1000,4670\r\ntrinket_eeprom,trinket,,,,,,300,,30,,,,,,,,0,0.00,35.055,0.000,1000,6011\r\ntrinket_lithium_film,trinket,,,,,,,,,,,,plasma,,,,0,0.00,35.055,0.000,1000,9020\r\ntrinket_ground_loop,trinket,,,,,,,,,,,,drone,,,,0,0.00,35.055,0.000,1000,9109\r\ntrinket_connection_mask,trinket,,,,,,,,,20,,,,,,,0,0.00,35.055,0.000,1000,8080\r\ndrive_as_1,drive,,,,,,,128000,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,24000\r\ndrive_as_2,drive,,,,,,,512000,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,48000\r\ndrive_as_3,drive,,,,,,,1024000,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,128000\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,\r\n,,,,,,,,,,,,,,,,,0,0.00,0,#DIV/0!,#DIV/0!,"}),
be=R((x,z)=>{z.exports=b=>{b=b.split("\r\n");let a=b[0].split(",");return b.slice(1).map(e=>{let f=e.split(",");return a.length!=f.length&&console.error("bad CSV??",a,f),a.reduce((d,g,c)=>(d[g]=f[c],d),{})})}}),Kb=R((x,z)=>{z.exports=(b,a)=>{let e=(d,g)=>{console.assert(d==g,b,"\n",Error().stack.split("\n")[3],"\nexpected",d,"\nactual",g)},f=(d,g)=>{console.assert(g.includes(d),b,"\n",Error().stack.split("\n")[3],"\nexpected",g,"\nto include",d)};try{a({eq:e,contains:f}),console.log("PASSED",b)}catch(d){console.error("FAILED",
b,"\n",d)}}}),ce=R((x,z)=>{var b=Kb();z.exports=({make_default_state:a,item:e})=>{b("temp_cracksyn",f=>{var d=a();d.detection_mode="tracing";d.mining_blocks=[{type:0,hp:11,crypto:0},{type:4,hp:12,crypto:12},{type:4,crypto:3,hp:13}];e.on_use({},d);f.eq(1,d.mining_blocks.length);f.eq(0,d.mining_blocks[0].type);f.eq(25,d.run_dmg.cracksyn);f.eq(25,d.props[d.props_by_id.terminal].state.cash);d=d.props[d.props_by_id.terminal].state.auto;f.eq(2,d.queue.length);f.contains("(gain_xp 12)",d.queue[0].steps.map(g=>
g.code));f.contains("(gain_xp 3)",d.queue[1].steps.map(g=>g.code))})}}),de=R((x,z)=>{var b=Kb(),a=ra();z.exports=({make_default_state:e,item:f})=>{b("temp_depth_diver",d=>{let g=e(),c=g.props[g.props_by_id.terminal].state;g.run_server="hard_govt";f.on_use(c);a.emit(g,"field_advanced",{});d.eq(2,c.auto.queue.length);d.contains("(gain_xp 1)",c.auto.queue[0].steps.map(h=>h.code));d.contains("(gain_xp 1)",c.auto.queue[1].steps.map(h=>h.code))})}}),ee=R((x,z)=>{var b=Kb();z.exports=({make_default_state:a,
item:e})=>{b("temp_cloud_control",f=>{var d=a();d=d.props[d.props_by_id.terminal].state;d.cash=0;e.on_use(d);f.eq(128E3,d.cash);f.eq(-1800,d.time_left)})}}),Ia=R((x,z)=>{var {math:b}=na(),a=Na(),e=Gb(),{graph:f}=Hb(),d=ra(),{take_firmware:g}=Xa();nb();x=ae();var c=be(),h={temp_cracksyn:ce(),temp_depth_diver:de(),temp_cloud_control:ee()},n=f.interpret(e,[{like:G=>"hexagon"==G.shape,means:G=>({...G,type:"item"})}]),p=n.nodes.reduce((G,O)=>(G[O.label]=O,G),{}),m={cpu:"cpu",modem:"modem",firewall:"firewall",
cooler:"cooler",trinket:"trinket",drive:"drive"},v={cpu_clock:"cpu_speed",uplink:"bandwidth",security:"security",cooling:"cooling",coherence:"coherence",cash:"starting_cash","max cash":"max_memory",sigtrace:"sigtrace",suppression:"sigtrace_suppression",delta:"delta","utility slots":"utility_slots","give mod":"give_mod"},w={cpu_clock:parseInt,uplink:parseInt,security:parseInt,cooling:parseInt,coherence:parseInt,cash:parseInt,"max cash":parseInt,sigtrace:parseInt,suppression:parseInt,delta:parseInt,
"utility slots":parseInt,"give mod":G=>G},t={cpu_speed:(G,O)=>{G.props[G.props_by_id.terminal].state.system_stats.cpu_speed+=O},bandwidth:(G,O)=>{G.props[G.props_by_id.terminal].state.system_stats.bandwidth+=O},security:(G,O)=>{G.props[G.props_by_id.terminal].state.system_stats.security+=O},cooling:(G,O)=>{G.props[G.props_by_id.terminal].state.system_stats.cooling+=O},coherence:(G,O)=>{G.props[G.props_by_id.terminal].state.system_stats.coherence+=O},starting_cash:(G,O)=>{G.props[G.props_by_id.terminal].state.cash+=
O},max_memory:(G,O)=>{G.props[G.props_by_id.terminal].state.max_memory_bonus+=O},sigtrace:(G,O)=>{G.sigtrace_base+=O},sigtrace_suppression:(G,O)=>{null==G.sigtrace_suppression_parts&&(G.sigtrace_suppression_parts={});G=G.sigtrace_suppression_parts;G.equipment=(G.equipment||0)+O},delta:(G,O)=>{G.currency_delta+=O},utility_slots:(G,O)=>{G.utility_slots+=O},give_mod:(G,O)=>{g(O,G)}};d.on("before_run_starts",G=>{Object.values(G.props[G.props_by_id.terminal].state.equip_slots).flat().map(O=>F[O]).forEach(O=>
{Object.entries(O.stat_bonuses).forEach(([P,D])=>{t[P](G,D)})})});var q=({base:G,exp:O,range:P,scale:D})=>(L,M)=>Math.floor(G*(Math.pow(L,D)+Math.pow(O,L))*b.lerp(1-P,1+P,b.seeded_rand(M)()));q({base:100,exp:1.4,range:.05,scale:3.5});e=q({base:50,exp:1.15,range:.05,scale:1});q=q({base:50,exp:1.6,range:.01,scale:1});var l=(G,O)=>Math.floor(1048576*G*b.lerp(.8,1.2,b.seeded_rand(O)())),r=G=>O=>{Object.keys(G).forEach(P=>{O[P]=G[P]})},A=G=>O=>P=>({...P,rarity:G,category:O}),y=A("common"),C=A("unique");
y=y("consumable");var B=C("key");C=C("file");A=A("rare")("loot");d.on("used_kit_item/temp_time_up",G=>{G=G.sigtrace_suppression_parts;G.temp_time_up=(G.temp_time_up||0)+10});d.on("used_kit_item/temp_time_up_2",G=>{G=G.sigtrace_suppression_parts;G.temp_time_up=(G.temp_time_up||0)+20});d.on("used_kit_item/temp_cash_up",G=>{G.props[G.props_by_id.terminal].state.cash+=5E3});d.on("used_kit_item/temp_arc",G=>{g("arc",G)});d.on("used_kit_item/temp_demux",G=>{g("demux",G)});var J=(G,O)=>P=>{P.props[P.props_by_id.terminal].state.system_stats[G]+=
O};d.on("used_kit_item/temp_uplink",J("bandwidth",4));d.on("used_kit_item/temp_cpu_clock",J("cpu_speed",4));d.on("used_kit_item/temp_security",J("security",4));d.on("used_kit_item/temp_coherence",J("coherence",4));d.on("used_kit_item/temp_cooling",J("cooling",4));d.on("used_kit_item/temp_utility_slots",G=>{G.utility_slots+=1});d.on("used_kit_item/temp_bomb",G=>{for(let O=0;10>O;O++)for(let P=0;10>P;P++)d.emit(G,"try_hit_block_at",{x:O,y:P,source:"temp_bomb",damage:10})});d.on("used_kit_item/temp_delta",
G=>{G.currency_delta+=5});var F={luna_badge:A({cost:2E3,size:1}),sol_badge:A({cost:4E3,size:1}),temp_time_up:y({cost:q(2,123),size:l(1.5,987)}),temp_time_up_2:y({cost:q(4,321),size:l(2,789)}),temp_cash_up:y({cost:115,size:l(1,876)}),temp_arc:y({cost:253,size:l(1.5,567)}),temp_demux:y({cost:550,size:l(2,765)}),temp_uplink:y({cost:92,size:l(1,6)}),temp_cpu_clock:y({cost:95,size:l(1,2)}),temp_security:y({cost:93,size:l(1,8)}),temp_coherence:y({cost:92,size:l(1,1)}),temp_cooling:y({cost:94,size:l(1,4)}),
temp_utility_slots:y({cost:421,size:l(2,22)}),temp_bomb:y({cost:280,size:l(2,9)}),temp_delta:y({cost:130,size:l(1.7,313)}),kit_injector:B({cost:1,unique:!0}),ai_module:B({cost:1,unique:!0}),thermocouple:B({cost:1,unique:!0}),file_test_1:C({encryption_level:2}),file_test_2:C({encryption_level:200}),loyalty_card:{cost:3E4,unique:!0,rarity:"unique",category:"key",size:l(1,28)},loyalty_card_2:{cost:1E5,unique:!0,rarity:"unique",category:"key",size:l(1,34)},severing_salt:{cost:0,category:"loot",size:l(.5,
31)},vc1:{cost:e(1,1),rarity:"common",category:"loot",size:l(.3,44)},vc2:{cost:e(1,2),rarity:"common",category:"loot",size:l(.3,35)},vc3:{cost:e(1,3),rarity:"common",category:"loot",size:l(.3,39)},vc4:{cost:e(1,4),rarity:"common",category:"loot",size:l(.3,65)},vc5:{cost:e(1,5),rarity:"common",category:"loot",size:l(.3,25)},vc6:{cost:e(1,6),rarity:"common",category:"loot",size:l(.3,95)},vc7:{cost:e(1,7),rarity:"common",category:"loot",size:l(.3,35)},vc8:{cost:e(1,8),rarity:"common",category:"loot",
size:l(.3,31)},vr1:{cost:e(3,9),rarity:"rare",category:"loot",size:l(1.5,77)},vr2:{cost:e(5,10),rarity:"rare",category:"loot",size:l(1.5,37)},vr3:{cost:e(7,11),rarity:"rare",category:"loot",size:l(1.5,17)},vr4:{cost:e(9,12),rarity:"rare",category:"loot",size:l(1.5,7)},bc1:{cost:e(2,1),rarity:"common",category:"loot",size:l(.4,31)},bc2:{cost:e(2,2),rarity:"common",category:"loot",size:l(.4,61)},bc3:{cost:e(2,3),rarity:"common",category:"loot",size:l(.4,21)},bc4:{cost:e(2,4),rarity:"common",category:"loot",
size:l(.4,11)},br1:{cost:e(7,5),rarity:"rare",category:"loot",size:l(2,81)},br2:{cost:e(8,6),rarity:"rare",category:"loot",size:l(2,15)},mc1:{cost:e(3,1),rarity:"common",category:"loot",size:l(.4,41)},mc2:{cost:e(3,2),rarity:"common",category:"loot",size:l(.4,81)},mc3:{cost:e(3,3),rarity:"common",category:"loot",size:l(.4,21)},mc4:{cost:e(3,4),rarity:"common",category:"loot",size:l(.4,81)},mr1:{cost:e(10,5),rarity:"rare",category:"loot",size:l(2,17)},mr2:{cost:e(14,6),rarity:"rare",category:"loot",
size:l(2,13)},gc1:{cost:e(4,1),rarity:"common",category:"loot",size:l(.4,15)},gc2:{cost:e(4,2),rarity:"common",category:"loot",size:l(.4,12)},gc3:{cost:e(4,3),rarity:"common",category:"loot",size:l(.4,19)},gc4:{cost:e(5,4),rarity:"common",category:"loot",size:l(.4,13)},gr1:{cost:e(15,5),rarity:"rare",category:"loot",size:l(2,16)},gr2:{cost:e(21,6),rarity:"rare",category:"loot",size:l(2,21)},loot_medical:{cost:e(3,1),rarity:"common",category:"loot",size:l(.4,6)},loot_medical_rare:{cost:e(12,2),rarity:"rare",
category:"loot",size:l(3.5,41)},loot_var:{cost:e(1,2),rarity:"common",category:"loot",size:l(.3,49)},loot_var_rare:{cost:e(8,3),rarity:"rare",category:"loot",size:l(2.5,84)},loot_business:{cost:e(2,3),rarity:"common",category:"loot",size:l(.4,33)},loot_business_rare:{cost:e(8,5),rarity:"rare",category:"loot",size:l(3.5,11)},loot_govt:{cost:e(4,6),rarity:"common",category:"loot",size:l(.4,90)},loot_govt_rare:{cost:e(20,5),rarity:"rare",category:"loot",size:l(3.5,80)},item_glitch_1:{cost:0,unique:!0,
rarity:"unique",category:"key",glitch:!0},item_glitch_2:{cost:0,unique:!0,rarity:"unique",category:"key",glitch:!0},item_glitch_3:{cost:0,unique:!0,rarity:"unique",category:"key",glitch:!0},loot_major_1:{cost:1E4,unique:!0,rarity:"unique",category:"loot",size:l(5,33)},loot_major_2:{cost:1E4,unique:!0,rarity:"unique",category:"loot",size:l(5,44)},loot_major_3:{cost:1E4,unique:!0,rarity:"unique",category:"loot",size:l(5,55)},...c(x).reduce((G,O)=>(""==O.id||(G[O.id]={rarity:"common",category:"equipment",
equip_slot:m[O.slot],cost:parseInt(O.cost),stat_bonuses:Object.keys(v).reduce((P,D)=>(O[D]&&(P[v[D]]=w[D](O[D])),P),{})}),G),{}),kit_capacity_1:{rarity:"unique",category:"key",unique:!0,on_get:r({kit_capacity:12582912})},kit_capacity_2:{rarity:"unique",category:"key",cost:41221,unique:!0,on_get:r({kit_capacity:16777216})},t1_auth_key:{rarity:"common",category:"key",cost:3150,size:l(1,123)},t2_auth_key:{rarity:"common",category:"key",cost:6150,size:l(2,123)},t3_auth_key:{rarity:"common",category:"key",
cost:14024,size:l(4,234)},t4_auth_key:{rarity:"common",category:"key",cost:21040,size:l(6,234)}};Object.keys(F).forEach(G=>{F[G].id=G;F[G].title=a[`en.items.${G}.title`];F[G].desc=a[`en.items.${G}.desc`]||""});var I=Object.keys(F).reduce((G,O)=>(G[`${F[O].save_id}`]=O,G),{});z.exports={items:F,available_items:G=>{let O=G.reduce((P,D)=>(P[D]=!0,P),{});return Object.keys(F).filter(P=>{P=p[P];return null==P?!0:f.parents(n,P).map(D=>D.label).every(D=>O[D])})},item_by_save_id:G=>I[`${G}`],stacked_items:G=>
{let O={};return G.forEach(P=>O[P]=(O[P]||0)+1),Object.entries(O).map(([P,D])=>({id:P,count:D}))},item_by_id:G=>F[G],item_by_name:G=>{var O=Object.keys(a).find(P=>a[P]==G);if(!O)return null;O=O.replace("en.items.","").replace(".title","");return F[O]},items_by_category:G=>Object.values(F).filter(O=>O.category==G),equip_item:(G,O)=>{G=G.props[G.props_by_id.terminal].state.equip_slots[F[O].equip_slot];for(G.push(O);1<G.length;)G.shift()},test_items:G=>{Object.keys(F).filter(O=>h[O]).forEach(O=>h[O]({make_default_state:G,
item:F[O]}))},RARITY_COMMON:"common",RARITY_RARE:"rare",RARITY_UNIQUE:"unique",CAT_LOOT:"loot",CAT_CONSUMABLE:"consumable",CAT_EQUIPMENT:"equipment",CAT_KEY:"key",CAT_FILE:"file",SLOT_CPU:"cpu",SLOT_MODEM:"modem",SLOT_FIREWALL:"firewall",SLOT_COOLER:"cooler",SLOT_TRINKET:"trinket",SLOT_DRIVE:"drive"}}),db=R((x,z)=>{var {items:b}=Ia(),a=ra();z.exports={add_item_to_inventory:(e,f)=>{let d=e.props[e.props_by_id.terminal].state;d.inventory.push(f);b[f].on_get&&b[f].on_get(d);a.emit(e,"got_item",{item:f})},
has_item:(e,f)=>e.inventory.includes(f),has_kit_item:(e,f)=>e.kit_items.includes(f)}}),Ya=R((x,z)=>{var b=ra(),{math:a}=na(),e=Ga(),f=$d(),{stat_crypto_multiplier:d}=nb(),g=xa(),{add_item_to_inventory:c}=db(),h={BASIC:0,FIREWALL:1,SLIME:2,REWARD:3,CRYPTO:4,HALT:5,LOOT:6},n=(w,t,q)=>w.cells.map(l=>[l[0]+w.x,l[1]+w.y]).some(l=>l[0]==t&&l[1]==q),p=(w,t,q)=>w.mining_blocks.find(l=>n(l,t,q));b.on("field_advanced",w=>{var t=w.props[w.props_by_id.terminal].state;if(t.item_fx_depth_diver){t=t.uptime;var q=
Math.floor(a.lerp(2,4,a.seeded_rand(t)()));for(let l=0;l<q;l++)v({state:w,seed:t+1234*l,count:1,xp:1,from:[5+l,-10],duration:100+10*l})}});var m=(w,t,q,l)=>{let r=w.props[w.props_by_id.terminal].state,A=r.uptime;l*=t.vulnerability||1;let y=Math.min(l,t.hp);"tracing"==w.detection_mode&&(w.run_dmg[q]=(w.run_dmg[q]||0)+y);w.run_dmg_history||(w.run_dmg_history=[]);w.run_dmg_history.push({at:w.ticks,source:q,damage:y});w.run_dmg_history=w.run_dmg_history.filter(C=>360>w.ticks-C.at);f(w,r,y*w.memory_reward_factor);
t.hp-=l;t.hit_at=A;w.mining_block_hits.push({block:t,source:q,damage:l,at:A});b.emit(w,"block_hit",{block:t,source:q,damage:l});0>=t.hp&&(w.mining_block_deaths.push({block:t,at:A}),w.mining_blocks=w.mining_blocks.filter(C=>C!==t),w.run_blocks_broken+=1,b.emit(w,"block_died",{block:t,source:q}))};b.on("try_hit_block_at",(w,{x:t,y:q,source:l,damage:r})=>{t=p(w,t,q);null!=t&&(b.emit(w,"before_hit_block",{block:t,source:l,damage:r}),m(w,t,l,r))});b.on("hit_block",(w,{block:t,source:q,damage:l})=>{b.emit(w,
"before_hit_block",{block:t,source:q,damage:l});m(w,t,q,l)});b.on("block_tick",(w,{block:t})=>{t.type===h.HALT&&"idle"===w.detection_mode&&(--t.trip_timer,0>=t.trip_timer&&(m(w,t,"trip_expired",t.hp),b.emit(w,"trip_block_expired",{})))});var v=({state:w,seed:t,count:q,xp:l,from:r,duration:A})=>{if(0!=l){var y=w.props[w.props_by_id.terminal].state;w.mining_boids.push({at:y.uptime,seed:t,type:"crypto",count:q,from:r,to:[10,0]});e.queue(y.auto,[[A,"(wait)"],[0,`(gain_xp ${l})`]])}};b.on("block_died",
(w,{block:t})=>{let q=t.x,l=t.y,r=w.ticks+t.x+t.y;t=(t.crypto||1)*d(w.props[w.props_by_id.terminal].state);v({state:w,seed:r,count:t,xp:t,from:[q,-l],duration:100})});b.on("block_died",(w,{block:t})=>{if(t.type===h.LOOT&&w.run_scanned_files){var q=w.props[w.props_by_id.terminal].state;w.mining_downloads.push({at:q.uptime,seed:1234,item_id:t.item,pos:[t.x,t.y]});e.queue(q.auto,[[300,"(wait)"],[0,`(get_loot ${t.item})`]])}});b.on("block_died",(w,{block:t})=>{t.type===h.REWARD&&(g(w,"mode_reward_modal",
"shown"),b.emit(w,"show_reward_modal",{item_id:t.item_id,dl_time:t.dl_time}),c(w,t.item_id))});b.on("break_blocks",(w,{type:t,damage_source:q})=>{"crypto"===t&&w.mining_blocks.filter(l=>l.type==h.CRYPTO).forEach(l=>m(w,l,q,l.hp))});z.exports={make_block:({seed:w,type:t,power:q,x:l,y:r,hp:A,cells:y,...C})=>({seed:w,type:t,power:q,x:l,y:r,hp:A,max_hp:A,cells:y||[[0,0]],...C,oid:"block_"+w}),orthogonal_neighbors:(w,t,q)=>[[t,q-1],[t,q+1],[t+1,q],[t-1,q]].map(l=>p(w,l[0],l[1])).filter(l=>null!=l),block_at:p,
try_advance_field:w=>{for(var t=0;10>t;t++)if(null!=p(w,t,9))return;w.mining_blocks.forEach(q=>{q.y+=1});t=w.props[w.props_by_id.terminal].state;t.depth+=1;b.emit(w,"field_advanced",{depth:t.depth})},tick_blocks:w=>{w.mining_blocks.forEach(q=>{b.emit(w,"block_tick",{block:q})});let t=w.props[w.props_by_id.terminal].state.uptime;w.mining_block_deaths=w.mining_block_deaths.filter(q=>60>t-q.at);w.mining_block_hits=w.mining_block_hits.filter(q=>100>t-q.at);w.mining_boids=w.mining_boids.filter(q=>100>
t-q.at)},blocks_within_radius:(w,t,q,l)=>{var r=Math.round(t)-Math.ceil(l);let A=Math.round(t)+Math.ceil(l),y=Math.round(q)-Math.ceil(l),C=Math.round(q)+Math.ceil(l),B=[];for(;r<=A;r++)for(let J=y;J<=C;J++){if(a.v2.distance([t,q],[r,J])>l)continue;let F=p(w,r,J);F&&B.push(F)}return B},block_type:h}}),Za=R((x,z)=>{var {math:b}=na(),a=ra(),{make_block:e,block_type:f}=Ya(),d=(t,q)=>t.mailbox.some(l=>l.id==q&&"read"==l.status);a.on("before_run_starts",t=>{t.run_block_count=0;t.run_blocks_broken=0;t.run_next_file_size=
0;t.run_next_file_id=0;t.run_last_file_start=0;t.run_last_file_end=0});var g=(t,q)=>l=>{let r=[],A=q.split("\n").map(y=>y.split(""));for(let y=0;y<A.length;y++){let C=[];A[y].forEach(B=>{C.push(t[B]())});r.push(C)}return(y,C,B)=>{B=l-B;if(0>B||B>r.length-1||null==r[B][C])return null;C=r[B][C];return C instanceof Function?C(y):{...C}}};x=t=>{let q=0;return(l,r,A)=>{q+=1;let y=l.props[l.props_by_id.terminal].state;for(let C=0;C<t.length;C++){let B=t[C](l,r,A),J=v[l.run_server].suppress_exp;if(B&&B.type==
f.CRYPTO&&(!y.inventory.includes("ai_module")||J))break;if(B&&B.crypto&&(!y.inventory.includes("ai_module")||J)&&(B.crypto=0),B)return B.hp*=l.block_hp_factor,e({seed:q,x:r,y:9+y.depth-A,...B})}return null}};var c=({gig_id:t,item_id:q,fallback_loot_id:l,dl_time:r,hardness:A})=>g({x:()=>({type:f.BASIC,hp:A,power:1}),".":()=>null,w:()=>y=>{var C=y.props[y.props_by_id.terminal].state;y=d(y,t);let B=C.inventory.includes(q);C=C.scenes.desktop.completed_gigs.includes(t);return!y||B||C?{type:f.LOOT,hp:A,
item:l}:{type:f.REWARD,hp:2*A,item_id:q,dl_time:r}}},"xxxxxxxxxx\n.x....x.x.\n.x.xwx..x.\n.x.xxx..x.\n.x......x.\nx.x.x.x.xx"),h=(t,q,l)=>{let r=[],A=0;for(let y=0;y<l;y++){let C=.3*t;t+=q;A+=C;0==y%30&&r.push(Math.floor(A))}return r},n=(t,q)=>q.map(l=>Math.floor(l*t)),p=(t,q)=>q.map(l=>Math.floor(Math.pow(l,t)));a.on("before_run_starts",t=>{t.loot_history=[]});a=({seed:t,clocks:q,row_speed:l,loot_table:r,base_hp:A,file_size_min:y,file_size_max:C})=>{let B=[...q],J=0;return(F,I,G)=>{var O=b.clamp(0,
1,b.noise2d(1357+t,1,.2,I/10,G/6)-.4)/.6,P=1/l*G;P=0==O?0:A+O*P;if(0==I&&0==G&&(F.run_next_file_size=Math.floor(b.lerp(y,C,b.seeded_rand(F.run_block_count+t)())),J=0,q=[...B]),J+=P,J*F.halt_block_spawn_factor>=q[0])return J-=q[0],q.shift(),P=F.props[F.props_by_id.terminal].state,F.run_block_count+=1,{type:f.HALT,hp:1,time:5+P.system_stats.security/4,trip_timer:1800,max_trip_timer:1800,power:O};if(0==P)return null;F.run_block_count+=1;let D=b.seeded_rand(123+100*G+I+t);if(12<G&&F.run_scanned_files&&
F.run_block_count>F.run_last_file_end){if(F.run_last_file_start=F.run_block_count,F.run_last_file_end=F.run_block_count+F.run_next_file_size,F.run_next_file_size=Math.floor(b.lerp(y,C,b.seeded_rand(F.run_block_count+t)()))/F.loot_drop_factor,O=b.array_weighted_capped_pity_sample(1E3*Math.random(),F.loot_history,r))return F.loot_history.push(O),{type:f.LOOT,hp:P,item:O}}else{if(.01>D()*F.exp_block_spawn_factor)return{type:f.CRYPTO,hp:P,crypto:12};F=[[20,0],[65,1],[10,2],[5,3]];F=.6>O?0:b.array_weighted_sample(t+
1234+I*G,F);return{type:f.BASIC,hp:P,power:O,crypto:F}}}};var m=t=>{let q=[["t1_auth_key","t2_auth_key","t3_auth_key","t4_auth_key"],["t2_auth_key","t3_auth_key","t4_auth_key"],["t3_auth_key","t4_auth_key"],["t4_auth_key"]];return{[["t1_auth_key","t2_auth_key","t3_auth_key","t4_auth_key"][t-1]]:l=>{let r=l.props[l.props_by_id.terminal].state.kit_items;return q[t-1].some(A=>r.includes(A))}}},v={connection_test:{id:"connection_test",label:"conn13.data.co",digits:"000036",seed:1,requirements:{connection_stability:t=>
!t.flags["b/b4"]},intel:[{type:"header",key:"subnet address",val:"000.03.6"},{type:"header",key:"reg. operator",val:"DATA CO. SE",req_insight:1},{type:"header",key:"net. capacity",val:"1.5T/s @ T1"},{type:"security",key:"fireware",val:"none"},{type:"security",key:"thermal trace",val:"N/A"}],block_at:(t,q,l)=>{let r=9+t.props[t.props_by_id.terminal].state.depth-l;return t.run_next_block_seed||(t.run_next_block_seed=1),e({seed:t.run_next_block_seed++,type:f.BASIC,power:.5*b.noise2d(414,1,.5,q/8,l/8),
x:q,y:r,hp:10,cells:[[0,0]]})},overrides:{hidden_stats:["cpu_speed","security","coherence","cooling"],starting_mods:[],detection_factor_temp:0}},training:{id:"training",label:"training6.data.co",digits:"000106",seed:4321,intel:[{type:"header",key:"subnet address",val:"000.10.6"},{type:"header",key:"reg. operator",val:"DATA CO. SE",req_insight:1},{type:"header",key:"net. capacity",val:"1.5T/s @ T1"},{type:"security",key:"fireware",val:"none"},{type:"security",key:"thermal trace",val:"N/A"},{type:"assets",
key:"datatype",val:"Personal Files"},{type:"assets",key:"fork @ 731",val:"training4.data.co",req_insight:3,or_depth:731,hide_key:!0},{type:"assets",key:"fork @ 1153",val:"training-ns.data.co",req_insight:5,or_depth:1153,hide_key:!0}],block_at:x([a({loot_table:[[100,1/0,5,"loot_var"],[10,2,3,"severing_salt"]],seed:0,clocks:n(.8,p(1.7,h(1,.1,5E3))),row_speed:2,base_hp:1,file_size_min:20,file_size_max:25})]),overrides:{detection_factor_temp:0}},daily:{id:"daily",label:"warp.astrolabe.ks",digits:"137248",
seed:0,intel:[{type:"header",key:"subnet address",val:"137.24.8"},{type:"header",key:"reg. operator",val:"Astrolabe C. SE."},{type:"header",key:"net. capacity",val:"7T/s @ T3"},{type:"security",key:"junk",val:"nothing"},{type:"assets",key:"datatype",val:"Personal Files"},{type:"assets",key:"datatype",val:"Secured Personal Files"}],block_at:x([a({loot_table:[[50,1/0,1/0,"loot_var"],[10,1/0,1/0,"loot_var_rare"],[15,2,10,"severing_salt"]],seed:0,clocks:n(.8,p(1.7,h(1,.1,5E3))),row_speed:.8,base_hp:50,
file_size_min:20,file_size_max:25})]),overrides:{}},easy_business:{id:"easy_business",label:"r2.rank-share.mu.zr",digits:"020788",seed:20788,intel:[{type:"header",key:"subnet address",val:"020.78.8"},{type:"header",key:"reg. operator",val:"Rank Share Holdings, SOE",req_insight:1},{type:"header",key:"net. capacity",val:"0.88T/s @ T2"},{type:"security",key:"fireware",val:"OPTICON 4a",req_insight:1},{type:"security",key:"thermal trace",val:"N/A"},{type:"assets",key:"datatype",val:"Personal Files"},{type:"assets",
key:"datatype",val:"Business Data"},{type:"assets",key:"datatype",val:"Secured Personal Files",req_insight:2},{type:"assets",key:"fork @ 822",val:"r3.rank-share.mu.zr",req_insight:4,or_depth:822,hide_key:!0}],detection_secs:180,overrides:{detection_factor_temp:0,detection_factor_kit:0},block_at:x([a({loot_table:[[100,1/0,1/0,"loot_var"],[8,1/0,1/0,"loot_var_rare"],[50,1/0,1/0,"loot_business"],[20,1,3,"severing_salt"]],seed:166,clocks:n(.8,p(1.5,h(1,.1,5E3))),row_speed:1,base_hp:1,file_size_min:20,
file_size_max:25})])},hard_business:{id:"hard_business",label:"ns.buy-n-buy.rs.zr",digits:"340020",seed:340020,requirements:{...m(2)},intel:[{type:"header",key:"subnet address",val:"340.02.0"},{type:"header",key:"reg. operator",val:"Zarah Zarah LLP",req_insight:1},{type:"header",key:"net. capacity",val:"1.2T/s @ T1"},{type:"security",key:"fireware",val:"OPTICON 4a",req_insight:1},{type:"security",key:"thermal trace",val:"Active"},{type:"assets",key:"datatype",val:"Personal Files"},{type:"assets",
key:"datatype",val:"Business Data"},{type:"assets",key:"datatype",val:"Secured Business Files",req_insight:2},{type:"assets",key:"fork @ 822",val:"r3.rank-share.mu.zr",req_insight:4,or_depth:822,hide_key:!0}],block_at:x([c({gig_id:"bu1",item_id:"loot_major_1",fallback_loot_id:"loot_business_rare",dl_time:200,hardness:1E3})(12),a({loot_table:[[100,1/0,1/0,"loot_var"],[2,1/0,1/0,"loot_var_rare"],[50,1/0,1/0,"loot_business"],[4,1/0,1/0,"loot_business_rare"],[20,2,3,"severing_salt"]],seed:1,clocks:n(1,
p(1.7,h(1,.1,5E3))),row_speed:.8,base_hp:27,file_size_min:20,file_size_max:25})])},easy_medical:{id:"easy_medical",label:"elsa-w.alohealth.re",digits:"100132",seed:100132,requirements:{...m(1)},intel:[{type:"header",key:"subnet address",val:"100.13.2"},{type:"header",key:"reg. operator",val:"Alo Yon Medical Group",req_insight:1},{type:"header",key:"net. capacity",val:"0.8T/s @ T2"},{type:"security",key:"fireware",val:"OPTICON 4a",req_insight:1},{type:"security",key:"thermal trace",val:"Active"},{type:"assets",
key:"datatype",val:"Personal Files"},{type:"assets",key:"datatype",val:"Medical Data"},{type:"assets",key:"datatype",val:"Secured Personal Files",req_insight:2},{type:"assets",key:"fork @ 799",val:"elsa-n.alohealth.re",req_insight:4,or_depth:799,hide_key:!0},{type:"assets",key:"fork @ 1500",val:"internal.rank-share.mu.zr",req_insight:5,or_depth:1500,hide_key:!0}],block_at:x([a({loot_table:[[100,1/0,1/0,"loot_var"],[4,1/0,1/0,"loot_var_rare"],[50,1/0,1/0,"loot_medical"],[20,2,3,"severing_salt"]],seed:2,
clocks:n(1,p(1.5,h(1,.1,5E3))),row_speed:.8,base_hp:4,file_size_min:20,file_size_max:25})])},hard_medical:{id:"hard_medical",label:"pos.int.megamedical.rn",digits:"773177",seed:773177,requirements:{...m(2)},intel:[{type:"header",key:"subnet address",val:"773.17.7"},{type:"header",key:"reg. operator",val:"Yon-Ante Holdings SA",req_insight:1},{type:"header",key:"net. capacity",val:"0.8T/s @ T2"},{type:"security",key:"fireware",val:"OPTICON 4a",req_insight:1},{type:"security",key:"thermal trace",val:"Active"},
{type:"assets",key:"datatype",val:"Personal Files"},{type:"assets",key:"datatype",val:"Medical Data"},{type:"assets",key:"datatype",val:"Secured Personal Files",req_insight:2,hide_key:!0},{type:"assets",key:"datatype",val:"Secured Medical Data",req_insight:2,hide_key:!0},{type:"assets",key:"fork @ 801",val:"dsn.megamedical.rn",req_insight:4,or_depth:801,hide_key:!0}],block_at:x([c({gig_id:"mu1",item_id:"loot_major_2",fallback_loot_id:"loot_medical_rare",dl_time:200,hardness:2E3})(512),a({loot_table:[[100,
1/0,1/0,"loot_var"],[2,1/0,1/0,"loot_var_rare"],[50,1/0,1/0,"loot_medical"],[4,1/0,1/0,"loot_medical_rare"],[20,2,3,"severing_salt"]],seed:3,clocks:n(1.2,p(1.5,h(1,.1,5E3))),row_speed:.8,base_hp:32,file_size_min:20,file_size_max:25})])},easy_govt:{id:"easy_govt",label:"seq2.huyercty.gv.zr",digits:"909044",seed:909044,requirements:{...m(2)},intel:[{type:"header",key:"subnet address",val:"909.04.4"},{type:"header",key:"reg. operator",val:"Huyer County Governance Group",req_insight:1},{type:"header",
key:"net. capacity",val:"0.4T/s @ T3"},{type:"security",key:"fireware",val:"OPTICON 4a",req_insight:1},{type:"security",key:"thermal trace",val:"Active"},{type:"assets",key:"datatype",val:"Personal Files"},{type:"assets",key:"datatype",val:"Municipal Files"},{type:"assets",key:"datatype",val:"Secured Personal Files",req_insight:2,hide_key:!0},{type:"assets",key:"fork @ 720",val:"seq1.huyercty.gv.zr",req_insight:4,or_depth:720,hide_key:!0}],block_at:x([a({loot_table:[[100,1/0,1/0,"loot_var"],[2,1/
0,1/0,"loot_var_rare"],[50,1/0,1/0,"loot_govt"],[20,2,3,"severing_salt"]],seed:4,clocks:n(1.2,p(1.5,h(1,.1,5E3))),row_speed:.8,base_hp:10,file_size_min:20,file_size_max:25})])},hard_govt:{id:"hard_govt",label:"smtp.vpdorado.gv.zr",digits:"000132",seed:1000132,requirements:{...m(3)},intel:[{type:"header",key:"subnet address",val:"000.13.2"},{type:"header",key:"reg. operator",val:"Dorado for Governor, LLC",req_insight:1},{type:"header",key:"net. capacity",val:"0.4T/s @ T3"},{type:"security",key:"fireware",
val:"OPTICON 4a",req_insight:1},{type:"security",key:"thermal trace",val:"Active"},{type:"assets",key:"datatype",val:"Personal Files"},{type:"assets",key:"datatype",val:"Municipal Files"},{type:"assets",key:"datatype",val:"Secured Personal Files",req_insight:2,hide_key:!0},{type:"assets",key:"datatype",val:"Secured Municipal Files",req_insight:2,hide_key:!0},{type:"assets",key:"fork @ 1305",val:"xch.vpdorado.gv.zr",req_insight:4,or_depth:1305,hide_key:!0}],block_at:x([c({gig_id:"gu1",item_id:"loot_major_3",
fallback_loot_id:"loot_govt_rare",dl_time:200,hardness:4E3})(1024),a({loot_table:[[100,1/0,1/0,"loot_var"],[2,1/0,1/0,"loot_var_rare"],[50,1/0,1/0,"loot_govt"],[4,1/0,1/0,"loot_govt_rare"],[20,2,3,"severing_salt"]],seed:5,clocks:n(1.4,p(1.7,h(1,.1,5E3))),row_speed:.8,base_hp:58,file_size_min:20,file_size_max:25})])}},w=Object.values(v).reduce((t,q)=>(t[q.digits]=q,t),{});z.exports={addresses:v,address_by_digits:t=>w[t],format_address_digits:t=>t.slice(0,3)+"."+t.slice(3,5)+"."+t.slice(5)}}),Zb=R((x,
z)=>{var {addresses:b}=Za();z.exports=(a,e)=>{let f=a.props[a.props_by_id.terminal].state.depth,d=b[a.run_server],g=[];for(let c=0;10>c;c++){let h=d.block_at(a,c,e+f);h&&g.push(h)}return g}}),$b=R((x,z)=>{var b=Zb();z.exports=a=>{a.mining_blocks=[];for(let e=0;10>e;e++)a.mining_blocks.push(...b(a,e))}}),eb=R((x,z)=>{var {math:b}=na();x=[160,240];var a=[10,15];b=b.v2.div(x,a);var e=[];for(let f=0;f<a[0];f++)for(let d=0;d<a[1];d++)e.push([f,d]);z.exports={field_world_size:x,field_grid_size:a,field_tile_size:b,
field_grid_coords:e}}),fb=R((x,z)=>{var {math:b}=na();x=(d,g,c)=>h=>d*g*(h+1)*Math.pow(c,h)*.3;var a={cpu_speed:{label:"cpu_clock",desc:"Helps some utilities run faster.",cost:x(20,3,1.03),col:[1,0,0]},bandwidth:{label:"uplink",desc:"Allows some utilities to pull more data at\na time.",cost:x(16,3,1.03),col:[1,1,1]},security:{label:"security",desc:"Releases a burst of RF interference,\ndelaying detection.\n\nIncreases RF noise emitted when breaking\nspecial blocks.",cost:x(32,2,1.025),col:[0,1,0]},
cooling:{label:"cooling",desc:"Dissipate more of the system's heat.\n\nSystem temperature requires careful\nattention, as modern firewalls hunt miners\nby their thermal footprint.",cost:x(26,2,1.02),col:[0,1,1]},coherence:{label:"coherence",desc:"Collect more XP when breaking blocks.\nStabilizes some utilities.",cost:x(40,2,1.02),col:[1,1,0]}},e=(d,g,c)=>{d=d.item_fx_liquid_cache?.004:1;return Math.ceil(a[g].cost(c)*d)},f=(d,g,c,h)=>{let n=b.range(c,c+10).map(p=>e(d,h,p));for(let p=0;p<n.length;p++)if(g-=
n[p],0>g)return p;return 10+f(d,g,c+10,h)};z.exports={system_stats:a,system_stat_cost:e,init_system_stats:()=>Object.keys(a).reduce((d,g)=>(d[g]=0,d),{}),max_buy_count:f}}),ab=R((x,z)=>{var {has_firmware:b}=Xa();z.exports={val_lookup:a=>e=>{let f=e.props[e.props_by_id.terminal].state;e=Object.keys(a).reverse().find(d=>b(d,f));return null==e?a.none:a[e]},synth_lookup:(a,e)=>f=>{let d=f.props[f.props_by_id.terminal].state;f=Object.keys(e).find(g=>d.firmware_hand.includes(g));return null==f?a:e[f]},
has_synth:(a,e)=>a.props[a.props_by_id.terminal].state.firmware_hand.includes(e),system_stat:(a,e)=>{a=a.props[a.props_by_id.terminal].state.system_stats[e];return"cpu_speed"!=e,a}}}),Cb=R((x,z)=>{x=ra();var {synth_lookup:b}=ab(),a=(g,c,h,n)=>p=>8+2*Math.sin(p/g*h)+2*Math.sin(p/c*n),e={cpu_speed:a(7,11,3,7),bandwidth:a(5,17,3,3),security:a(13,33,5,3),coherence:a(9,15,3,3)},f=(g,c)=>Math.max(-5,Math.min(5,.01*(20+c-g))),d=b(1,{demux_sink_3:.01,demux_sink_2:.25,demux_sink_1:.4});x.on("reader_bounced",
(g,{damage:c})=>{g=g.props[g.props_by_id.terminal].state;g.system_temp+=f(g.system_temp,10*c)});x.on("demux_bullet_fired",(g,{damage:c})=>{g=g.props[g.props_by_id.terminal].state;g.system_temp+=f(g.system_temp,20*c)});x.on("arc_fired",(g,{damage:c})=>{g=g.props[g.props_by_id.terminal].state;g.system_temp+=f(g.system_temp,20*c)});x.on("drone_fired",(g,{damage:c})=>{g=g.props[g.props_by_id.terminal].state;g.system_temp+=f(g.system_temp,30*c)});x.on("plasma_fired",(g,{block_count:c})=>{g=g.props[g.props_by_id.terminal].state;
g.system_temp+=f(g.system_temp,5*c)});z.exports={init_temperature:g=>{g.system_temp=20;g.system_temp_history=Array(50).fill(20);g.system_temp_avg=20;g.system_temp_recent_max=20},tick_temperature:(g,c)=>{let h=Math.pow(30*(g.system_stats.cooling+1),1);var n=Object.keys(e).map(p=>.5*e[p](g.uptime)*Math.pow(g.system_stats[p]+1,1));c="reloading"==c.mode_demux?d(c):1;n=n.reduce((p,m)=>p+m,0)*c;g.system_temp+=f(g.system_temp,n);g.system_temp-=1E-4*h*(g.system_temp-20);g.system_temp_history.push(g.system_temp);
g.system_temp_history.shift();g.system_temp_recent_max=Math.max(...g.system_temp_history);g.system_temp_avg=g.system_temp_history.reduce((p,m)=>p+m,0)/g.system_temp_history.length},temperature_tier:g=>{g=g.system_temp_recent_max;return 70>g?"normal":95>g?"warn":"critical"},TEMP_WARNING:70,TEMP_CRITICAL:95}}),fe=R((x,z)=>{var b=ra(),a=$b(),{field_world_size:e}=eb(),{init_system_stats:f}=fb(),{items:d}=Ia(),{init_temperature:g}=Cb(),{addresses:c}=Za(),{server_insight_buffs:h}=Ta(),n=(p,m)=>{let v=(w,
t,q)=>{let l=t.split("."),r=l[0],A=l.slice(1).join(".");if(1==l.length)w[t]=q;else{if("$"==r[0])return v(w.props[w.props_by_id[r.slice(1)]].state,A,q);v(w[r],A,q)}};Object.keys(m).forEach(w=>v(p,w,m[w]))};z.exports={prestige:p=>{let m=p.props[p.props_by_id.terminal].state,v=c[p.run_server];p.run_flags={};p.starting_mods=["reader"];p.halt_block_spawn_factor=1;p.memory_reward_factor=1;p.exp_block_spawn_factor=1;p.block_hp_factor=1;p.loot_drop_factor=1;p.disable_arm=!1;p.run_salt_req=3;m.system_stats=
f();m.cash=h(p.insight[p.run_server]||0,v.seed).starting_mem||0;m.max_memory_bonus=0;m.crypto=0;m.force_unlocked_firmware=[];m.firmware_draw=[];m.firmware_hand=[];m.active_weapons=[];p.utility_slots=3;p.hidden_stats=[];n(p,"daily"==v.id?p.daily_server_overrides:v.overrides||{});m.reader_x=e[0]/2+.1;m.reader_y=e[1]-60+.01;m.reader_angle=.3*Math.PI;m.reader_2_x=e[0]/2+.1;m.reader_2_y=e[1]-60+.01;m.reader_2_angle=.25*Math.PI;m.reader_3_x=e[0]/2+.1;m.reader_3_y=e[1]-60+.01;m.reader_3_angle=-.27*Math.PI;
m.xp_gain_pct=h(p.insight[p.run_server]||0,v.seed).bonus_exp_pct||0;m.dmg_pct=h(p.insight[p.run_server]||0,v.seed).dmg_pct||0;m.item_fx_data_lens=!1;m.item_fx_liquid_cache=!1;m.item_fx_autosynth=!1;m.item_fx_depth_diver=!1;m.item_fx_liquidbit_converter=!1;m.reader_angle=.3*Math.PI;m.time_left=60*(v.detection_secs||180);p.detection_max_time=m.time_left;a(p);m.active_consumables.forEach(t=>d[t].on_use(m,p));let w=m.scenes.connected;return w.kit_selected_item=null,w.kit_opened_at=null,w.kit_closed_at=
null,g(m),p.sigtrace_suppression_parts={},b.emit(p,"before_run_starts",{address_id:v.id}),p.delta_sigtrace_anim_show=0,m}}}),ge=R((x,z)=>{var b=sa(),a=null;z.exports=({pos:e,rot:f,scale:d,col:g,holes:c,origin:h})=>{null==a&&(a=b().fabs);c=c||{};h=h||[.5,.5];d=d||[1,1,1];let n=[1,1];return a.group({pos:e,rot:f,scale:d},[c.up?!1:a.rect_fill({size:n,tint:g,origin:h,pos:[0,.5,0],rot:[Math.PI/2,0,0]}),c.down?!1:a.rect_fill({size:n,tint:g,origin:h,pos:[0,-.5,0],rot:[Math.PI/2,0,0]}),c.north?!1:a.rect_fill({size:n,
tint:g,origin:h,pos:[0,0,-.5],rot:[0,0,0]}),c.south?!1:a.rect_fill({size:n,tint:g,origin:h,pos:[0,0,.5],rot:[0,0,0]}),c.east?!1:a.rect_fill({size:n,tint:g,origin:h,pos:[.5,0,0],rot:[0,Math.PI/2,0]}),c.west?!1:a.rect_fill({size:n,tint:g,origin:h,pos:[-.5,0,0],rot:[0,Math.PI/2,0]})])}}),he=R((x,z)=>{z.exports=({pos:b,look_at:a,aspect:e,fov:f,roll:d})=>({type:"camera",transform:{pos:b,rot:[0,0,0],scale:[1,1,1]},look_at:a,aspect:e,fov_degrees:f||50,roll:d||0})}),ie=R((x,z)=>{var {math:b}=na();z.exports=
(a,e,f)=>{let d={};null===a?d={matrix:b.m4.make_identity()}:null==a.matrix?(d.pos=a.pos||[0,0,0],d.rot=a.rot||[0,0,0],d.scale=a.scale||[1,1,1]):d.matrix=a.matrix;a={type:"no",transform:d,tint:(null==a?void 0:a.tint)||[1,1,1,1],kids:e.filter(g=>!1!==g)};return f&&(a.size=f),a}}),je=R((x,z)=>{var {atlas_sizes:b,atlas_uvs:a}=pb();z.exports=(e,f)=>{let d=b[e],g=f.scale||[1,1,1];return{type:"ikaros",transform:{pos:f.pos||[0,0,0],rot:f.rot||[0,0,0],scale:[d.w*g[0],d.h*g[1],g[2]]},origin:f.origin||[.5,.5],
tint:f.tint||[1,1,1,1],uvs:a[e]}}}),ke=R((x,z)=>{var {atlas_uvs:b,atlas_sizes:a}=pb();({math:x}=na());var {v3:e,m4:f}=x;z.exports=({from:d,to:g,width:c,tint:h,cap:n,overlap_id:p,overlay:m})=>{var v=a["assets/gfx/misc/megapixel.png"];let w=b["assets/gfx/misc/megapixel.png"];var t=v.w/(v.w-1.98);v=v.h/(v.h-1.98);n=e.distance(d,g)+(n?c:0);let q=e.lerp(d,g,.5),[l,r,A]=e.normalize(e.sub(g,d));d=Math.atan2(r,l);g=Math.asin(-A);let y=f.make_identity();return f.translate(y,q[0],q[1],q[2]),f.rotate_z(y,d),
f.rotate_y(y,g),f.scale(y,n*t,c*v,1),{type:"ikaros",transform:{matrix:y},origin:[.5,.5],tint:h||[1,1,1,1],uvs:w,overlap_id:p,overlay:m}}}),le=R((x,z)=>{var {math:b}=na(),a=sa(),e=null;z.exports=({from:f,to:d,tint_a:g,tint_b:c,steps:h,width:n})=>{null==e&&(e=a().fabs);let p=[];for(let v=0;v<h;v++){var m=(v+1)/h;let w=b.v3.lerp(f,d,v/h);m=b.v3.lerp(f,d,m);let t=b.v4.lerp(g,c,v/(h-1));p.push(e.line({from:w,to:m,tint:t,width:n}))}return e.group(null,p)}}),me=R((x,z)=>{z.exports=({model:b,pos:a,rot:e,
scale:f})=>({type:"obj",model:b,transform:{pos:a||[0,0,0],rot:e||[0,0,0],scale:f||[1,1,1]}})}),ne=R((x,z)=>{z.exports=({model:b,pos:a,rot:e,scale:f,tint:d,skip_lighting:g,wiggle:c})=>({type:"gltf",model:b,skip_lighting:g,wiggle:c,tint:d||[1,1,1,1],transform:{pos:a||[0,0,0],rot:e||[0,0,0],scale:f||[1,1,1]}})}),oe=R((x,z)=>{var {atlas_uvs:b,atlas_sizes:a}=pb();z.exports=({pos:e,size:f,rot:d,tint:g,aa_level:c})=>{c={giga:{img:"assets/gfx/misc/gigapixel.png",fill:[8,8]},mega:{img:"assets/gfx/misc/megapixel.png",
fill:[3,3]},norm:{img:"assets/gfx/misc/pixel.png",fill:[1,1]}}[c||"giga"];let h=a[c.img],n=[(h.w-c.fill[0])/2,(h.h-c.fill[1])/2];return{type:"ikaros",transform:{pos:e,rot:d||[0,0,0],scale:[f[0]*h.w/c.fill[0],f[1]*h.h/c.fill[1],1]},origin:[n[0]/h.w,n[1]/h.h],tint:g||[1,1,1,1],uvs:b[c.img]}}}),pe=R((x,z)=>{z.exports=({pos:b,size:a,rot:e,tint:f,origin:d,overlap_id:g,grain:c,overlay:h})=>({type:"tint",transform:{pos:b||[0,0,0],rot:e||[0,0,0],scale:[a[0],a[1],1]},origin:d||[0,0],tint:f||[1,1,1,1],grain:c||
1,uvs:[0,0,1,1],overlap_id:g,overlay:h})}),qe=R((x,z)=>{var b=sa(),a=null;z.exports=({pos:e,size:f,rot:d,width:g,tint:c,origin:h})=>{null==a&&(a=b().fabs);let [n,p]=f;return e=e||[0,0,0],h=h||[0,0],a.group({pos:[e[0]-h[0]*n,e[1]-h[1]*p,e[2]],rot:d||[0,0,0]},[a.line({width:g,tint:c,cap:!0,from:[0,0,0],to:[n,0,0]}),a.line({width:g,tint:c,cap:!0,from:[n,p,0],to:[0,p,0]}),a.line({width:g,tint:c,cap:!0,from:[0,0,.01],to:[0,p,.01]}),a.line({width:g,tint:c,cap:!0,from:[n,p,.01],to:[n,0,.01]})])}}),re=R((x,
z)=>{var b=sa(),a=null;z.exports=e=>(null==a&&(a=b().fabs),a.rect_fill({pos:[0,0,10],origin:[.5,.5],size:[100,100],tint:e}))}),se=R((x,z)=>{var {math:b}=na(),a=sa(),e=null;z.exports=({pos:f,rot:d,stride:g,offset:c,count:h,kid_fns:n,selected_idx:p})=>{null==e&&(e=a().fabs);let m=[];for(let v=0;v<h;v++){let w=n[v+c];w&&m.push(e.group({pos:b.v3.mul_scalar(g,v)},[w(v==p)]))}return e.group({pos:f,rot:d},m)}}),te=R((x,z)=>{z.exports=({image:b})=>({type:"skybox",transform:{pos:[0,0,0]},image:b})}),ue=R((x,
z)=>{var {layout_text:b}=Jb(),a=Yb(),e=sa(),f=null;z.exports=({text:d,parts:g,pos:c,rot:h,font:n,subfamily:p,margin:m,line_height:v,size:w,tint:t,align:q,border:l,overlay:r,kern_scale:A,kern_scales:y})=>{var C=(g||[])[0]||{};c=c||[0,0,0];h=h||[0,0,0];n=n||C.font||"Inconsolata";p=p||C.subfamily||"Regular";w=w||C.size||1;t=t||[1,1,1,1];q=q||["bottom","left"];null==f&&(f=e().fabs);C=[0,0,0];if("top"==q[0]||"center"==q[0]){var B=a[n][p];B=w*B.ascender/B.units_per_em;"top"==q[0]?C[1]-=B:C[1]-=B/2}d=b({text:d,
parts:g,font:n,subfamily:p,margin:m,line_height:v,size:w,tint:t,border:l,overlay:r,kern_scale:A,kern_scales:y});if("right"==q[1]||"center"==q[1])g=d.size[0],"right"==q[1]?C[0]-=g:C[0]-=g/2;return{type:"no",transform:{pos:c,rot:h,scale:[1,1,1]},kids:[{type:"no",transform:{pos:C,rot:[0,0,0],scale:[1,1,1]},kids:[d]}],size:d.size}}}),ve=R((x,z)=>{var {atlas_sizes:b,atlas_uvs:a}=pb();z.exports=(e,f)=>{let d=b[e],g=f.scale||[1,1,1];return{type:"tex",transform:{pos:f.pos||[0,0,0],rot:f.rot||[0,0,0],scale:[d.w*
g[0],d.h*g[1],g[2]]},origin:f.origin||[.5,.5],tint:f.tint||[1,1,1,1],uvs:a[e]}}}),we=R((x,z)=>{var {atlas_sizes:b}=pb(),a=sa(),e=null;z.exports=({pos:f,rot:d,scale:g,sides:c,tint:h})=>{null==e&&(e=a().fabs);var n=b[c.top||c.bottom];let p=b[c.front||c.back],m=b[c.left||c.right];n=[p?p.w:m.w,p?p.h:m.h,n?n.h:m?m.w:p.w];return d=d||[0,0,0],g=g||[1,1,1],h=h||[1,1,1,1],e.group({pos:f,rot:d,scale:g},[!!c.top&&e.ikaros(c.top,{origin:[.5,.5],rot:[Math.PI/2,0,0],pos:[0,n[1]/2,0],tint:h}),!!c.bottom&&e.ikaros(c.bottom,
{origin:[.5,.5],rot:[-Math.PI/2,0,0],pos:[0,-n[1]/2,0],tint:h}),!!c.left&&e.ikaros(c.left,{origin:[.5,.5],rot:[0,Math.PI/2,0],pos:[-n[0]/2,0,0],tint:h}),!!c.right&&e.ikaros(c.right,{origin:[.5,.5],rot:[0,-Math.PI/2,0],pos:[n[0]/2,0,0],tint:h}),!!c.back&&e.ikaros(c.back,{origin:[.5,.5],rot:[0,Math.PI,0],pos:[0,0,-n[0]/2],tint:h}),!!c.front&&e.ikaros(c.front,{origin:[.5,.5],rot:[0,0,0],pos:[0,0,n[0]/2],tint:h})])}}),xe=R((x,z)=>{var b=sa(),a=null;z.exports=({tint:e,z:f,fab:d})=>{null==a&&(a=b().fabs);
d=d();return a.group(null,[a.group({tint:e,pos:[0,0,f]},[d]),d])}}),sa=R((x,z)=>{z.exports=()=>({fabs:{box:ge(),camera:he(),group:ie(),ikaros:je(),line:ke(),gradient_line:le(),obj:me(),gltf:ne(),rect_fill_aa:oe(),rect_fill:pe(),rect_stroke:qe(),screen_fill:re(),scroll_stack:se(),skybox:te(),text:ue(),texture:ve(),pixel_box:we(),shadow:xe()}})}),ye=R((x,z)=>{z.exports={grid_bounce:({pos:b,vel:a,grid_size:e,check_solidity:f,dt:d=1,ghost:g})=>{if(0===a[0]&&0===a[1])return{pos:b,vel:a,bounces:[]};let c=
10*Number.EPSILON;var h=b[0]/e[0],n=b[1]/e[1];b=a[0]/e[0];var p=a[1]/e[1];a=[];let m=0,v=0;for(;1E4>v;){let w=((0<b?1:0)-h%1)/b,t=((0<p?1:0)-n%1)/p,q=0,l=Math.floor(h),r=Math.floor(n);if(w<t?(q=w,l+=0<b?1:-1):(q=t,r+=0<p?1:-1),m+q>d){h+=b*(d-m);n+=p*(d-m);break}h+=b*q;n+=p*q;let A=f(l,r),y=(g?"nonghostable"==A:A)?-1:1;p=Math.abs(t)<Math.abs(w)?[b,p*y]:[b*y,p];A&&a.push([l,r,h*e[0],n*e[1]]);b=p[0];p=p[1];h+=Math.sign(b)*c;n+=Math.sign(p)*c;m+=q;v+=1}return 1E4<=v&&console.log("big loop"),{pos:[h*e[0],
n*e[1]],vel:[b*e[0],p*e[1]],bounces:a}}}}),bb=R((x,z)=>{var {math:b}=na(),a=(e,f,d,g)=>{if(null==e)return g;if(Array.isArray(e))return e.forEach(n=>{let p=b.m4.make_identity();b.m4.multiply(n.transform,f,p);let m=b.v4.mul(d,n.tint||[1,1,1,1]);g.push({...n,transform:p,tint:m})}),g;var c=e.transform;let h=null;c.matrix?(h=b.m4.clone(c.matrix),b.m4.multiply(h,f,h)):h=b.m4.make_affine_transform(c.pos,c.rot,c.scale,f);c=b.v4.mul(d,e.tint||[1,1,1,1]);if("no"==e.type||null==e.overlap_id&&.01>c[3]||g.push({...e,
transform:h,tint:c,grain:e.grain||1}),e.kids)for(let n=0;n<e.kids.length;n++)a(e.kids[n],h,c,g);return g};z.exports={flatten_tree:a}}),ze=R((x,z)=>{var {fabs:b}=sa()(),a=(d,g)=>({w:d.w||(c=>c[0]),h:d.h||(c=>c[1]),x:d.x||(()=>0),y:d.y||(()=>0),vpad:d.vpad||d.pad||(()=>0),hpad:d.hpad||d.pad||(()=>0),layout:d.layout,draw:d.draw,tint:d.tint||[1,1,1,1],kids:g||[]}),e=d=>g=>{let c=d.w(g),h=d.h(g),n=[c,h],p=d.x(g,n),m=d.y(g,n),v=d.vpad(g,n);g=d.hpad(g,n);let w=[c-g,h-v];return d.layout&&d.layout(d.kids,
w),b.group({pos:[p,-m,.01],tint:d.tint},[d.draw?d.draw(n):!1,0<d.kids.length&&b.group({pos:[g/2,-v/2,0]},d.kids.map(t=>e(t)(w)))])},f={nlike:d=>(g,c)=>a({...d,...g},c),abs:d=>()=>d,pw:d=>d[0],ph:d=>d[1],rw:d=>g=>g[0]*d,rh:d=>g=>g[1]*d,right:d=>(g,c)=>d(g,c)-c[0],bottom:d=>(g,c)=>d(g,c)-c[1],x_center:d=>(g,c)=>d(g,c)-c[0]/2,y_center:d=>(g,c)=>d(g,c)-c[1]/2,vsplit:(d,g)=>{let c=g[1]/d.length;d.forEach((h,n)=>{h.y=()=>c*n;h.w=()=>g[0];h.h=()=>c})},hsplit:(d,g)=>{let c=g[0]/d.length;d.forEach((h,n)=>
{h.x=()=>c*n;h.w=()=>c;h.h=()=>g[1]})},vsplit_pct:(...d)=>(g,c)=>{let h=0,n=(1-d[d.length-1])/(g.length-d.length);g.forEach((p,m)=>{let v=(d.length>m?d[m]:n)*c[1],w=h;p.y=()=>w;p.w=()=>c[0];p.h=()=>v;h+=v})},hsplit_pct:(...d)=>(g,c)=>{let h=0,n=(1-d.reduce((p,m)=>p+m,0))/(g.length-d.length);g.forEach((p,m)=>{let v=(d.length>m?d[m]:n)*c[0],w=h;p.x=()=>w;p.h=()=>c[1];p.w=()=>v;h+=v})},vstack:(d,g)=>{let c=0;d.forEach(h=>{h.y=f.abs(c);c+=h.h(g)})},hstack:(d,g)=>{let c=0;d.forEach(h=>{h.x=f.abs(c);c+=
h.w(g)})}};z.exports={layout2:{n:a,draw_layout:e,helpers:f}}}),Ba=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),e=b.v2,f=(c,h)=>{let n=(m,v)=>[b.lerp(c[0],c[0]+h[0],m),b.lerp(c[1],c[1]+h[1],v)],p=m=>{let v=[],w=h[0]/m,t=h[1],q=c[1];for(let l=0;l<m;l++)v.push(f([c[0]+w*l,q],[w,t]));return v};return{size_pct:(m,v)=>[h[0]*m,h[1]*v],width:()=>h[0],height:()=>h[1],size:()=>h,pos_pct:n,top_left:()=>n(0,0),top_right:()=>n(1,0),bottom_left:()=>n(0,1),bottom_right:()=>n(1,1),center:()=>n(.5,.5),center_left:()=>
n(0,.5),center_right:()=>n(1,.5),bottom_center:()=>n(.5,1),top_center:()=>n(.5,0),pos:(m,v)=>[c[0]+m,c[1]+v],pad:(m,v)=>f(e.add(c,[m,v]),e.sub(h,[2*m,2*v])),vsplit:m=>[f(c,[m,h[1]]),f([c[0]+m,c[1]],[h[0]-m,h[1]])],hsplit:m=>[f(c,[h[0],m]),f([c[0],c[1]+m],[h[0],h[1]-m])],vsplit_pct:m=>[f(c,[h[0]*m,h[1]]),f([c[0]+h[0]*m,c[1]],[h[0]*(1-m),h[1]])],hsplit_pct:m=>[f(c,[h[0],h[1]*m]),f([c[0],c[1]+h[1]*m],[h[0],h[1]*(1-m)])],hsplit_pcts:m=>{let v=[],w=h[0],t=c[0],q=0;return m.forEach(l=>{l=h[1]*l-q;v.push(f([t,
c[1]+q],[w,l]));q+=l}),v.push(f([t,c[1]+q],[w,h[1]-q])),v},vsplit_pcts:m=>{let v=[],w=h[1],t=c[1],q=0;return m.forEach(l=>{l=h[0]*l-q;v.push(f([c[0]+q,t],[l,w]));q+=l}),v.push(f([c[0]+q,t],[h[0]-q,w])),v},vsplit_n:p,hsplit_n:m=>{let v=[],w=h[0],t=h[1]/m,q=c[0];for(let l=0;l<m;l++)v.push(f([q,c[1]+t*l],[w,t]));return v},split_grid:(m,v)=>p(m).flatMap(w=>w.hsplit_n(v))}},d=(c,h)=>[c[0],-c[1],h||0],g=({pos:c,size:h,tint:n,z:p,overlap_id:m})=>a.rect_fill({pos:d(c,p),size:h,origin:[0,1],tint:n,overlap_id:m});
z.exports={layout:f,l2v:d,ui_rect_fill:g,ui_rect_stroke:({pos:c,size:h,tint:n,z:p,thickness:m})=>a.rect_stroke({pos:d(c,p),size:h,origin:[0,1],tint:n,width:m}),ui_box:({box:c,z:h,tint:n,overlap_id:p})=>g({pos:c.pos(0,0),z:h,size:c.size(),tint:n,overlap_id:p})}}),wa=R((x,z)=>{var {lru_cache:b}=ob(),{flatten_tree:a}=bb();({fabs:x}=sa()());var e=Na(),{layout2:f}=ze(),{layout:d,l2v:g,ui_rect_fill:c}=Ba(),{math:h}=na();z.exports={flat_cache:(n,p)=>(...m)=>b.fetch(n(...m),()=>a(p(...m),null,[1,1,1,1],[])),
fabs:x,i18n:e,layout2:f,layout:d,l2v:g,lru_cache:b,math:h,ui_rect_fill:c}}),Lb=R((x,z)=>{var {math:b,fabs:a}=wa(),e=(f,d,g,c)=>{if(0===g)return d;let h=[];for(let p=0;p<d.length-1;p++){let m=d[p];var n=d[p+1];n=b.v3.add(b.v3.lerp(m,n,.5),[(2*f()-1)*b.v3.distance(m,n)*c,(2*f()-1)*b.v3.distance(m,n)*c,f()*b.v3.distance(m,n)*c]);h.push(m,n)}return h.push(d[d.length-1]),e(f,h,g-1,c)};z.exports=({thickness:f,from:d,to:g,detail:c,seed:h,dt:n,wiggle:p,col:m})=>{let v=b.seeded_rand(h);d=e(v,[d,g],c,p);return a.group(null,
b.array_pairs(d).map(w=>a.line({from:w[0],to:w[1],width:f(v()),tint:[m[0],m[1],m[2],b.ease.io2(b.lerp(1,0,n))]})))}}),Ae=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),{synth_lookup:e,has_synth:f,system_stat:d}=ab(),{grid_bounce:g}=ye(),{field_tile_size:c}=eb(),h=ra();({get_utility_buff:x}=Ta());var {orthogonal_neighbors:n,block_at:p,blocks_within_radius:m}=Ya(),{u:v}=Fa(),w=Lb(),t=x("reader"),q=U=>{let W=d(U,"bandwidth"),da=U.props[U.props_by_id.terminal].state.reader_augmented_at?I(U):1,fa=e(0,{reader_dmg_3:.7,
reader_dmg_2:.5,reader_dmg_1:.3})(U);return(1+W)*(1+fa)*(1+t(U,"dmg_pct"))*da},l=U=>{let W=d(U,"cpu_speed"),da=e(0,{reader_accel_3:1,reader_accel_2:.6,reader_accel_1:.3})(U);return 20*Math.pow(W+1,.4)*(1+da)*(1+t(U,"rate_pct"))},r=e(3,{reader_virus_max_stacks:6}),A=e(2,{reader_virus_more_stacks:3}),y=e(1,{reader_virus_rate:.6}),C=e(2,{reader_virus_dmg:4}),B=e(0,{reader_virus_spread_2:10,reader_virus_spread:2}),J=e(.05,{reader_augment_odds_2:.1,reader_augment_odds:.075}),F=e(300,{reader_augment_time_2:540,
reader_augment_time:420}),I=e(1,{reader_augment_crits:4,reader_augment:2}),G=e(3,{reader_short_radius_2:5,reader_short_radius:4}),O=e(.5,{reader_short_dmg_2:2,reader_short_dmg:1}),P=e(120,{reader_trail_lifetime_2:240,reader_trail_lifetime:180}),D=e(3,{reader_trail_radius_2:5,reader_trail_radius:4}),L=e(.2,{reader_multi_dmg_2:.3,reader_multi_dmg:.25}),M=e(.1,{reader_trail_dmg_3:.5,reader_trail_dmg_2:.3,reader_trail_dmg:.2}),X=(U,W,da)=>{let fa=r(U);W.virus_ticked_at=W.virus_ticked_at||U.ticks+a.seeded_rand(W.seed)()*
ea;W.virus=Math.min((W.virus||0)+da,fa)},ea=40;h.on("block_hit",(U,{source:W,block:da})=>{"reader"===W&&f(U,"reader_virus")&&(W=A(U),X(U,da,W))});h.on("block_tick",(U,{block:W})=>{if(null!=W.virus&&0!=W.virus){var da=U.ticks-W.virus_ticked_at,fa=y(U);if(!(da<ea*fa))if(da=C(U),W.virus_ticked_at=U.ticks,h.emit(U,"hit_block",{block:W,damage:W.virus*da,source:"reader_virus"}),--W.virus,1>W.virus)W.virus=0,W.virus_ticked_at=null;else{var ba=B(U);0<ba&&n(U,W.x,W.y).filter(S=>S.hp).filter(S=>!S.virus).forEach(S=>
X(U,S,Math.min(ba,W.virus)))}}});var V=e({},v.obj.map_vals(U=>U.map((W,da)=>W.split(" ").map((fa,ba)=>({x:ba,y:da,t:fa}))).flat().filter(W=>"x"==W.t).reduce((W,da)=>(W[`${da.x},${10+da.y}`]=!0,W),{}),{reader_shields_3:[". . . . . . . . . .","x . . . . . . . . x","x x x . . . . x x x","x x x x x x x x x x","x x x x x x x x x x"],reader_shields_2:[". . . . . . . . . .",". . . . . . . . . .","x . . . . . . . . x","x x x . . . . x x x","x x x x x x x x x x"],reader_shields_1:[". . . . . . . . . .",". . . . . . . . . .",
". . . . . . . . . .","x . . . . . . . . x","x x x . . . . x x x"]}));h.on("block_died",(U,{source:W,block:da})=>{"reader"===W&&f(U,"reader_augment")&&(W=U.props[U.props_by_id.terminal].state,W.reader_augmented_at||a.seeded_rand(da.seed)()>J(U)||(W.reader_augmented_at=W.uptime))});h.on("reader_bounced",(U,{x:W,y:da,source:fa})=>{if("reader"===fa&&f(U,"reader_short")){var ba=a.seeded_rand(U.ticks+W+da);if(!(.2<ba())){fa=q(U)*O(U);var S=m(U,W,da,G(U));0!=S.length&&(ba=a.array_sample(1E3*ba(),S),h.emit(U,
"hit_block",{block:ba,source:"reader",damage:fa}),U=U.props[U.props_by_id.terminal].state,U.reader_shorts.push({at:U.uptime,from:[W,da],to:[ba.x,ba.y]}))}}});var H=({state:U,x:W,y:da,angle:fa,speed:ba,history:S,augmented:k,damage:u,ghost:E,source:Q})=>{fa=a.v2.mul_scalar(a.polar_to_cart([fa,ba]),.1);let T=V(U);ba=a.v2.div([W,da],c);T[`${Math.floor(ba[0])},${Math.floor(ba[1])}`]&&(da-=c[1]);W=g({pos:[W,da],vel:fa,grid_size:c,ghost:E,check_solidity:(aa,ia)=>p(U,aa,ia)?"ghostable":T[`${aa},${ia}`]||
0>aa||10<=aa||0>ia||15<=ia?"nonghostable":!1});W.bounces.forEach(aa=>{S.push({x:aa[2],y:aa[3],augmented:k});h.emit(U,"reader_bounced",{damage:u,x:aa[0],y:aa[1],source:Q});h.emit(U,"try_hit_block_at",{source:Q,x:aa[0],y:aa[1],damage:u})});for(S.push({x:W.pos[0],y:W.pos[1],augmented:k});80<S.length;)S.shift();return{next_x:W.pos[0],next_y:W.pos[1],next_angle:a.cart_to_polar(W.vel)[0]}},ca=(U,W,da)=>b.group(null,W.reduce((fa,ba,S)=>{if(0===S)return fa;let k=W[S-1].x,u=W[S-1].y,E=ba.x,Q=ba.y,T=1-(W.length-
S)*a.lerp(.01,5,0),aa=a.cosine_gradient(ba.augmented?U[0]:U[1],S/W.length*2.5%1);return fa.push(b.line({from:[k/16,-u/16,T],to:[E/16,-Q/16,T],width:.05,tint:[...aa,S/W.length*.7*da]})),ba.augmented&&(fa.push(b.line({from:[k/16,-u/16+.2,T],to:[E/16,-Q/16+.2,T],width:.025,tint:[...aa,S/W.length*.21]})),fa.push(b.line({from:[k/16+.2,-u/16,T],to:[E/16+.2,-Q/16,T],width:.025,tint:[...aa,S/W.length*.21]}))),fa},[]));z.exports={init:()=>({}),tick:U=>{let W=U.props[U.props_by_id.terminal].state,da=W.uptime;
var fa=!!W.reader_augmented_at;fa=H({state:U,x:W.reader_x,y:W.reader_y,angle:W.reader_angle,speed:l(U),history:U.reader_history,augmented:fa,damage:q(U),ghost:!1,source:"reader"});if(W.reader_x=fa.next_x,W.reader_y=fa.next_y,W.reader_angle=fa.next_angle,f(U,"reader_multi"))fa=H({state:U,x:W.reader_2_x,y:W.reader_2_y,angle:W.reader_2_angle,speed:.4*l(U),history:U.reader_2_history,augmented:!1,damage:q(U)*L(U),ghost:f(U,"reader_multi_ghost"),source:"reader_multi"}),W.reader_2_x=fa.next_x,W.reader_2_y=
fa.next_y,W.reader_2_angle=fa.next_angle;f(U,"reader_multi_triple")&&(fa=H({state:U,x:W.reader_3_x,y:W.reader_3_y,angle:W.reader_3_angle,speed:.4*l(U),history:U.reader_3_history,augmented:!1,damage:q(U)*L(U),ghost:f(U,"reader_multi_ghost"),source:"reader_triple"}),W.reader_3_x=fa.next_x,W.reader_3_y=fa.next_y,W.reader_3_angle=fa.next_angle);f(U,"reader_trail")&&0==da%2&&W.reader_trails.push({at:da,pos:a.v2.div([W.reader_x,W.reader_y],c)});fa=[...(new Set(W.reader_trails.map(S=>{if(0<(da-S.at)%20)return[];
var k=(da-S.at)/P(U);k=a.lerp(0,D(U),k);return m(U,S.pos[0],S.pos[1],k)}).flat()))];let ba=q(U)*M(U);fa.forEach(S=>{0<(Math.floor(S.seed)+da)%20||h.emit(U,"hit_block",{block:S,damage:ba,source:"reader"})});W.reader_augmented_at&&da-W.reader_augmented_at>F(U)&&(W.reader_augmented_at=null);W.reader_shorts=W.reader_shorts.filter(S=>90>da-S.at);W.reader_trails=W.reader_trails.filter(S=>da-S.at<P(U))},draw:(U,{dt:W})=>{let da=U.props[U.props_by_id.terminal].state,fa=da.paused?da.uptime:da.uptime+W,ba=
ca([[[.8,.9,.4],[.2,.4,.2],[2,1,1],[0,.25,.25]],[[.8,.5,.4],[.2,.4,.2],[2,1,1],[0,.25,.25]]],U.reader_history,1),S=ca([[],[[-1,.7,.6],[.2,.4,.2],[2,1,1],[0,.25,.25]]],U.reader_2_history,1),k=ca([[],[[3,.8,.8],[.2,.4,.2],[2,1,1],[0,.25,.25]]],U.reader_3_history,1);var u=V(U);u=b.group({pos:[0,0,.5]},Object.keys(u).map(T=>{let [aa,ia]=T.split(",").map(K=>parseInt(K,10));T=a.noise(321+aa+ia,2,1,(U.ticks+W)/10);T=a.lerp(.6,.9,T);return b.group({pos:[aa+.5,-ia-.5,0]},[b.line({from:[-.2,-.2,-2.2],to:[.2,
.2,-2.2],width:.03,tint:[1,1,1,.2*T]}),b.line({from:[.2,-.2,-2.2],to:[-.2,.2,-2.2],width:.03,tint:[1,1,1,.2*T]}),b.rect_fill({size:[.9,.9],tint:[1,1,1,.2],origin:[.5,.5],grain:18}),b.line({from:[-.2,-.2,.2],to:[.2,.2,.2],width:.03,tint:[1,1,1,.8*T]}),b.line({from:[.2,-.2,.2],to:[-.2,.2,.2],width:.03,tint:[1,1,1,.8*T]})])}));let E=b.group({pos:[0,0,.5]},da.reader_shorts.map(T=>{let aa=a.ease.o3((fa-T.at)/90);return w({from:[T.from[0]+.5,-T.from[1]-.5,3],to:[T.to[0]+.5,-T.to[1]-.5,3],thickness:()=>
a.lerp(.15,0,a.clamp(0,1,aa)),col:[.97,.28,.11],detail:4,wiggle:a.lerp(.1,.3,aa),seed:123,dt:aa})})),Q=b.group({pos:[0,0,2]},da.reader_trails.map((T,aa)=>{let ia=(fa-T.at)/P(U),K=a.cosine_gradient([[.8,.5,.4],[.2,.4,.2],[2,1,1],[0,.25,.25]],ia);return b.rect_fill({pos:[T.pos[0],-T.pos[1],a.unlerp(0,da.reader_trails.length-1,aa)],size:a.v2.mul_scalar([1,1],a.lerp(0,D(U)+2,ia)),tint:[...K,a.lerp(.1,0,ia)],rot:[0,0,fa+T.at],origin:[.5,.5]})}));return b.group(null,[ba,S,k,u,E,Q])}}}),ac=R((x,z)=>{({math:x}=
na());var {v2:b}=x,a=[0,-.02];z.exports={verlet:({points:e,links:f},d,g)=>{d=d||a;g=g||1;e.forEach(c=>{if(!c.fixed){var h=b.mul_scalar(b.sub(c.pos,c.prev),1/g);c.prev=c.pos;c.pos=b.add(c.pos,b.add(h,d))}});for(let c=0;20>c;c++)f.forEach(h=>{let n=e[h[0]],p=e[h[1]],m=b.sub(p.pos,n.pos),v=b.length(m)||Number.EPSILON;h=b.mul_scalar(m,.25*(h[2]-v)/v);n.fixed||(n.pos=b.sub(n.pos,h));p.fixed||(p.pos=b.add(p.pos,h))})}}}),Be=R((x,z)=>{var {math:b}=na(),a=ra(),{fabs:e}=sa()(),f=Ga(),{block_at:d}=Ya(),{val_lookup:g,
synth_lookup:c,has_synth:h,system_stat:n}=ab(),{verlet:p}=ac();({get_utility_buff:x}=Ta());var m=xa(),v=(S,k,u)=>{u*=4;let E={points:[],links:[]};for(var Q=0;Q<u+1;Q++){let T=b.v2.lerp(S,k,Q/(u+1));E.points.push({pos:T,prev:T})}for(Q=0;Q<u;Q++)E.links.push([Q,Q+1,.25]);return E.points[0].pos=S,E.points[0].prev=S,E.points[0].fixed=!0,E.points[E.points.length-1].pos=k,E.points[E.points.length-1].prev=k,E.points[E.points.length-1].fixed=!0,E},w=(S,k,u,E)=>{k.points[0].fixed=!1;k.points[k.points.length-
1].fixed=!1;k={points:[...S.points,...k.points],links:[...S.links,...k.links.map(Q=>[Q[0]+S.points.length,Q[1]+S.points.length,Q[2]])]};return k.links.push([u,E+S.points.length,0]),k},t=S=>{let k=[];for(let u=0;u<S;u++)k.push({alive:!1,born_at:0,angle:0,seed:u});return k},q=(S,k,u)=>{for(let E=0;E<S.length&&!(0>=k);E++)S[E].alive||(--k,u(S[E]))},l=x("demux"),r=S=>{let k=n(S,"bandwidth"),u=g({none:1,demux_dmg_1:1.4,demux_dmg_2:1.8})(S);return(Math.pow(k,.9)+10)*u*(1+l(S,"dmg_pct"))},A=S=>{let k=n(S,
"cpu_speed");return(30-g({none:0,demux_rate_1:4,demux_rate_2:8})(S)-(15-15*Math.pow(.9,k)))*(1+l(S,"rate_pct"))},y=g({none:7,demux_ammo_1:10,demux_ammo_2:15}),C=g({none:0,demux_data_die:2,demux_data_die_amt_1:4,demux_data_die_amt_2:6}),B=g({none:.1,demux_data_die_dmg_1:.2,demux_data_die_dmg_2:.3}),J=g({none:0,demux_data_die:10,demux_data_die_amt_1:25,demux_data_die_amt_2:50}),F=g({none:b.degrees_to_rads(50),demux_spread_1:b.degrees_to_rads(70),demux_spread_2:b.degrees_to_rads(100)}),I=S=>{let k=n(S,
"cooling");S=g({none:0,demux_reload_1:10,demux_reload_2:25})(S);return Math.ceil((90-S)/(1+k/15))},G=c(1.5,{demux_bounce_dmg_2:2,demux_bounce_dmg_1:1.75}),O=c(1,{demux_bounce_angle_2:2,demux_bounce_angle_1:1.5}),P=c(.05,{}),D=c(2,{demux_polarity_2:4}),L=c(3,{demux_shrapnel_amt_2:5,demux_shrapnel_amt_1:4}),M=c(.1,{demux_shrapnel_dmg_2:.18,demux_shrapnel_dmg_1:.14}),X=c(.04,{demux_railgun_dmg_2:.12,demux_railgun_dmg_1:.08}),ea=c(.2,{demux_railgun_duration_2:.4,demux_railgun_duration_1:.3});a.on("changed/mode_demux/to_firing",
S=>{let k=S.props[S.props_by_id.terminal].state.weapons.demux;S=y(S);k.ammo=S;k.last_fired_at=null});a.on("changed/mode_demux/to_reloading",S=>{let k=S.props[S.props_by_id.terminal].state.weapons.demux;S=I(S);k.last_reloaded_at=k.ticks;f.queue(k.auto,[[S,"(wait)"],[0,"(change_loudly mode_demux firing)"]])});var V=S=>{S.exhaust_particles.forEach(k=>{let u=S.ticks-k.born_at;k.alive&&40<u&&(k.alive=!1)})},H=S=>{S.exhaust_particles.forEach(k=>{let u=S.ticks-k.born_at;k.alive&&100<u&&(k.alive=!1)})},ca=
(S,k)=>{var u=y(S),E=A(S),Q=I(S),T=k.ticks,aa=T-k.last_fired_at;T-=k.last_reloaded_at;u=1-(k.ammo-1+(1-aa/E))/(u-1);Q="firing"==S.mode_demux?u:1-T/Q;E=b.clamp(0,1,aa/E);S=F(S);aa=b.lerp(-S/2,S/2,Q)+Math.PI/2;S=[k.rope_top_left,k.rope_top_right,k.rope_bottom_left,k.rope_bottom_right];k.rope_top_left.points[0].pos=b.v2.add(k.pos,b.v2.polar(aa+Math.PI/12,b.lerp(.6,.9,E)));k.rope_top_right.points[0].pos=b.v2.add(k.pos,b.v2.polar(aa-Math.PI/12,b.lerp(.6,.9,E)));k.rope_bottom_left.points[0].pos=b.v2.add(k.pos,
b.v2.polar(aa-Math.PI/6,b.lerp(-.7,-.5,E)));k.rope_bottom_right.points[0].pos=b.v2.add(k.pos,b.v2.polar(aa+Math.PI/6,b.lerp(-.7,-.5,E)));if(S.forEach(ia=>ia.points[0].prev=ia.points[0].pos),S.map(ia=>p(ia)),k.settle_ropes){for(E=0;100>E;E++)S.map(ia=>p(ia));k.settle_ropes=!1}};a.on("block_died",(S,{block:k,source:u})=>{if("demux"==u&&h(S,"demux_shrapnel")){u=S.props[S.props_by_id.terminal].state.weapons.demux;var E=L(S);S=b.seeded_rand(S.ticks);for(let T=0;T<E;T++){let aa=S()*Math.PI*2;var Q=b.lerp(.05,
.2,S());Q=b.v2.polar(aa,Q);let ia=[k.x,-k.y];u.shrapnel.push({angle:aa,x:ia[0],y:ia[1],prev_x:ia[0],prev_y:ia[1],vx:Q[0],vy:Q[1]})}}});a.on("demux_bullet_hit_block",(S,{bullet:k,bullet_tile:u})=>{let E=r(S)*(k.dmg_factor||1)*(k.polarized?D(S):1);a.emit(S,"try_hit_block_at",{x:u[0],y:u[1],source:"demux",damage:E});h(S,"demux_sharp_polarity")&&k.polarized||(k.dead=!0)});a.on("demux_bullet_hit_wall",(S,{bullet:k,bullet_tile:u})=>{h(S,"demux_bounce")?0>u[1]?k.dead=!0:(k.dmg_factor=G(S),u=b.v2.length([k.vx,
k.vy]),k.vx*=O(S),S=b.v2.angle_between([0,0],[k.vx,k.vy]),k.angle=Math.PI-S,S=b.v2.polar(k.angle,u),k.vx=S[0],k.vy=S[1],k.x=Math.max(.01,Math.min(9.99,k.x)),k.bounced=!0):k.dead=!0});a.on("demux_shard_hit_block",(S,{bullet:k,bullet_tile:u})=>{let E=r(S)*B(S);a.emit(S,"try_hit_block_at",{x:u[0],y:u[1],source:"demux",damage:E});k.dead=!0});a.on("demux_shard_hit_wall",(S,{bullet:k})=>{k.dead=!0});a.on("demux_shrapnel_hit_block",(S,{bullet:k,bullet_tile:u})=>{let E=r(S)*M(S);a.emit(S,"try_hit_block_at",
{x:u[0],y:u[1],source:"demux",damage:E});k.dead=!0});a.on("demux_shrapnel_hit_wall",(S,{bullet:k})=>{k.dead=!0});a.on("demux_bullet_fired",(S,{terminal:k,demux:u})=>{let E=C(S);var Q=y(S),T=F(S);Q=b.lerp(-T/2,T/2,1-(u.ammo-1)/(Q-1))+Math.PI/2;T=h(S,"demux_polarity_1")?P(S):0;T=b.seeded_rand(S.ticks)()<T;let aa=Q*b.lerp(.99,1.01,b.seeded_rand(u.ticks)());var ia=b.v2.polar(aa,.5);let K=b.v2.add(u.pos,b.v2.mul_scalar(ia,2));u.bullets.push({vx:ia[0],vy:ia[1],x:K[0],y:K[1],prev_x:K[0],prev_y:K[1],angle:aa,
polarized:T,born_at:u.ticks});--u.ammo;u.last_fired_at=u.ticks;0>=u.ammo&&m(S,"mode_demux","reloading");S=J(S);k.state.cash=Math.max(0,k.state.cash-S);for(k=0;k<E;k++)T=b.seeded_rand(2*u.ticks*(k+1)),S=Q*b.lerp(.7,1.3,T()),T=b.lerp(.15,.4,T()),T=b.v2.polar(S,T),ia=b.v2.add(u.pos,b.v2.mul_scalar(T,2)),u.shards.push({vx:T[0],vy:T[1],x:ia[0],y:ia[1],prev_x:ia[0],prev_y:ia[1],angle:S});q(u.exhaust_particles,10,ha=>{ha.alive=!0;ha.born_at=u.ticks;ha.angle=aa})});var U=()=>{let S={pos:[0,0,0],origin:[.5,
.5],size:[1,1],rot:[0,0,0],tint:[1,1,1,1]},k=E=>(...Q)=>(S[E]=Q,u),u=Object.keys(S).reduce((E,Q)=>({...E,[Q]:k(Q)}),{});return u.$=S,u},W=(S,k,u)=>{1==u&&(u=0);let E=.3*b.noise(43123,2,1,S/15)+.2;S=.4*b.noise(88123,2,1,S/15)+.5;u=b.lerp(E,S,(1-k)*b.clamp(0,1,1-u));k=b.lerp(.7,.2,k);return e.group(null,[e.rect_fill(U().rot(0,0,Math.PI/4).tint(.1,.1,.15,1).size(.9,.9).$),e.rect_fill(U().size(.02,.9).pos(0,.8,.01).origin(0,1).rot(0,0,-Math.PI/4).tint(u,u,u,1).$),e.rect_fill(U().size(.02,.9).pos(0,.8,
.01).origin(0,1).rot(0,0,Math.PI/4).tint(u,u,u,1).$),e.rect_fill(U().size(.02,k).pos(0,.9,.01).origin(0,1).rot(0,0,-Math.PI/4).tint(u,u,u,1).$),e.rect_fill(U().size(.02,k).pos(0,.9,.01).origin(0,1).rot(0,0,Math.PI/4).tint(u,u,u,1).$),e.rect_fill(U().size(.2,.8).pos(-.2,-.2,.01).tint(.2,.2,.2,1).$),e.rect_fill(U().size(.2,.8).pos(.2,-.2,.01).tint(.15,.15,.15,1).$),e.rect_fill(U().size(.03,1).pos(-.3,-.2,.02).tint(.6,.6,.6,u).$),e.rect_fill(U().size(.03,1).pos(.3,-.2,.02).tint(.6,.6,.6,u).$),e.rect_fill(U().rot(0,
0,Math.PI/4).tint(.3,.3,.8,.4*u).pos(0,0,.03).size(.6,.6).$),e.rect_fill(U().rot(0,0,Math.PI/4).tint(.8,.8,1,u).pos(0,0,.04).size(.3,.3).$),e.rect_fill(U().rot(0,0,Math.PI/4).tint(1,1,1,u).pos(0,0,.05).size(.1,.1).$)])},da=({dt:S,bullet:k})=>{let u=b.lerp(k.prev_x,k.x,S);S=b.lerp(k.prev_y,k.y,S);let E=k.bounced?[1,.5,1,.2]:[.5,.5,1,.2];return e.group({pos:[u,S,2],rot:[0,0,k.angle+Math.PI/2]},[e.rect_fill({size:[.05,.4],tint:k.polarized?[1,1,0,1]:k.bounced?[.5,.5,1,1]:[1,1,1,1],origin:[.5,0]}),e.rect_fill({pos:[0,
.4,.1],size:[.1,.4],tint:E,origin:[.5,0]})])},fa=({dt:S,time:k,shard:u})=>{let E=b.lerp(u.prev_x,u.x,S);S=b.lerp(u.prev_y,u.y,S);u=u.angle;return e.group({pos:[E,S,2],rot:[0,0,u+Math.PI/2+k*u/30]},[e.rect_fill({size:[.04,.15],tint:[.6,.6,1,1],origin:[.5,.5]})])},ba=({time:S,spread:k,shot_dt:u})=>{let E=T=>aa=>{aa=b.v2.lerp(b.v2.polar(T/2,.5),b.v2.polar(T/2,4),aa);let ia=[(2*b.noise(1234,2,1,aa[0]+S/100)-1)/4*b.ease.range(.4,1,b.ease.i3)(u),(2*b.noise(4321,2,1,aa[1]+S/100)-1)/4*b.ease.range(.4,1,b.ease.i3)(u)];
return b.v2.add(aa,b.v2.add([0,0],ia))},Q=[];return[E(k),E(.66*k),E(.33*k),E(0),E(.33*-k),E(.66*-k),E(-k)].forEach(T=>{let aa=[];for(let ia=0;40>ia;ia++)aa.push(T(ia/40));Q.push(aa)}),e.group({rot:[0,0,Math.PI/2]},[e.group(null,Q.map((T,aa)=>e.group(null,T.map((ia,K)=>{let ha=b.noise(333,2,1,(aa+1)*K+S/15);K=[1,1,1,b.lerp((0==aa||aa==Q.length-1?.6:.2)*b.lerp(.5,1,1-u)*b.ease.exp_io(ha),0,b.ease.io2(K/T.length))];return e.rect_fill({pos:[...ia,1],size:[.04,.04],origin:[.5,.5],tint:K})}))))])};z.exports=
{init:()=>({ticks:0,pos:[5,-13],ammo:0,last_fired_at:null,last_reloaded_at:null,bullets:[],shards:[],shrapnel:[],auto:f.init(),rope_top_left:w(v([0,0],[0,-11],5),v([0,0],[0,4],1),12,0),rope_top_right:v([0,0],[10,-11.5],5),rope_bottom_left:v([0,0],[1,-15],4),rope_bottom_right:v([0,0],[8,-15],3),settle_ropes:!0,exhaust_particles:t(100),trail_particles:t(100),railgun_beams:[]}),tick:S=>{let k=S.props[S.props_by_id.terminal],u=k.state.weapons.demux;if(f.tick(u.auto,S),u.ticks+=1,h(S,"demux_railgun")){var E=
y(S),Q=A(S),T=I(S);let ia=u.ticks;var aa=ia-u.last_reloaded_at;E=1-(u.ammo-1+(1-(ia-u.last_fired_at)/Q))/(E-1);T="firing"==S.mode_demux?E:1-aa/T;aa=F(S);E=b.lerp(-aa/2,aa/2,T)+Math.PI/2;Q=ea(S);if(Math.abs(T-.5)<Q&&"reloading"==S.mode_demux){if(u.railgun_beams[0]={from:[u.pos[0],-u.pos[1]],to:b.v2.mul(b.v2.add(u.pos,b.v2.polar(E,b.lerp(13,1,Math.abs((E-Math.PI/2)/Math.PI*2)))),[1,-1])},h(S,"demux_railgun_double"))T=b.lerp(-aa/2,aa/2,b.ease.io2(T))+Math.PI/2,u.railgun_beams[1]={from:[u.pos[0],-u.pos[1]],
to:b.v2.mul(b.v2.add(u.pos,b.v2.polar(T,b.lerp(13,1,Math.abs((T-Math.PI/2)/Math.PI*2)))),[1,-1])}}else u.railgun_beams=[];0==u.ticks%2&&u.railgun_beams.forEach(K=>{K=b.geom.line_segment_tiles(b.v2.add(K.from,[.1,-.5]),b.v2.add(K.to,[.1,-.5]));let ha=r(S)*X(S);K.forEach((Y,ja)=>{a.emit(S,"try_hit_block_at",{x:Y[0],y:Y[1],damage:b.lerp(.9,1.1,b.seeded_rand(ja)())*ha,source:"demux_railgun"})})})}(V(u),H(u),ca(S,u),"firing"==S.mode_demux)?(T=A(S),aa=u.ticks-u.last_fired_at,(null==u.last_fired_at||aa>=
T)&&a.emit(S,"demux_bullet_fired",{terminal:k,demux:u,damage:r(S)})):"reloading"==S.mode_demux&&u.ticks-u.last_fired_at>I(S)&&m(S,"mode_demux","firing");T=(ia,K,ha)=>{ia.forEach(Y=>{Y.prev_x=Y.x;Y.prev_y=Y.y;Y.x+=Y.vx;Y.y+=Y.vy;let ja=Math.floor(Y.x),N=Math.floor(-Y.y);Y={bullet:Y,terminal:k,bullet_tile:[ja,N]};d(S,ja,N)?a.emit(S,K,Y):(0>ja||0>N||10<=ja||15<=N)&&a.emit(S,ha,Y)})};T(u.bullets,"demux_bullet_hit_block","demux_bullet_hit_wall");T(u.shards,"demux_shard_hit_block","demux_shard_hit_wall");
T(u.shrapnel,"demux_shrapnel_hit_block","demux_shrapnel_hit_wall");u.bullets=u.bullets.filter(ia=>!ia.dead&&120>u.ticks-ia.born_at);u.shards=u.shards.filter(ia=>!ia.dead);u.shrapnel=u.shrapnel.filter(ia=>!ia.dead)},draw:(S,{dt:k})=>{let u=S.props[S.props_by_id.terminal],E=u.state.weapons.demux;var Q=y(S),T=A(S),aa=I(S);let ia=E.ticks+(u.state.paused?1:k);var K=ia-E.last_fired_at,ha=ia-E.last_reloaded_at;Q=1-(E.ammo-1+(1-K/T))/(Q-1);aa="firing"==S.mode_demux?Q:1-ha/aa;T=b.clamp(0,1,K/T);S=F(S);K=b.lerp(-S/
2,S/2,aa)+Math.PI/2;ha=b.v2.add(E.pos,b.v2.polar(K,b.lerp(0,.3,T)));return e.group(null,[e.group({pos:[...E.pos,0]},[ba({time:ia,spread:S,shot_dt:T})]),...[E.rope_top_left,E.rope_top_right,E.rope_bottom_left,E.rope_bottom_right].map(Y=>E.settle_ropes?!1:e.group(null,Y.links.map((ja,N)=>{N=Y.points[ja[0]];ja=Y.points[ja[1]];N=b.v2.lerp(N.prev,N.pos,k);ja=b.v2.lerp(ja.prev,ja.pos,k);return e.line({from:[N[0],N[1],2.5],to:[ja[0],ja[1],2.5],width:.07,tint:[.2,.2,.2,1]})}))),e.group(null,E.exhaust_particles.map(Y=>
{if(!Y.alive)return!1;var ja=b.seeded_rand(4321*Y.seed);let N=ia-Y.born_at,Z=N/40;var ka=b.lerp(-1,1,b.noise(1234*Y.seed,2,1,N/100)),la=b.lerp(-1,1,b.noise(4321*Y.seed,2,1,N/100)),ma=.5>ja()?-1:1;ma=b.v2.polar(Y.angle+Math.PI/4*ma,b.lerp(0,b.lerp(1,2,ja()),b.ease.exp_o(Z)));ka=b.v2.add(E.pos,b.v2.add(ma,b.v2.mul_scalar([ka,la],Z)));la=.8>ja();ja=b.v3.lerp([b.lerp(230,250,ja()),la?.4:.6,la?.8:b.lerp(.7,.5,ja())],[b.lerp(230,250,ja()),la?.4:.6,la?1:.5],Z);ja=b.hsl2rgb(...ja);return e.rect_fill({origin:[.5,
.5],size:b.v2.lerp([.07,.07],[0,0],N/40),rot:[0,0,0],tint:[...ja,b.ease.exp_io(b.noise(4321*Y.seed,2,1,N/5))],pos:[ka[0],ka[1],1]})})),e.group({pos:[ha[0],ha[1],3],rot:[0,0,K+.5*Math.PI]},[W(ia,aa,T)]),e.group(null,E.bullets.map(Y=>(u.state.paused&&(k=1),da({dt:k,time:ia,bullet:Y})))),e.group(null,E.shards.map(Y=>(u.state.paused&&(k=1),fa({dt:k,time:ia,shard:Y})))),e.group(null,E.shrapnel.map(Y=>(u.state.paused&&(k=1),fa({dt:k,time:ia,shard:Y})))),e.group({pos:[0,0,3]},E.railgun_beams.map(Y=>(u.state.paused&&
(k=1),e.group(null,[e.line({from:[Y.from[0],-Y.from[1],0],to:[Y.to[0],-Y.to[1],0],width:.3,tint:[.5,.5,1,b.lerp(.1,.4,b.noise(312,2,2,ia/10))]}),e.line({from:[Y.from[0],-Y.from[1],.1],to:[Y.to[0],-Y.to[1],.1],width:.05,tint:[1,1,1,b.lerp(.5,1,b.noise(212,2,2,ia))]})]))))])}}}),Ce=R((x,z)=>{var b=ra(),{fabs:a}=sa()(),{math:e}=na(),{field_tile_size:f}=eb(),d=Lb();({get_utility_buff:x}=Ta());var {has_synth:g,synth_lookup:c,system_stat:h}=ab(),{blocks_within_radius:n}=Ya(),p=x("arc"),m=c(1,{arc_rate_3:2,
arc_rate_2:1.66,arc_rate_1:1.33}),v=I=>{let G=h(I,"cpu_speed");return(1+(1-1*Math.pow(.96,G)))*(1+p(I,"rate_pct"))*m(I)},w=c(1,{arc_dmg_3:1.75,arc_dmg_2:1.5,arc_dmg_1:1.25}),t=I=>{let G=h(I,"bandwidth");return(1+Math.pow(1.5*G,.3))*(1+p(I,"dmg_pct"))*w(I)},q=c(1,{arc_charge_range_2:3,arc_charge_range_1:2}),l=c(.2,{arc_charge_dmg_2:.6,arc_charge_dmg_1:.4}),r=c(.05,{arc_ionize_odds_2:.15,arc_ionize_odds_1:.1}),A=c(2,{arc_ionize_dmg_2:6,arc_ionize_dmg_1:4}),y=c(1,{arc_ionize_exp_2:2,arc_ionize_exp_1:1.5}),
C=c(1,{arc_echo_count_2:3,arc_echo_count_1:2}),B=c(.1,{arc_echo_dmg_2:.2,arc_echo_dmg_1:.15}),J=c(.1,{arc_neon_odds_2:.2,arc_neon_odds_1:.15}),F=c(8,{arc_neon_size_2:15,arc_neon_size_1:12});b.on("block_died",(I,{block:G,source:O})=>{if("arc"===O&&g(I,"arc_charge")){O=q(I);var P=l(I),D=t(I)*P;n(I,G.x,G.y,O).forEach(L=>{b.emit(I,"hit_block",{block:L,source:"arc_charge",damage:D})})}});b.on("before_hit_block",(I,{block:G,source:O})=>{"arc"===O&&g(I,"arc_ionize")&&I.props[I.props_by_id.terminal].state.weapons.arc.last_fire_was_ionized&&
(I=y(I),G.crypto=(G.crypto||0)*I)});z.exports={init:()=>({ticks:0,last_fired_at:0,echo_last_fired_at:[],last_fire_was_ionized:!1,count:0}),tick:I=>{let G=I.props[I.props_by_id.terminal].state.weapons.arc;G.ticks+=1;let O=e.seeded_rand(G.ticks);var P=g(I,"arc_ionize")?r(I):0,D=O()<P,L=D?A(I):1,M=G.ticks/60,X=(G.ticks+1)/60;P=1/v(I);var ea=M-M%P+P;for(M=0;ea<=X;)M+=1,ea+=P;if(0<M){G.last_fired_at=G.ticks;G.last_fire_was_ionized=D;D=(X=g(I,"arc_neon")&&O()<J(I))?20:0;X=X?[]:[[0,9.5],[10,9.5]];for(ea=
0;ea<D;ea++){let H=Math.pow(e.noise(313,2,2,ea/D*2+G.ticks),2)*F(I)*(1-Math.abs(ea-D/2)/(D/2));X.push([ea/(D-1)*10,9.5-H])}G.last_fire_path=X;b.emit(I,"arc_fired",{damage:t(I)})}G.count=M;let V=t(I)*L;L=[];0<M&&G.last_fire_path&&(L=e.geom.polyline_tiles(G.last_fire_path));for(D=0;D<M;D++)L.forEach(H=>b.emit(I,"try_hit_block_at",{x:H[0],y:H[1],source:"arc",damage:V*e.lerp(.9,1.1,O())}));if(g(I,"arc_echo")){M=C(I);P=Math.floor(60*P/8);let H=B(I);L=G.ticks-G.last_fired_at;for(D=0;D<M;D++)X=8.5-D,L==
P*(D+1)&&(X=[[0,X],[10,X]],X=e.geom.line_segment_tiles(X[0],X[1]),G.echo_last_fired_at[D]=G.ticks,X.forEach(ca=>b.emit(I,"try_hit_block_at",{x:ca[0],y:ca[1],source:"arc_echo",damage:V*H*e.lerp(.9,1.1,O())})))}},draw:(I,{dt:G})=>{let O=I.props[I.props_by_id.terminal].state.weapons.arc,P=O.ticks+G;I=e.clamp(0,1,(P-O.last_fired_at)/(O.last_fire_was_ionized?20:15));G=(L,M,X,ea)=>{let V=[];for(let H=0;H<(L||[]).length-1;H++)V.push(D(M,X,ea,L[H],L[H+1]));return a.group(null,V)};let D=(L,M,X,ea,V)=>d({from:[ea[0],
-ea[1],5],to:[V[0],-V[1],5],thickness:H=>e.lerp(.5,1,H)/f[0],detail:5,seed:L,dt:X,wiggle:M,col:O.last_fire_was_ionized?[0,1,1]:[1,1,1]});return a.group(null,[G(O.last_fire_path,O.last_fired_at,.05,I),!!O.last_fire_was_ionized&&G(O.last_fire_path,O.last_fired_at+10,.1,I),!!O.last_fire_was_ionized&&G(O.last_fire_path,O.last_fired_at+20,.1,I),...O.echo_last_fired_at.map((L,M)=>{let X=8.5-M;return D(L,.05,1-(1-(M+1)/4)*e.clamp(0,1,1-(P-L)/20),[0,X],[10,X])})])}}}),De=R((x,z)=>{var {math:b}=na(),{block_at:a}=
Ya(),{val_lookup:e}=ab(),f=ra();({get_utility_buff:x}=Ta());var d=x("plasma"),g=c=>{let h=1+c.props[c.props_by_id.terminal].state.system_stats.bandwidth,n=b.clamp(0,1,Math.pow(c.props[c.props_by_id.terminal].state.system_temp/100,2)),p=e({none:.01,plasma_dmg_1:.02,plasma_dmg_2:.03})(c);return b.approach(4,.95,h)*n*p*(1+d(c,"dmg_pct"))};z.exports={init:()=>({}),tick:c=>{let h={},n={},p=[[0,11]];for(;0<p.length;){var m=p.shift();[[m[0],m[1]-1],[m[0],m[1]+1],[m[0]+1,m[1]],[m[0]-1,m[1]]].forEach(w=>{let t=
w.join(",");var q;if(!(q=n[t])){q=w[0];var l=w[1];q=0>q||9<q||0>l||11<l}q||(null==a(c,w[0],w[1])?(p.push(w),n[t]=!0):h[t]=(h[t]||0)+1)})}m=Object.keys(h);let v=b.seeded_rand(c.ticks);for(let w=0;w<m.length;w++){let t=m[w].split(","),q=g(c);.05>v()&&f.emit(c,"try_hit_block_at",{x:t[0],y:t[1],source:"plasma",damage:20*q})}f.emit(c,"plasma_fired",{block_count:m.length})},draw:(c,{})=>!1}}),Ee=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),{field_grid_size:e}=eb(),{block_at:f,blocks_within_radius:d}=Ya(),
{val_lookup:g,synth_lookup:c,has_synth:h,system_stat:n}=ab(),p=ra(),m=Lb();({get_utility_buff:x}=Ta());var v=x("drone"),w=H=>{let ca=.66*n(H,"cpu_speed");return(.7+g({none:0,drone_speed_1:.2,drone_speed_2:.5})(H)+Math.pow(ca,.6)/23)*(1+v(H,"rate_pct"))},t=H=>{let ca=n(H,"security"),U=g({none:5,drone_dmg_1:25,drone_dmg_2:50,drone_dmg_3:70})(H),W=g({none:1,drone_targets_1:.5,drone_targets_2:1/3,drone_targets_3:.25})(H);return(U+13*(ca+4))*W*(1+v(H,"dmg_pct"))},q=H=>{let ca=n(H,"coherence");return g({none:2.5,
drone_radius_1:3,drone_radius_2:3.5})(H)+8*(1-1/(1+Math.pow(ca,.5)/25))},l=g({none:2,drone_targets_1:3,drone_targets_2:4,drone_targets_3:5}),r=g({none:200,drone_delay_1:166,drone_delay_2:133,drone_delay_3:100}),A=c(1.25,{drone_trojan_dmg_2:1.7,drone_trojan_dmg_1:1.5}),y=c(.15,{}),C=c(1,{drone_trojan_exp_3:4,drone_trojan_exp_2:2,drone_trojan_exp_1:1.5}),B=c(0,{drone_trojan_time_2:2,drone_trojan_time_1:1}),J=c(.005,{drone_aura_dmg_2:.015,drone_aura_dmg_1:.01}),F=c(60,{drone_aura_rate_2:50,drone_aura_rate_1:55}),
I=c(2,{drone_capacitor_dmg_2:5,drone_capacitor_dmg_1:3}),G=c(.5,{drone_capacitor_rate_2:1,drone_capacitor_rate_1:.75}),O=c(.25,{}),P=c(.05,{drone_trail_dmg_2:.1,drone_trail_dmg_1:.075}),D=c(60,{drone_trail_duration_2:120,drone_trail_duration_1:90});p.on("block_hit",(H,{block:ca,source:U})=>{if("drone"===U&&h(H,"drone_trojan")&&!ca.trojan_applied&&(U=y(H),!(a.seeded_rand(H.ticks)()>U))){U=A(H);var W=C(H);H=B(H);ca.vulnerability=U;ca.crypto=(ca.crypto||0)*W;ca.time=(ca.time||0)+H;ca.trojan_applied=
!0}});var L=(H,ca)=>{H=H.state.weapons.drone;let U=a.v2.mul(H.pos_next,[1,-1]);H.close_enough=[];let W=q(ca);for(let da=0;da<e[0];da++)for(let fa=0;fa<e[1];fa++)a.v2.distance(U,[da,fa])<W&&f(ca,da,fa)&&H.close_enough.push([da,fa]);H.close_enough.sort((da,fa)=>{da=f(ca,da[0],da[1]).hp;fa=f(ca,fa[0],fa[1]).hp;return da>fa?-1:1});H.close_enough=H.close_enough.slice(0,l(ca))},M=H=>{let ca=H.props[H.props_by_id.terminal].state,U=F(H);var W=ca.weapons.drone,da=W.pos_next;da=d(H,da[0],-da[1],q(H)+1);let fa=
t(H)*J(H);if(da.forEach(ba=>{0<(ba.seed+ca.uptime)%U||p.emit(H,"hit_block",{block:ba,damage:fa,source:"drone_aura"})}),h(H,"drone_twin_aura")){W=W.twin_pos_next;W=d(H,W[0],-W[1],.66*q(H)+1);let ba=t(H)*O(H)*J(H);W.forEach(S=>{0<(S.seed+ca.uptime+99)%U||p.emit(H,"hit_block",{block:S,damage:ba,source:"drone_aura"})})}},X=(H,ca,U,W,da,fa,ba,S)=>.9<U?!1:b.group(null,S.map((k,u)=>{let [E,Q]=a.v2.mul(k,[1,-1]);k=m({thickness:T=>a.lerp(.05+da,.1+da,T),from:[ca[0],ca[1],2.9],to:[E+.5,Q-.5,2.9],detail:Math.floor(a.lerp(2,
10,U)),seed:ba+100*H.last_fired_at+1E3*u,dt:a.clamp(0,1,a.ease.o2(U)),wiggle:a.lerp(.1+W,.4+W,U),col:[1,1,1]});u=m({thickness:T=>.5*a.lerp(.05+da,.1+da,T),from:[ca[0],ca[1],3],to:[E+.5,Q-.5,3],detail:Math.floor(a.lerp(2,10,U)),seed:ba+100*H.last_fired_at+1E3*u,dt:a.clamp(0,1,a.ease.o2(U)),wiggle:a.lerp(.1+W,.4+W,U),col:fa});return b.group(null,[k,u])})),ea=({pos:H,zap_dt:ca,time:U,radius:W,capacitor_charge:da})=>{var fa=1-a.ease.linear(a.ease.io2(ca)),ba=Math.PI/4*7,S=Math.PI/4*5,k=Math.PI/4*3,u=
Math.PI/4;let E=a.lerp(1.1,1,ca),Q=a.lerp(.8,.6,ca),T=a.lerp(.4,.5,a.noise(1234,2,2,U/20)),aa=a.lerp(.6,.7,a.noise(2345,2,2,U/20));var ia=a.lerp(.5,1,a.noise(4321,2,2,U/20));ia=a.lerp(ia,1,ca);ia=[ia,ia,ia,1];da=b.group(null,[b.rect_fill({pos:[0,0,-.2],rot:[0,0,a.lerp(ba,u,fa)],size:[E,E],tint:[.8,0,.8,a.lerp(.2,T,fa)],origin:[.5,.5]}),b.rect_fill({pos:[0,0,-.1],rot:[0,0,a.lerp(S,u,fa)],size:[Q,Q],tint:[.8,.4,.8,a.lerp(.4,aa,fa)],origin:[.5,.5]}),b.rect_fill({pos:[0,0,0],rot:[0,0,a.lerp(k,u,fa)],
size:[.3,.3],tint:ia,origin:[.5,.5]}),100==da&&b.rect_fill({pos:[0,0,0],size:[2,2],tint:[1,0,1,0],origin:[.5,.5],overlap_id:"btn_drone_capacitor"}),b.group({rot:[0,0,Math.PI/4]},[b.rect_stroke({pos:[0,0,1],size:[1,1],width:a.lerp(0,.2,da/100),tint:[1,1,1,100==da?a.ranged_sin(U/4,0,1):.1],origin:[.5,.5]})])]);fa=b.group;H={pos:[H[0],H[1],4]};ba=[];for(S=0;100>S;S++)k=a.lerp(0,2*Math.PI,S/100),u=Math.cos(U/10+20*k),u=a.v2.add_scalar(a.v2.polar(k,W),a.lerp(u/8,0,ca)),ba.push(b.rect_fill({pos:[u[0],u[1],
0],size:[.05,.05],tint:[1,1,1,a.lerp(.9,.2,ca)*a.noise(1234,2,2,U/10+S)],origin:[.5,.5],rot:[0,0,k]}));ca=b.group(null,ba);return fa.call(b,H,[da,ca])},V=({pos:H,zap_dt:ca})=>b.group({pos:[H[0],H[1],4],rot:[0,0,Math.PI/4]},[b.rect_fill({size:[.6,.6],tint:[1,0,1,a.lerp(.2,.4,1-ca)],origin:[.5,.5]}),b.rect_fill({pos:[0,0,.1],size:[.4,.4],tint:[1,.5,1,a.lerp(.2,.7,1-ca)],origin:[.5,.5]}),b.rect_fill({pos:[0,0,.2],size:[.15,.15],tint:[1,1,1,a.lerp(.7,1,1-ca)],origin:[.5,.5]})]);z.exports={init:()=>({ticks:0,
last_fired_at:0,sparks:[],pos_prev:null,pos_next:null,close_enough:[],capacitor_charge:0,capacitor_targets:[],twin_pos_next:null,twin_pos_prev:null,twin_orbit:0,twin_targets:[],twin_last_fired_at:0,trail_points:[],twin_trail_points:[]}),tick:(H,ca)=>{let U=H.props[H.props_by_id.terminal],W=U.state.weapons.drone;W.ticks+=w(H);null==W.pos_prev&&(W.pos_prev=[5,a.lerp(1,12,Math.random())],W.pos_next=[...W.pos_prev]);W.pos_prev=[...W.pos_next];var da=W.ticks/100;if(W.pos_next=[4*Math.sin(1.5*da)+5,4*Math.sin(2*
da)-5],h(H,"drone_trail")&&0==U.state.uptime%5){W.trail_points||(W.trail_points=[]);W.trail_points.push({pos:[W.pos_next[0],-W.pos_next[1]],at:U.state.uptime});let fa=D(H);W.trail_points=W.trail_points.filter(ba=>U.state.uptime-ba.at<fa)}if(U.state.paused||(W.twin_orbit=(W.twin_orbit||0)+w(H)/25),W.twin_pos_prev=[...(W.twin_pos_next||[])],W.twin_pos_next=a.v2.add(W.pos_next,a.v2.polar(W.twin_orbit,2)),h(H,"drone_twin_trail")&&0==U.state.uptime%5){W.twin_trail_points||(W.twin_trail_points=[]);W.twin_trail_points.push({pos:[W.twin_pos_next[0],
-W.twin_pos_next[1]],at:U.state.uptime});let fa=D(H);W.twin_trail_points=W.twin_trail_points.filter(ba=>U.state.uptime-ba.at<fa)}if(W.ticks-W.last_fired_at>r(H)&&(L(U,H),0<W.close_enough.length)){W.last_fired_at=W.ticks;let fa=t(H);if(W.close_enough.forEach(([ba,S])=>{let k=a.v2.mul([ba,S],[1,-1]);W.sparks.push({x:k[0],y:k[1],at:W.ticks});p.emit(H,"try_hit_block_at",{x:ba,y:S,damage:fa,source:"drone"})}),p.emit(H,"drone_fired",{damage:fa}),W.trail_points&&0<W.trail_points.length){let ba=t(H)*P(H);
a.geom.polyline_tiles(W.trail_points.map(S=>S.pos)).forEach(S=>{p.emit(H,"try_hit_block_at",{x:S[0],y:S[1],damage:ba,source:"drone_trail"})})}}if(h(H,"drone_twin")&&W.ticks-(W.twin_last_fired_at||0)>1.33*r(H)){da=W.twin_pos_next[0];let fa=-W.twin_pos_next[1],ba=.66*q(H);da=d(H,da,fa,ba);da.sort((S,k)=>S.hp>k.hp?-1:1);da=da.slice(0,l(H));if(0<da.length){W.twin_last_fired_at=W.ticks;W.twin_targets=da;let S=O(H)*t(H);if(da.forEach(k=>{W.sparks.push({x:k.x,y:-k.y,at:W.ticks});p.emit(H,"hit_block",{block:k,
damage:S,source:"drone"})}),W.twin_trail_points&&0<W.twin_trail_points.length){let k=t(H)*P(H)*O(H);a.geom.polyline_tiles(W.twin_trail_points.map(u=>u.pos)).forEach(u=>{p.emit(H,"try_hit_block_at",{x:u[0],y:u[1],damage:k,source:"drone_trail"})})}}}if(h(H,"drone_aura")&&M(H),h(H,"drone_capacitor"))da=G(H),W.capacitor_charge=Math.min(100,(W.capacitor_charge||0)+da);if((fa=>ca.some(ba=>"mouse_down"==ba.type)&&H.cursor_overlaps[fa])("btn_drone_capacitor")&&100==W.capacitor_charge){let fa=t(H)*I(H);W.capacitor_last_fired_at=
W.ticks;W.capacitor_charge=0;da=d(H,W.pos_next[0],-W.pos_next[1],2*q(H));da.sort((ba,S)=>ba.hp>S.hp?-1:1);da=da.slice(0,l(H));W.capacitor_targets=da;da.forEach(ba=>{W.sparks.push({x:ba.x,y:-ba.y,at:W.ticks});p.emit(H,"try_hit_block_at",{x:ba.x,y:ba.y,damage:fa,source:"drone"})})}W.sparks=W.sparks.filter(fa=>40>W.ticks-fa.at)},draw:(H,{dt:ca})=>{let U=H.props[H.props_by_id.terminal],W=H.ticks+ca,da=U.state.weapons.drone;if(null==da.pos_prev||null==da.twin_pos_prev)return!1;var fa=da.ticks+ca;let ba=
a.clamp(0,1,(fa-da.last_fired_at)/50),S=a.clamp(0,1,(fa-da.capacitor_last_fired_at)/50),k=a.clamp(0,1,(fa-da.twin_last_fired_at)/50);fa=U.state.paused?da.pos_next:a.v2.lerp(da.pos_prev,da.pos_next,ca);ca=U.state.paused?da.twin_pos_next:a.v2.lerp(da.twin_pos_prev,da.twin_pos_next,ca);let u=[];for(var E=0;E<(da.trail_points||[]).length-1;E++)u.push([da.trail_points[E],da.trail_points[E+1]]);E=[];for(let Q=0;Q<(da.twin_trail_points||[]).length-1;Q++)E.push([da.twin_trail_points[Q],da.twin_trail_points[Q+
1]]);return b.group(null,[X(da,fa,ba,0,0,[1,0,1],0,da.close_enough),X(da,ca,k,0,0,[1,0,1],0,(da.twin_targets||[]).map(Q=>[Q.x,Q.y])),0<S&&X(da,fa,S,.05,.05,[0,1,.2],100,da.capacitor_targets.map(Q=>[Q.x,Q.y])),b.group(null,u.map(([Q,T])=>{let aa=(U.state.uptime-T.at)/D(H),ia=a.ease.seq([{len:.1,fn:a.ease.inv(a.ease.linear)},{len:.9,fn:a.ease.linear}])(aa);return b.line({from:[Q.pos[0],-Q.pos[1],3],to:[T.pos[0],-T.pos[1],3],width:a.lerp(a.lerp(.15,.1,ba),0,ia),tint:[1,a.lerp(.8,.5,ba),1,a.lerp(1,.5,
ba)*(1-aa)]})})),b.group(null,E.map(([Q,T])=>{let aa=(U.state.uptime-T.at)/D(H),ia=a.ease.seq([{len:.1,fn:a.ease.inv(a.ease.linear)},{len:.9,fn:a.ease.linear}])(aa);return b.line({from:[Q.pos[0],-Q.pos[1],3],to:[T.pos[0],-T.pos[1],3],width:a.lerp(a.lerp(.1,.08,k),0,ia),tint:[1,a.lerp(.8,.5,k),1,a.lerp(1,.2,k)*(1-aa)]})})),ea({pos:fa,zap_dt:ba,time:W,radius:q(H),capacitor_charge:da.capacitor_charge}),h(H,"drone_twin")&&V({pos:ca,zap_dt:k,time:W,radius:.66*q(H),capacitor_charge:da.twin_capacitor_charge})])}}}),
Db=R((x,z)=>{z.exports={reader:Ae(),demux:Be(),arc:Ce(),plasma:De(),drone:Ee()}}),Fe=R(()=>{var x=xa(),z=ra(),{prestige:b}=fe(),a=Db();z.on("changed/mode_connection/to_connected",(e,f)=>{f=e.props[e.props_by_id.terminal];f.state.connected_at=e.ticks;f.state.disconnected_at=null;f.state.paused=!1;f.state.depth=0;f.state.uptime=0;f.state.total_cash_collected=0;f.state.system_stats_upgrade_count=0;f.state.utility_upgrade_count=0;e.run_dmg={};e.reader_history=[];e.reader_2_history=[];e.reader_3_history=
[];e.mining_blocks=[];e.mining_block_deaths=[];e.mining_block_hits=[];e.mining_boids=[];e.mining_downloads=[];f.state.reader_shorts=[];f.state.reader_trails=[];f.state.reader_augmented_at=null;f.state=b(e);f.state.weapons=Object.keys(a).reduce((d,g)=>"reader"==g?d:{...d,[g]:a[g].init()},{});z.emit(e,"started_run",{})});z.on("changed/mode_connection/from_connected",(e,f)=>{e=e.props[e.props_by_id.terminal];e.state.time_left=null;e.state.active_consumables=[]});z.on("changed/mode_connection/to_disconnected",
(e,f)=>{e.props[e.props_by_id.terminal].state.disconnected_at=e.ticks;x(e,"mode_terminal","debrief")})}),Ge=R(()=>{var x=ra(),z=Ga(),b=xa(),a={temp_time_up:2,temp_time_up_2:1,temp_cash_up:3,temp_arc:1,temp_demux:1,temp_uplink:2,temp_cpu_clock:1,temp_security:1,temp_coherence:1,temp_cooling:1,temp_utility_slots:1,temp_bomb:1,temp_delta:1,cpu_microbyte_1:1,cpu_microbyte_2:1,cpu_microbyte_3:1,cpu_omskoft_1:1,cpu_omskoft_2:1,cpu_omskoft_3:1,cpu_kamakura_1:1,cpu_kamakura_2:1,modem_microbyte_1:1,modem_microbyte_2:1,
modem_microbyte_3:1,modem_esscom_1:1,modem_esscom_2:1,modem_esscom_3:1,modem_brooks_1:1,modem_brooks_2:1,modem_brooks_3:1,firewall_esscom_1:1,firewall_esscom_2:1,firewall_esscom_3:1,firewall_starmill_1:1,firewall_starmill_2:1,firewall_starmill_3:1,firewall_brooks_1:1,firewall_brooks_2:1,firewall_brooks_3:1,cooler_microbyte_1:1,cooler_microbyte_2:1,cooler_jetline_1:1,cooler_jetline_2:1,cooler_jetline_3:1,cooler_vkolor_1:1,cooler_vkolor_2:1,cooler_vkolor_3:1,drive_as_1:1,drive_as_2:1,drive_as_3:1,trinket_bismuth_contraption:1,
trinket_neon_totem:1,trinket_grounding_rings:1,trinket_corrugated_shawl:1,trinket_salt_circle:1,trinket_thermal_magnets:1,trinket_mirror_pool:1,trinket_hard_standby:1,trinket_winding_mod:1,trinket_warm_lines:1,trinket_bootloader:1,trinket_netboot:1,trinket_eeprom:1,trinket_lithium_film:1,trinket_ground_loop:1,trinket_connection_mask:1,t1_auth_key:1,t2_auth_key:1,t3_auth_key:1,t4_auth_key:1},e=()=>{let d=["loyalty_card"];return Object.keys(a).forEach(g=>{for(let c=0;c<a[g];c++)d.push(g)}),d},f=d=>
(Object.keys(a).forEach(g=>{d.filter(c=>c==g).length<a[g]&&d.push(g)}),d);x.on("changed/mode_terminal/to_desktop",(d,g)=>{g=d.props[d.props_by_id.terminal].state.scenes.desktop;g.ticks=0;b(d,"mode_desktop","home");d.flags.reset_terminal&&z.queue(d.automator_state,[[30,"(lerp desktop_reveal 0 1)"],[0,"(set desktop_reveal 1)"]]);null==g.shop_items||0==g.shop_items.length?g.shop_items=e():g.shop_items=f(g.shop_items)});x.on("changed/mode_terminal/to_connected",(d,g)=>{g=d.props[d.props_by_id.terminal].state.scenes.connected;
g.connected_at=d.ticks;g.disconnected_at=null});x.on("changed/mode_terminal/to_desktop",(d,g)=>{d.props[d.props_by_id.terminal].state.receive_input=!0})}),He=R(()=>{var x=ra(),{items:z}=Ia();x.on("show_reward_modal",(b,{item_id:a,dl_time:e})=>{let f=b.props[b.props_by_id.terminal].state;f.paused=!0;f.receive_input=!1;f.receive_modal_input=!0;f.reward_filename=z[a].title;f.reward_dl_time=e;f.reward_dl_start=b.ticks});x.on("changed/mode_reward_modal/from_shown",(b,a)=>{b=b.props[b.props_by_id.terminal].state;
b.paused=!1;b.receive_input=!0;b.receive_modal_input=!1})}),Ie=R((x,z)=>{var b=$a(),{math:a}=na(),e=ra();b.define("get",f=>(d,g)=>d[g(f)]);b.define("set",(f,d)=>(g,c)=>{g[c(f)]=c(d)});b.define("cond",(f,d,g)=>(c,h,n)=>{h(f)?b.run(n.subvm,d):b.run(n.subvm,g)});b.define("lerp",(f,d,g,c)=>(h,n,p)=>{-1==p.optime&&(p.optime=n(c)-1);p=1-p.optime/(n(c)-1);h[n(f)]=a.lerp(n(d),n(g),p)});b.define("wait",f=>(d,g,c)=>{-1==c.optime&&(c.optime=g(f)-1)});b.define("wait_until",f=>(d,g,c)=>{c.sleep=!0;e.on_any((h,
n)=>{if(n==f)return c.sleep=!1,!0})});b.define("equal",(f,d)=>(g,c)=>c(f)==c(d))}),Je=R((x,z)=>{z.exports={lights:[{name:"nterminal_i100_a100_r210_g180_b150",pos:[-2,.640625,-7.546875]},{name:"i50_a102_r180_g190_b150",pos:[2,1,-6]},{name:"i150_a601_r210_g180_b152",pos:[-5.4375,.75,-8.953125]},{name:"i250_a300_r180_g90_b20",pos:[-4,-.609375,.453125]},{name:"i250_a300_r180_g90_b21",pos:[-7,-.609375,.453125]},{name:"i250_a300_r180_g90_b22",pos:[-10,-.609375,.453125]},{name:"ncatwalk_i500_a300_r120_g50_b50",
pos:[-6,1.390625,-2.046875]},{name:"nworkbench_i300_a800_r210_g180_b151",pos:[-5,.640625,-6.171875]},{name:"nvent_i700_a300_r210_g80_b50",pos:[1.9375,.890625,-9.296875]},{name:"i200_a500_r180_g190_b201",pos:[-2.4375,1.453125,-9.546875]},{name:"i250_a601_r210_g180_b150",pos:[0,.875,-5]}],brushes:[],props:[{name:"player",pos:[-2,0,-7]},{name:"terminal",pos:[-2,0,-8]},{name:"db_chair",pos:[0,0,-5]},{name:"front_door",pos:[0,0,-11]},{name:"sign_wrong_way",pos:[7,0,-6]},{name:"maint_door",pos:[-4,0,-4]},
{name:"desk_shelf",pos:[-3,0,-7]},{name:"fridge",pos:[-1,0,-10]},{name:"sink",pos:[-2,0,-10]},{name:"counter",pos:[-3,0,-10]},{name:"desk_pipe",pos:[-3,0,-8]},{name:"bathroom_door",pos:[2,0,-8]},{name:"bed",pos:[-5,0,-8]}],nav:[{name:"l",pos:[-2,0,-7]},{name:"l2",pos:[-1,0,-7]},{name:"l3",pos:[-1,0,-6]},{name:"l4",pos:[-1,0,-5]},{name:"l5",pos:[0,0,-6]},{name:"l6",pos:[0,0,-7]},{name:"l7",pos:[0,0,-8]},{name:"l8",pos:[0,0,-9]},{name:"l9",pos:[-2,0,-6]},{name:"l10",pos:[-3,0,-6]},{name:"l11",pos:[-3,
0,-5]},{name:"l12",pos:[-2,0,-5]},{name:"l13",pos:[-2,0,-9]},{name:"l14",pos:[-1,0,-9]},{name:"l15",pos:[0,0,-10]},{name:"l16",pos:[-3,0,-9]},{name:"l17",pos:[-4,0,-5]},{name:"l18",pos:[-5,0,-5]},{name:"l19",pos:[-6,0,-5]},{name:"l20",pos:[-6,0,-6]},{name:"l21",pos:[-6,0,-7]},{name:"l22",pos:[-5,0,-7]},{name:"l23",pos:[-5,0,-8]},{name:"l24",pos:[-6,0,-8]},{name:"l25",pos:[-6,0,-9]},{name:"l26",pos:[-5,0,-9]},{name:"l27",pos:[1,0,-9]},{name:"l28",pos:[2,0,-9]},{name:"l29",pos:[2,0,-8]},{name:"l30",
pos:[2,0,-7]},{name:"l31",pos:[2,0,-6]},{name:"l32",pos:[4,0,-6]},{name:"l33",pos:[6,0,-6]},{name:"l34",pos:[5,0,-6]},{name:"l35",pos:[5,0,-7]},{name:"l36",pos:[4,0,-7]},{name:"l37",pos:[4,0,-8]},{name:"l38",pos:[5,0,-8]},{name:"l39",pos:[4,0,-9]},{name:"l40",pos:[3,0,-9]},{name:"l41",pos:[-4,0,-4]},{name:"l42",pos:[-4,0,-3]},{name:"l43",pos:[-5,0,-3]},{name:"l44",pos:[-6,0,-3]},{name:"l45",pos:[-6,0,-2]},{name:"l46",pos:[-7,0,-3]},{name:"l47",pos:[-8,0,-3]},{name:"l48",pos:[-8,0,-4]}],hints:[]}}),
bc=R((x,z)=>{z.exports={note:{pos:[-971.2523404898282,105.21332153950944,-2104.996193911917],rot:[0,0,0],scale:[100,100,100],model:"note"},workbench:{pos:[-1496.291534102379,2.1920701056405454,-1817.5777491884369],scale:[200,200,200],rot:[0,4.71238898038469,0],model:"workbench"},clippers:{pos:[-1538.7974064397663,114.15519089464908,-1808.5877920988055],scale:[30,30,30],rot:[0,.6,0],model:"clippers",skip_lighting:!0,tint:[1.3,1.3,1.3,1]},vent1:{model:"vent_closed",pos:[-1049.2793147548923,199.2252634001891,
-1814.7352928474568],rot:[0,1.5707963267948966,0],scale:[200,200,200],tint:[1.2,1.2,1.2,1]},vent2:{model:"vent_closed",pos:[-1650.6611198750488,200.34655709776897,-2850.0859922665436],rot:[0,0,0],scale:[200,200,200]},vent_stuck:{model:"vent_stuck",pos:[586.9518151704403,153.64592807630933,-2849.8033378070677],rot:[0,0,0],scale:[150,150,150],skip_lighting:!1},vent_unstuck:{model:"vent_unstuck",pos:[586.9518151704403,153.64592807630933,-2849.8033378070677],rot:[0,0,0],scale:[150,150,150],skip_lighting:!1,
hide:!0}}}),Mb=R((x,z)=>{var {fabs:b}=sa()(),a=Je();x=bc();a=(h=>{let n=h.nav.map(m=>m.pos).map(m=>[Math.floor(m[0]),Math.floor(m[2])]),p=n.reduce((m,v)=>(m[v.join(",")]=".",m),{});h.props.forEach(m=>{let v=m.pos.map(w=>Math.floor(w));p[v.join(",")]=m.name});n.forEach(m=>{[[0,1],[0,-1],[1,0],[-1,0]].forEach(v=>{v=[m[0]+v[0],m[1]+v[1]].join();p[v]=p[v]||"#"})});h=h.lights.map(m=>{let v=m.pos,w={i:"intensity",a:"attenuation",r:"r",g:"g",b:"b",n:"name"};m=m.name.split("_").reduce((t,q)=>{let l=q[0];
q=q.slice(1);return w[l]&&("n"!=l?t[w[l]]=parseInt(q,10):t[w[l]]=q),t},{intensity:100,attenuation:1,r:255,g:255,b:255,name:""});return{name:m.name,pos:v,tint:[m.r/255,m.g/255,m.b/255],intensity:m.intensity,attenuation:m.attenuation}});return{glyphs:p,lights:h}})(a);var e={player:{type:"player",facing:0},db_chair:{type:"db_chair",id:"db_chair"},terminal:{type:"terminal",rot:[0,0,0],id:"terminal"},model:{type:"model",model:"bed",focus:[0,100,0],rot:[0,-.55*Math.PI,0],id:"bed"},sign_wrong_way:{type:"floating_note",
id:"sign_wrong_way"},front_door:{id:"front_door",type:"front_door"},maint_door:{type:"keydoor",rot:[0,Math.PI,0],key:"acab",id:"maint_door"},desk_shelf:{id:"desk_shelf",type:"model",model:"shelf",passable:!1,rot:[0,.99*Math.PI,0],offset:[-20,0,0],scale:[.9,.7,.9]},fridge:{id:"fridge",type:"model",model:"fridge",passable:!1,rot:[0,Math.PI,0]},sink:{id:"sink",type:"model",model:"sink",passable:!1},counter:{id:"counter",type:"model",model:"counter",passable:!1},desk_pipe:{type:"trigger",id:"desk_pipe"},
bathroom_door:{id:"bathroom_door",type:"model",model:"door",rot:[0,-1.8*Math.PI,0],offset:[20,-50,-110],scale:[1,1.2,1],passable:!1},bed:{id:"bed",type:"model",model:"bed",rot:[0,.55*Math.PI,0],passable:!1}},f=Object.entries(a.glyphs).reduce((h,n)=>{let [p,m]=n;1<m.length&&(n=p.split(",").map(v=>parseInt(v,10)),h.push({...e[m],pos:[n[0],n[2]]}));return h},[]),d={s:{type:"player",facing:0},t:{type:"terminal",rot:[0,0,0],id:"terminal"},k:{type:"keydoor",key:"abc",rot:[0,Math.PI,0]},d:{type:"front_door"},
b:{type:"model",model:"bed",focus:[0,100,0],rot:[0,-.55*Math.PI,0],id:"bed"},g:{type:"db_chair",id:"db_chair"}},g="# # # # # k # # # k # # # k # # # k # # # k # # # k # # # k # #;# . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . #;# . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . #;# # # k # # # k # # # # d # # # # # # # # # # k # # # # # . . #;. . . . . . . . # . . . . . . . . . . . # . . . . . . . # . . #;. . . . . . . . # . . t . . . . . . . . # . . . . . . . # . . k;. . . . . . . . # # # s . . # # # # # k # . . . . . . . # . . #;. . . . . . . . # . . . . . # . . . . . # . . . . . . . k . . #;. . . . . . . . # b . . . g # . . . . . # . . . . . . . # . . #;. . . . . . . . # # # # # # # # # # # # # . . . . . . . # . . k;. . . . . . . . . . . . . . . . . . . . . . . . . . . . # . . #;. . . . . . . . . . . . . . . . . . . . . . . . . . . . # # # #".split(";");
g={glyphs:a.glyphs,width:g[0].split(" ").length,height:g.length,occlusion_map:g.map(h=>h.split(" ").join(""))};var c=((h,n)=>{let p=[];for(let m=0;m<h.width;m++)for(let v=0;v<h.height;v++)n[h.glyphs[m+","+v]]||p.push(b.box({pos:[m,.5,v],col:[.2,.2,.2,1],holes:{north:!n[h.glyphs[m+","+(v-1)]||"#"],south:!n[h.glyphs[m+","+(v+1)]||"#"],east:!n[h.glyphs[m+1+","+v]||"#"],west:!n[h.glyphs[m-1+","+v]||"#"],up:!0,down:!0}}));return p.push(b.rect_fill({pos:[h.width/2-.5,1,h.height/2-.5],size:[h.width,h.height],
rot:[Math.PI/2,0,0],tint:[.15,.15,.15,1],origin:[.5,.5]})),p.push(b.rect_fill({pos:[h.width/2-.5,0,h.height/2-.5],size:[h.width,h.height],rot:[Math.PI/2,0,0],tint:[.25,.25,.25,1],origin:[.5,.5]})),b.group(null,p)})(g,{"#":!0});((h,n)=>{let p=[];for(let m=0;m<h.width;m++)for(let v=0;v<h.height;v++){let w=n[h.glyphs[m+","+v]];w&&p.push({...w,pos:[m,v]})}return p})(g,d);z.exports={world_map:g,map_figures:c,map_props:f,map_lights:a.lights,map_models:x}}),cc=R((x,z)=>{var {math:b}=na();sa()();var a=(e,
f)=>{let d=Math.floor(e)+1,g=0==f?0:Math.sign(f);return[d,g,((0<f?d:d-1)-e)/f,g/f]};z.exports={grid_walk:({origin:e,angle:f,ray_spread:d,ray_count:g,grid_size:c,occlusion_map:h})=>{let n=h[0].length,p=h.length,m=f-d/2;f+=d/2;d=e[0]/c[0]-1;e=e[1]/c[1]-1;c=[];for(var v=0;v<p;v++)c.push(Array(n).fill(!1));for(v=0;v<g;v++){let w=b.lerp(m,f,v/(g-1)),[t,q]=b.v2.polar(w,1),[l,r,A,y]=a(d,t),[C,B,J,F]=a(e,q);for(;0<=l&&l<n&&0<=C&&C<p&&(c[C][l]=!0,"#"!=h[C][l]);)A<J?(l+=r,J-=A,A=y):(C+=B,A-=J,J=F)}return c}}}),
dc=R((x,z)=>{z.exports=b=>{let a=b.getUTCFullYear(),e=b.getUTCMonth()+1;b=b.getUTCDate();return`${a}-${e.toString().padStart(2,0)}-${b.toString().padStart(2,0)}`}}),Ke=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=({dt:e,text:f,time:d})=>b.group({tint:[1,1,1,a.clamp(0,1,a.unlerp(0,.5,e))]},[b.rect_fill({pos:[0,0,0],size:[2,2],origin:[.5,.5],tint:[0,0,0,1]}),b.group({tint:[1,1,1,a.clamp(0,1,a.unlerp(.5,1,e))]},[b.text({pos:[-.05,0,-.05],rot:[0,0,.3],text:"IMAGINATION TIME :)",align:["center","center"],
font:"Ibarra Real Nova",tint:[...a.hsl2rgb(5*d,1,.7),.1],size:.15}),b.text({pos:[-.5,0,-.1],text:f,align:["top","left"],font:"Ibarra Real Nova",tint:[.9,.9,.9,1],line_height:1.4,margin:1,size:.04}),b.text({pos:[0,-.5,-.1],text:"Press [E]",align:["center","center"],font:"Ibarra Real Nova",tint:[.9,.9,.9,e],line_height:1.4,margin:1,size:.04})])])}),Eb=R((x,z)=>{var b=void 0,a=null,e=null,f=null,d=null,g=null;z.exports={kgl:{make:(c,h,n,p)=>{let m=p.instanced,v=p.indexed;p=c.createShader(c.VERTEX_SHADER);
if(c.shaderSource(p,h),c.compileShader(p),!c.getShaderParameter(p,c.COMPILE_STATUS))throw c.getShaderInfoLog(p);h=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(h,n),c.compileShader(h),!c.getShaderParameter(h,c.COMPILE_STATUS))throw c.getShaderInfoLog(h);let w=c.createProgram();if(c.attachShader(w,p),c.attachShader(w,h),c.linkProgram(w),!c.getProgramParameter(w,c.LINK_STATUS))throw c.getProgramInfoLog(w);n=c.getProgramParameter(w,c.ACTIVE_UNIFORMS);let t={};for(h=0;h<n;h++){p=c.getActiveUniform(w,
h);var q=c.getUniformLocation(w,p.name);0>q||(t[p.name]={name:p.name,size:p.size,type:p.type,loc:q})}n=c.getProgramParameter(w,c.ACTIVE_ATTRIBUTES);let l={};for(h=0;h<n;h++)p=c.getActiveAttrib(w,h),q=c.getAttribLocation(w,p.name),0>q||(l[p.name]={name:p.name,size:p.size,type:p.type,loc:q});let r={[c.FLOAT]:4,[c.INT]:4,[c.UNSIGNED_INT]:4},A=[{type:c.FLOAT,base:c.FLOAT,size:1},{type:c.FLOAT_VEC2,base:c.FLOAT,size:2},{type:c.FLOAT_VEC3,base:c.FLOAT,size:3},{type:c.FLOAT_VEC4,base:c.FLOAT,size:4},{type:c.FLOAT_MAT2,
base:c.FLOAT,size:4},{type:c.FLOAT_MAT3,base:c.FLOAT,size:9},{type:c.FLOAT_MAT4,base:c.FLOAT,size:16},{type:c.INT,base:c.INT,size:1},{type:c.INT_VEC2,base:c.INT,size:2},{type:c.INT_VEC3,base:c.INT,size:3},{type:c.INT_VEC4,base:c.INT,size:4},{type:c.UNSIGNED_INT,base:c.UNSIGNED_INT,size:1},{type:c.UNSIGNED_INT_VEC2,base:c.UNSIGNED_INT,size:2},{type:c.UNSIGNED_INT_VEC3,base:c.UNSIGNED_INT,size:3},{type:c.UNSIGNED_INT_VEC4,base:c.UNSIGNED_INT,size:4}].reduce((P,D)=>({...P,[D.type]:D}),{}),y=()=>{let P=
c.createVertexArray();c.bindVertexArray(P);let D={};for(var L in l){let M=l[L],X=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,X);let ea=A[M.type].size,V=r[A[M.type].base];for(let H=0;H<Math.ceil(ea/4);H++){let ca=Math.min(4,ea-4*H);c.enableVertexAttribArray(M.loc+H);c.vertexAttribPointer(M.loc+H,ca,A[M.type].base,!1,ea*V,H*ca*V);m&&c.vertexAttribDivisor(M.loc+H,1)}D[M.name]=X}v&&(L=c.createBuffer(),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,L),D.indices=L);return{vao:P,buffers:D}},C={default:y()};c.getExtension("EXT_disjoint_timer_query_webgl2");
c.getExtension("EXT_texture_filter_anisotropic");let B=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3],J=P=>{P.forEach((D,L)=>{c.activeTexture(B[L]);c.bindTexture(c.TEXTURE_2D,D)})},F="default",I=[{type:c.UNSIGNED_INT,setter:(P,D)=>c.uniform1ui(P,D)},{type:c.FLOAT,setter:(P,D)=>Array.isArray(D)?c.uniform1fv(P,new Float32Array(D)):c.uniform1f(P,D)},{type:c.FLOAT_VEC2,setter:(P,D)=>c.uniform2fv(P,D)},{type:c.FLOAT_VEC3,setter:(P,D)=>c.uniform3fv(P,D)},{type:c.FLOAT_VEC4,setter:(P,D)=>c.uniform4fv(P,D)},
{type:c.FLOAT_MAT4,setter:(P,D)=>c.uniformMatrix4fv(P,!1,D)},{type:c.SAMPLER_CUBE,setter:(P,D)=>c.uniform1i(P,D)},{type:c.SAMPLER_2D,setter:(P,D)=>c.uniform1i(P,D)}].reduce((P,D)=>({...P,[D.type]:D.setter}),{}),G=0,O=0;return{upload_texture:P=>{let D=c.createTexture();return c.bindTexture(c.TEXTURE_2D,D),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,P),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),D},upload_cubemap:P=>{let D=c.createTexture();c.bindTexture(c.TEXTURE_CUBE_MAP,D);let L=c.RGBA,M=c.RGBA,X=c.UNSIGNED_BYTE,ea=P.width/4;return[{face:c.TEXTURE_CUBE_MAP_POSITIVE_X,tex_pos:[0,1/3],r:0},{face:c.TEXTURE_CUBE_MAP_NEGATIVE_X,tex_pos:[.5,1/3],r:0},{face:c.TEXTURE_CUBE_MAP_POSITIVE_Y,tex_pos:[.25,0],r:Math.PI},{face:c.TEXTURE_CUBE_MAP_NEGATIVE_Y,tex_pos:[.25,2/3],r:Math.PI},{face:c.TEXTURE_CUBE_MAP_POSITIVE_Z,
tex_pos:[.75,1/3],r:0},{face:c.TEXTURE_CUBE_MAP_NEGATIVE_Z,tex_pos:[.25,1/3],r:0}].forEach(({face:V,tex_pos:H,r:ca})=>{var U=[ea,ea];let W=document.createElement("canvas").getContext("2d");W.canvas.width=U[0];W.canvas.height=U[1];let da=P.width*H[0];H=P.height*H[1];ca=(W.translate(U[0]/2,U[1]/2),W.rotate(ca),W.drawImage(P,da,H,U[0],U[1],-U[0]/2,-U[1]/2,U[0],U[1]),W.rotate(-ca),W.translate(-U[0]/2,-U[1]/2),W.canvas);c.texImage2D(V,0,L,ea,ea,0,M,X,ca)}),c.generateMipmap(c.TEXTURE_CUBE_MAP),c.texParameteri(c.TEXTURE_CUBE_MAP,
c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR),D},bind_texture:P=>{J([P])},bind_textures:J,bind_cubemap:P=>{c.bindTexture(c.TEXTURE_CUBE_MAP,P)},make_render_target:(P,D)=>{let L=c.createTexture();c.bindTexture(c.TEXTURE_2D,L);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,P,D,0,c.RGBA,c.UNSIGNED_BYTE,null);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_MAG_FILTER,c.LINEAR);let M=c.createTexture();c.bindTexture(c.TEXTURE_2D,M);c.texImage2D(c.TEXTURE_2D,0,c.DEPTH_COMPONENT24,P,D,0,c.DEPTH_COMPONENT,c.UNSIGNED_INT,null);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);let X=c.createFramebuffer();return c.bindFramebuffer(c.FRAMEBUFFER,X),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,L,0),c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,M,0),{fb:X,texture:L,depth_texture:M,width:P,height:D}},set_render_target:(P,{clear:D,blend:L,depth:M,depth_func:X="LESS"})=>{P=P||{fb:null,width:c.canvas.width,height:c.canvas.height};b!==P.fb&&(c.bindFramebuffer(c.FRAMEBUFFER,P.fb),b=P.fb);D&&(c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT));L!==f&&(L?(c.enable(c.BLEND),c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA)):c.disable(c.BLEND),
f=L);X!==g&&(c.depthFunc(c[X]),g=X);M!==d&&(M?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),d=M);(P.width!==a||P.height!==e)&&(c.viewport(0,0,P.width,P.height),a=P.width,e=P.height)},use:()=>{c.useProgram(w);c.bindVertexArray(C[F].vao);v&&c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,C[F].buffers.indices)},set_uniforms:P=>{for(let D in P){let L=t[D];I[L.type](L.loc,P[D])}},buffer_attrs:(P,D)=>{let L=performance.now();G=void 0===D?P[Object.keys(P)[0]].length/A[l[Object.keys(P)[0]].type].size:D;for(let M in P)c.bindBuffer(c.ARRAY_BUFFER,
C[F].buffers[M]),void 0!==D?c.bufferData(c.ARRAY_BUFFER,new Float32Array(P[M].subarray(0,D*A[l[M].type].size)),c.DYNAMIC_DRAW):c.bufferData(c.ARRAY_BUFFER,new Float32Array(P[M]),c.DYNAMIC_DRAW);O=performance.now()-L},buffer_indices:P=>{G=P.length;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,C[F].buffers.indices);c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(P),c.STATIC_DRAW)},render:P=>(m?c.drawArraysInstanced(c.TRIANGLE_STRIP,0,4,G):v?c.drawElements(c.TRIANGLES,G,c.UNSIGNED_SHORT,0):P?c.drawArrays(c.TRIANGLE_STRIP,
0,4):c.drawArrays(c.TRIANGLES,0,G),{cpu_buffer_ms:O}),new_vao:P=>{C[P]=y()},use_vao:P=>{F!=P&&(F=P,c.bindVertexArray(C[F].vao),v&&c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,C[F].buffers.indices))},copy_to_framebuffer:P=>{c.bindFramebuffer(c.READ_FRAMEBUFFER,P.fb);c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null);c.blitFramebuffer(0,0,P.width,P.height,0,0,c.canvas.width,c.canvas.height,c.COLOR_BUFFER_BIT,c.NEAREST)},width:c.canvas.width,height:c.canvas.height}}}}}),Le=R((x,z)=>{z.exports="./bed-HZ3EENI2.gltf"}),
Me=R((x,z)=>{z.exports="./db_chair-EKA2GGFR.gltf"}),Ne=R((x,z)=>{z.exports="./note-7FAD4PDH.gltf"}),Oe=R((x,z)=>{z.exports="./shelf-XZCJKF5Y.gltf"}),Pe=R((x,z)=>{z.exports="./door-R664W5XW.gltf"}),Qe=R((x,z)=>{z.exports="./fridge-GVB42QZD.gltf"}),Re=R((x,z)=>{z.exports="./sink-WU4UA7LZ.gltf"}),Se=R((x,z)=>{z.exports="./counter-SJJNWSJO.gltf"}),Te=R((x,z)=>{z.exports="./monstro-PMFHB4UK.gltf"}),Ue=R((x,z)=>{z.exports="./workbench-HIBIUTB2.gltf"}),Ve=R((x,z)=>{z.exports="./clippers-4TI73ERT.gltf"}),
We=R((x,z)=>{z.exports="./vent_open-MCL7B6ZA.gltf"}),Xe=R((x,z)=>{z.exports="./vent_closed-Q2I53RAB.gltf"}),Ye=R((x,z)=>{z.exports="./vent_stuck-SBKIHQHY.gltf"}),Ze=R((x,z)=>{z.exports="./vent_unstuck-MV2XMPAC.gltf"}),ec=R((x,z)=>{var {kgl:b}=Eb(),{math:a}=na(),{u:e}=Fa(),{map_lights:f}=Mb(),d={bed:Le(),db:Me(),note:Ne(),shelf:Oe(),door:Pe(),fridge:Qe(),sink:Re(),counter:Se(),monstro:Te(),workbench:Ue(),clippers:Ve(),vent_open:We(),vent_closed:Xe(),vent_stuck:Ye(),vent_unstuck:Ze()},g={},c=null,h=
{},n=null,p={},m={},v={},w={},t={},q=null,l=(A,y)=>{Object.keys(m).filter(C=>C.startsWith(y)).forEach(C=>{p[C].forEach((B,J)=>{A.forEach((F,I)=>{let G=!1;w[F.name]&&(G=!a.aabb.contains_v3(w[F.name],B));g[C]&&(g[C][16*J+I]=G?1:0)})})})},r=(A,y)=>{Object.keys(m).filter(C=>C.startsWith(y)).forEach(C=>{p[C].forEach((B,J)=>{A.forEach((F,I)=>{F="catwalk"==F.name;g[C]&&(g[C][16*J+I]=F?1:0)})})})};z.exports={setup:(A,y)=>{n=b.make(y,"#version 300 es\nconst vec2 verts[4] = vec2[4](\n  vec2(-1.0, -1.0),\n  vec2(1.0, -1.0),\n  vec2(-1.0, 1.0),\n  vec2(1.0, 1.0)\n);\nconst vec2 uvs[4] = vec2[4](\n  vec2(0, 0),\n  vec2(1, 0),\n  vec2(0, 1),\n  vec2(1, 1)\n);\nout vec2 v_uv;\n\nvoid main() {\n    gl_Position = vec4(verts[gl_VertexID], 0.0, 1.0);\n    v_uv = uvs[gl_VertexID];\n}",
"#version 300 es\nprecision highp float;\nprecision highp sampler2D;\n\nuniform float u_time;\nuniform sampler2D u_texture;\nuniform sampler2D u_depth;\nin vec2 v_uv;\n\nout vec4 out_color;\n\nuniform vec2 u_inv_res;\nuniform mat4 u_inv_proj;\nuniform float u_near, u_far;\n\nvec2 ndc(vec2 uv){ return uv*2.0-1.0; }\n\nfloat linearDepth(float z) {\n    float ndcZ = z*2.0 - 1.0;\n    return (2.0*u_near*u_far) / (u_far + u_near - ndcZ*(u_far - u_near));\n}\n\nvec3 viewPos(vec2 uv, float z) {\n    vec4 p_clip = vec4(ndc(uv), 2.0*z/u_far - 1.0, 1.0);\n    vec4 p_view = u_inv_proj * p_clip;\n    return p_view.xyz / p_view.w;\n}\n\nvec3 normalFromDepth(vec2 uv)\n{\n    float z  = linearDepth(texture(u_depth, uv).r);\n    float zx = linearDepth(texture(u_depth, uv + vec2(u_inv_res.x, 0)).r);\n    float zy = linearDepth(texture(u_depth, uv + vec2(0, u_inv_res.y)).r);\n\n    // Reconstruct positions\n    vec3 P  = viewPos(uv, z);\n    vec3 Px = viewPos(uv + vec2(u_inv_res.x, 0), zx);\n    vec3 Py = viewPos(uv + vec2(0, u_inv_res.y), zy);\n\n    vec3 N = normalize(cross(Px - P, Py - P));\n    // Flip if your view space is right-handed with -Z forward\n    if (N.z > 0.0) N = -N;\n    return N;\n}\n\n\nfloat jitter() {\n  return smoothstep(0.0,1.0,1.0-pow(abs((v_uv.y*0.5+0.2) - mod(u_time / 200.0, 1.0)), 0.04)) * 5.0;\n}\n\nvoid main() {\n  vec2 juv = v_uv + vec2(jitter()*0.01, 0.0);\n  vec4 depth = texture(u_depth, juv);\n  vec4 color;\n  float separation = mix(0.001,0.005, jitter());\n  color.r = texture(u_texture, juv + vec2(-separation,0)).r;\n  color.g = texture(u_texture, juv).g;\n  color.b = texture(u_texture, juv + vec2(separation, 0)).b;\n\n\n  // my twisted mind\n  // color.rgb -= mod(color.rgb * 100.0, 1.0);\n\n  float q = depth.r * 30.0;\n  color.rgb -= mod(color.rgb * q, 1.0) / q;\n  \n  color *= 1.8;\n  color = clamp(color*0.5+0.5*color*color*2.0,0.0,1.0);\n\n  vec2 d = u_inv_res;\n  float z  = linearDepth(depth.r);\n  float zx = linearDepth(texture(u_depth, v_uv+vec2(d.x,0.0)).r);\n  float zy = linearDepth(texture(u_depth, v_uv+vec2(0.0,d.y)).r);\n\n  float dz = max(abs(z - zx), abs(z - zy));\n  vec3  n  = normalFromDepth(v_uv);\n  vec3  nx = normalFromDepth(v_uv+vec2(d.x,0.0));\n  vec3  ny = normalFromDepth(v_uv+vec2(0.0,d.y));\n  float dn = max(1.0 - dot(n, nx), 1.0 - dot(n, ny)) + u_time*0.0;\n\n  float edge = smoothstep(0.0, 0.2, dz*0.001) + smoothstep(0.0, 0.2, dn*0.1);\n  vec3  base = color.rgb;\n  out_color = vec4(mix(base, base*3.0, clamp(edge,0.0,1.0)), 1.0);\n  gl_FragDepth = depth.r;\n}",
{});c=b.make(y,"#version 300 es\nprecision highp float;\n\n#define MAX_LIGHTS 16\n\nin vec3 a_position;\nin vec2 a_texcoord;\nin vec3 a_normal;\nin mat4 a_light_occlusion;\nuniform mat4 u_projection;\nuniform mat4 u_view;\nuniform mat4 u_world;\nuniform mediump uint u_toggle_lighting;\nuniform mediump uint u_toggle_wiggle;\nuniform float u_time;\nout vec3 v_normal;\nout vec2 v_texcoord;\nout vec3 v_view_pos;\nout vec3 v_world_pos;\nout vec3 v_lighting;\n\n// x,y,z, r,g,b, intensity, attenuation\n#define LIGHT_FIELDS 8\nuniform float u_lights[MAX_LIGHTS*LIGHT_FIELDS];\n\nvec3 apply_light(vec3 light_pos, vec3 light_col, float intensity, float attenuation, vec3 normal, vec3 frag_pos) {\n  vec3 light_dir = normalize(light_pos - frag_pos);\n  float diff = max(dot(normal, light_dir), 0.0);\n  vec3 diffuse = light_col * diff * intensity;\n\n  float distance = length(light_pos - frag_pos);\n  float atten = 1.0 / (attenuation + distance*distance);\n\n  return diffuse * atten;\n}\n\n// thanks appas\nfloat rand(vec2 co) {\n  return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);\n}\nvec3 wiggle(vec3 v) {\n  if (u_toggle_wiggle < 1u) {\n    return v;\n  }\n  float drift = u_time*0.1;\n  return vec3(\n    v.x+rand(v.xy+drift)*0.01,\n    v.y+rand(v.xz+drift)*0.01,\n    v.z+rand(v.yz+drift)*0.01\n  );\n}\n\nvoid main() {\n  gl_Position = u_projection * u_view * u_world * vec4(wiggle(a_position), 1.0);\n  v_normal = mat3(u_world) * a_normal;\n  v_texcoord = a_texcoord;\n  v_view_pos = (u_view * u_world * vec4(a_position,1)).xyz;\n  v_world_pos = (u_world * vec4(a_position,1.0)).xyz;\n\n  v_lighting = vec3(0,0,0);\n\n  for (int i = 0; i < MAX_LIGHTS; i++) {\n    float occlusion = a_light_occlusion[i/4][i%4];\n    if (occlusion >= 1.0) {\n      continue;\n    }\n\n    float x = u_lights[i*LIGHT_FIELDS+0];\n    float y = u_lights[i*LIGHT_FIELDS+1];\n    float z = u_lights[i*LIGHT_FIELDS+2];\n    float r = u_lights[i*LIGHT_FIELDS+3];\n    float g = u_lights[i*LIGHT_FIELDS+4];\n    float b = u_lights[i*LIGHT_FIELDS+5];\n    float inten = u_lights[i*LIGHT_FIELDS+6];\n    float a = u_lights[i*LIGHT_FIELDS+7];\n\n    v_lighting += apply_light(vec3(x,y,z), vec3(r,g,b), inten, a, normalize(v_normal), v_world_pos);// * (1.0 - occlusion);\n  }\n}",
"#version 300 es\nprecision highp float;\nin vec3 v_normal;\nin vec2 v_texcoord;\nin vec3 v_view_pos;\nin vec3 v_world_pos;\nin vec3 v_lighting;\nuniform sampler2D u_texture;\nuniform vec2 u_texture_size;\n//uniform vec3 u_light_direction;\nuniform vec3 u_tint;\nout vec4 out_color;\nuniform float u_time;\nuniform float u_fog_near;\nuniform float u_fog_far;\nuniform vec3 u_fog_color;\nuniform uint u_toggle_noise;\nuniform uint u_toggle_fog;\nuniform mediump uint u_toggle_lighting;\n\n\nvec3 apply_fog(vec3 rgb) {\n  float depth = length(v_view_pos);\n  float fog_amount = smoothstep(u_fog_near, u_fog_far, depth);\n  return mix(rgb, u_fog_color, fog_amount);\n}\n\n\nvoid main() {\n  if (u_toggle_lighting == 1u) {\n    out_color.rgb += floor(v_lighting*20.0)/20.0;\n  } else {\n    out_color.rgb += vec3(0.5,0.5,0.5);\n  }\n\n  vec2 uv = v_texcoord * u_texture_size;\n  vec4 tex_color = texture(u_texture, (clamp(fract(uv) / clamp(fwidth(uv), 0.0, 1.0), 0.0, 1.0) + floor(uv) - 0.5) / u_texture_size);\n  out_color *= tex_color;\n\n  if (u_toggle_fog == 1u) {\n    out_color.rgb = apply_fog(out_color.rgb);\n  }\n\n  out_color.rgb *= u_tint;\n}",
{indexed:!0});c.use();q=c.make_render_target(500,700);Object.assign(h,A);for(let B in d){h[B].meshes.forEach((F,I)=>{if(F.texture){F.gl_texture=c.upload_texture(F.texture);F.texture_size=[F.texture.width,F.texture.height];I=B+I;var G=Uint8Array.from(Array(F.a_position.length/3).fill([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]).flat());g[I]=G;c.new_vao(I);c.use_vao(I);c.buffer_attrs({a_position:new Float32Array(F.a_position),a_texcoord:new Float32Array(F.a_texcoord),a_normal:new Float32Array(F.a_normal),a_light_occlusion:G},
F.indices.length);c.buffer_indices(F.indices)}});let J=(F,I)=>{var G=F.transform.pos||[0,0,0];let [O,P,D]=F.transform.rot||[0,0,0],L=a.m4.make_affine_transform(G,[0,0,0],[1,1,1],I);a.m4.rotate_z(L,D);a.m4.rotate_x(L,O);a.m4.rotate_y(L,P);let M=B+F.mesh;null!=F.mesh&&(I=h[B].meshes[F.mesh],G=Array.from(I.indices),p[M]=e.array_groups(3,I.a_position).map(X=>a.m4.multiply_v4(L,[...X,1])).map(X=>[X[0],X[1],X[2]]),m[M]=G.map(X=>p[M][X]),v[M]=e.array_groups(3,m[M]));F.kids&&F.kids.forEach(X=>J(X,L))};J(h[B].tree,
null)}let C=(B,J)=>{if(J(B))return B;for(let F=0;F<B.kids.length;F++){let I=C(B.kids[F],J);if(I)return I}return null};C(h.monstro.tree,B=>"hints"==B.name).kids.reduce((B,J)=>(B[J.name]=a.aabb.from_points(m["monstro"+J.mesh]),B),w);l(f,"monstro");t.monstro=!0},draw:(A,y,C)=>{let B={gpu_render_ms:0,cpu_buffer_ms:0};return c.use(),c.set_render_target(q,{clear:!0,blend:!1,depth:!0}),c.set_uniforms({u_view:C.view,u_projection:C.projection,u_time:y.time,u_toggle_fog:y.fog_on?1:0,u_fog_near:y.fog_near||
99999,u_fog_far:y.fog_far||999999,u_fog_color:y.fog_color||[1,0,0],"u_lights[0]":y.point_lights.flatMap(J=>[J.pos[0],J.pos[1],J.pos[2],J.tint[0],J.tint[1],J.tint[2],1E3*J.intensity,1E3*J.attenuation])}),A.forEach(J=>{c.set_uniforms({u_world:J.transform,u_toggle_lighting:J.skip_lighting?0:1,u_tint:[J.tint[0],J.tint[1],J.tint[2]],u_toggle_wiggle:J.wiggle?1:0});let F=J.model;t[F]||(r(y.point_lights,J.model),t[F]=!0);let I=(G,O)=>{let P=G.transform.pos||G.transform.rot,D=O;if(P){let [L,M,X]=G.transform.rot||
[0,0,0];D=a.m4.make_affine_transform(G.transform.pos||[0,0,0],[0,0,0],[1,1,1],O);a.m4.rotate_z(D,X);a.m4.rotate_x(D,L);a.m4.rotate_y(D,M);c.set_uniforms({u_world:D})}void 0!==G.mesh&&(O=h[J.model].meshes[G.mesh],O.texture&&(c.use_vao(J.model+G.mesh),c.bind_texture(O.gl_texture),c.set_uniforms({u_texture_size:O.texture_size}),c.buffer_attrs({a_light_occlusion:g[J.model+G.mesh]},O.indices.length),O=c.render(),B.cpu_buffer_ms+=O.cpu_buffer_ms));P&&c.set_uniforms({u_world:J.transform});G.kids.forEach(L=>
I(L,D))};I(h[J.model].tree,J.transform)}),n.use(),n.bind_textures([q.texture,q.depth_texture]),n.set_uniforms({u_time:y.time,u_texture:0,u_depth:1,u_inv_res:[1/q.width,1/q.height],u_inv_proj:C.iprojection,u_near:C.near,u_far:C.far}),n.set_render_target(null,{clear:!1,blend:!1,depth:!0}),n.render(!0),B},gltfs:d,mesh_tris:v,mesh_verts:m}}),$e=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),e=xa(),f=({size:d,min:g,max:c,value:h,target:n})=>{let p=(m,v)=>a.group({pos:[0,0,m]},[v]);return a.group(null,[a.rect_fill({size:b.v2.mul(d,
[1,8]),tint:[1,0,0,0],origin:[0,.5],overlap_id:"volume_slider"}),p(.1,((m,v)=>a.rect_fill({size:[m,d[1]],tint:v,origin:[0,.5]}))(b.unlerp(g,c,h)*d[0],[1,1,1,.5])),p(.2,a.rect_stroke({size:[d[0],1*d[1]],tint:[1,1,1,.2],width:.3,origin:[0,.5]})),p(.3,a.rect_fill({pos:[b.unlerp(g,c,n)*d[0],.7*-d[1],0],width:.3,origin:[.5,0],size:[1,1.4*d[1]],tint:[1,1,1,1]}))])};z.exports={init:()=>({}),tick:(d,g,c)=>{null==g.preroll_vol&&(g.preroll_vol=1,g.preroll_vol_target=1);d=c.some(n=>"mouse_up"==n.type);(c=c.some(n=>
"mouse_down"==n.type))&&g.cursor_overlaps.preroll_ok_btn&&(g.flags.preroll=!0,g.cmds.push({type:"save",state:g}),e(g,"mode_terminal","booting"),g.cmds.push({type:"audio/play",name:"plonk",params:{bus:"terminal_sfx",volume:.6,detune:-400}}));let h=g.cursor_intersections.volume_slider;(c||d)&&h&&g.cmds.push({type:"audio/play",name:"plonk",params:{bus:"terminal_sfx",volume:.6,detune:c?0:300}});g.cursor_held&&g.cursor_intersections.volume_slider&&(g.preroll_vol_target=2*g.cursor_intersections.volume_slider[0],
g.cmds.push({type:"audio/play_once",name:"volume_adjust",params:{bus:"terminal_sfx",handle:"preroll_volume_loop",volume:0,loop:!0}}));g.cmds.push({type:"audio/set_volume",handle:"preroll_volume_loop",volume:.3*Math.pow(b.clamp(0,1,b.unlerp(.02,.3,Math.abs(g.preroll_vol-g.preroll_vol_target))),.4)});g.preroll_vol=b.lerp(g.preroll_vol,g.preroll_vol_target,.1);g.volume_music=g.preroll_vol;g.volume_sfx=g.preroll_vol},draw:(d,g,{dt:c})=>a.group({pos:[0,185,0],tint:[1,1,1,b.clamp(0,1,b.unlerp(0,60,g.ticks+
c))]},[a.text({text:"VOLUME",font:"Ibarra Real Nova",tint:[1,1,1,1],size:6,align:["bottom","center"]}),a.group({pos:[-50,-10,0]},[f({size:[100,5],min:0,max:2,value:g.preroll_vol,target:g.preroll_vol_target})]),a.group({pos:[0,-65,0],tint:[1,1,1,g.cursor_overlaps.preroll_ok_btn?1:.8]},[a.rect_fill({size:[60,15],tint:[1,1,1,.05],origin:[.5,.5],overlap_id:"preroll_ok_btn"}),a.rect_stroke({pos:[0,0,.1],size:[60,17],width:.5,tint:[1,1,1,.1],origin:[.5,.5]}),a.text({pos:[0,0,.1],text:"OK",font:"Ibarra Real Nova",
tint:[1,1,1,1],align:["center","center"],size:6})])])}}),rb=R((x,z)=>{var {math:b}=na(),a=ra();x=Gb();var {graph:e}=Hb(),{add_item_to_inventory:f}=db(),{parse_2_parts:d}=qb(),g=Na(),{item_by_id:c}=Ia(),h=e.interpret(x,[{like:q=>"arrow"==q.shape,means:q=>({...q,type:"gig"})}]),n=h.nodes.reduce((q,l)=>(q[l.label]=l,q),{});x=(q,l)=>({type:"item",id:q,count:l});var p=q=>{let l=[];for(let r=0;r<q.count;r++)l.push(q.id);return l},m=(q,l)=>{q=q.flatMap(p).map(r=>c(r)).map(r=>r.cost).reduce((r,A)=>r+A,0);
return{type:"cash",count:Math.floor(q*b.lerp(1.1,1.15,b.seeded_rand(l)()))}},v={intro1:{requester:"gigbot",reqs:[x("loot_var",1)],rewards:[m([],1)]},intro2:{requester:"gigbot",reqs:[x("loot_var",5)],rewards:[m([],2)]},ve1:{requester:"gigbot",reqs:[x("loot_var",10)],rewards:[m([],3)]},ve2:{requester:"gigbot",reqs:[x("loot_var_rare",1)],rewards:[m([],4)]},ve3:{requester:"gigbot",reqs:[x("loot_var_rare",2),x("loot_var",5)],rewards:[m([],5)]},ve4:{requester:"gigbot",reqs:[x("loot_var_rare",4)],rewards:[m([],
6)]},ve5:{requester:"gigbot",reqs:[x("loot_var_rare",2),x("loot_var",20)],rewards:[m([],7)]},ve6:{requester:"gigbot",reqs:[x("loot_var_rare",5)],rewards:[m([],8)]},ve7:{requester:"gigbot",reqs:[x("loot_var_rare",4),x("loot_var",10)],rewards:[m([],9)]},ve8:{requester:"gigbot",reqs:[x("loot_var_rare",4),x("loot_var",16)],rewards:[m([],1)]},ve9:{requester:"gigbot",reqs:[x("loot_var_rare",4),x("loot_var",24)],rewards:[m([],2)]},ve10:{requester:"gigbot",reqs:[x("loot_var_rare",6)],rewards:[m([],3)]},vh1:{requester:"gigbot",
reqs:[x("loot_var_rare",2)],rewards:[m([],4)]},vh2:{requester:"gigbot",reqs:[x("loot_var_rare",4)],rewards:[m([],5)]},vh3:{requester:"gigbot",reqs:[x("loot_var_rare",6),x("loot_var",12)],rewards:[m([],6)]},vh4:{requester:"gigbot",reqs:[x("loot_var",18),x("loot_var_rare",8)],rewards:[m([],7)]},vh5:{requester:"gigbot",reqs:[x("loot_var_rare",10)],rewards:[m([],8),{type:"item",id:"trinket_kepler_terrarium",count:1}]},be1:{requester:"ava_reyes",reqs:[x("loot_business",10),x("loot_var",4)],rewards:[m([],
1)]},be2:{requester:"ava_reyes",reqs:[x("loot_business",20)],rewards:[m([],2)]},be3:{requester:"ava_reyes",reqs:[x("loot_var",10),x("loot_business",16)],rewards:[m([],3)]},be4:{requester:"ava_reyes",reqs:[x("loot_business",30)],rewards:[m([],4)]},bh1:{requester:"ava_reyes",reqs:[x("loot_business_rare",2)],rewards:[m([],5)]},bh2:{requester:"ava_reyes",reqs:[x("loot_business_rare",2),x("loot_business",8)],rewards:[m([],6)]},bh3:{requester:"ava_reyes",reqs:[x("loot_business_rare",2),x("loot_business",
16)],rewards:[m([],7)]},bu1:{requester:"ava_reyes",reqs:[x("loot_major_1",1)],rewards:[m([],8),{type:"item",id:"trinket_corrugated_gold_shawl",count:1}]},me1:{requester:"raj_parker",reqs:[x("loot_medical",10)],rewards:[m([],1)]},me2:{requester:"raj_parker",reqs:[x("loot_medical",20)],rewards:[m([],2)]},me3:{requester:"raj_parker",reqs:[x("loot_medical",17),x("loot_var",12)],rewards:[m([],3)]},me4:{requester:"raj_parker",reqs:[x("loot_medical",32)],rewards:[m([],4)]},mh1:{requester:"raj_parker",reqs:[x("loot_medical_rare",
1),x("loot_medical",10)],rewards:[m([],5)]},mh2:{requester:"raj_parker",reqs:[x("loot_medical_rare",2),x("loot_medical",20)],rewards:[m([],6)]},mh3:{requester:"raj_parker",reqs:[x("loot_medical_rare",4)],rewards:[m([],7)]},mu1:{requester:"raj_parker",reqs:[x("loot_major_2",1)],rewards:[m([],8),{type:"item",id:"kit_capacity_1",count:1}]},ge1:{requester:"liam_chen",reqs:[x("loot_govt",20)],rewards:[m([],1)]},ge2:{requester:"liam_chen",reqs:[x("loot_govt",30)],rewards:[m([],2)]},ge3:{requester:"liam_chen",
reqs:[x("loot_govt",16),x("loot_var",20)],rewards:[m([],3)]},ge4:{requester:"liam_chen",reqs:[x("loot_govt",30),x("loot_var",14)],rewards:[m([],4)]},gh1:{requester:"liam_chen",reqs:[x("loot_govt_rare",1),x("loot_govt",10)],rewards:[m([],5)]},gh2:{requester:"liam_chen",reqs:[x("loot_govt_rare",4)],rewards:[m([],6),{type:"item",id:"cpu_kamakura_3",count:1}]},gu1:{requester:"liam_chen",reqs:[x("loot_major_3",1)],rewards:[m([],7),{type:"item",id:"loyalty_card_2",count:1}]}};Object.keys(v).forEach((q,
l)=>{let r=v[q];r.title=r.title||g["en.gig."+q+".title"];r.desc=r.desc||g["en.gig."+q+".desc"];r.desc=d(r.desc);r.rewards[0]=m(r.reqs,l)});var w=(q,l,r)=>{let A=q.state.inventory,y=l.irl_cash;return v[r].reqs.every(C=>{if("item"==C.type)return A.filter(B=>B==C.id).length>=C.count;if("cash"==C.type)return y>=C.count})};a.on("gig_completed",(q,{id:l})=>{q.mailbox.find(r=>r.id==q.mail_selected).status="done";a.emit(q,"gig_completed/"+l,{})});var t=(q,l,r)=>{if(!w(q,l,r))return!1;a.emit(l,"gig_completed",
{id:r});r=v[r];let A=q.state.inventory;r.reqs.forEach(y=>{if("item"==y.type)for(let C=0;C<y.count;C++){let B=A.findIndex(J=>J==y.id);A.splice(B,1)}else"cash"==y.type&&(l.irl_cash-=y.count)});r.rewards.forEach(y=>{if("item"==y.type)for(let C=0;C<y.count;C++)f(l,y.id);else"cash"==y.type&&(l.irl_cash+=y.count)})};z.exports={gigs:v,available_gigs:q=>{let l=q.reduce((r,A)=>(r[A]=!0,r),{});return Object.keys(v).filter(r=>l[r]?!1:e.parents(h,n[r]).map(A=>A.label).every(A=>l[A]))},can_complete_gig:w,complete_gig:t,
completed_gig:(q,l)=>q.scenes.desktop.completed_gigs.includes(l),try_complete_gig:(q,l)=>{t(q.props[q.props_by_id.terminal],q,l)}}}),Nb=R((x,z)=>{var {u:b}=Fa(),{items:a,item_by_save_id:e}=Ia(),{available_gigs:f}=rb(),d=bc(),g=D=>({save:L=>L[D],load:(L,M)=>({...L,[D]:M})}),c=D=>({save:L=>Object.keys(L[D]).filter(M=>L[D][M]),load:(L,M)=>({...L,[D]:Object.fromEntries(M.map(X=>[X,!0]))})}),h=(...D)=>L=>({save:M=>{M=D.reduce((X,ea)=>X[ea],M);return L.save(M)},load:(M,X)=>{let ea=D[D.length-1],V=D.slice(0,
-1).reduce((H,ca)=>H[ca],M);return V[ea]=L.load(V[ea],X),M}}),n=(D=>L=>({save:M=>L.save(M.props[M.props_by_id[D]].state),load:(M,X)=>{let ea=M.props[M.props_by_id[D]];return ea.state=L.load(ea.state,X),M}}))("terminal"),p=D=>n(h("scenes","desktop")(D));x=D=>L=>P(b.obj.map_vals(M=>M.save(L),D));var m=D=>(L,M)=>Object.keys(D).reduce((X,ea)=>D[ea].load(X,M[ea]),L),v={v:{save:()=>8,load:D=>D},c:g("irl_cash"),i:n(g("inventory")),f:{save:D=>Object.keys(D.flags),load:(D,L)=>({...D,flags:Object.fromEntries(L.map(M=>
[M,!0]))})},p:n(g("prestige_unlocks")),s:p(g("shop_items")),a:p(g("available_gigs")),g:p(g("completed_gigs")),r:p(g("read_gigs")),e:n(g("equip_slots")),k:n(g("kit_items")),kc:n(g("kit_capacity")),tele:g("telemetry_opt_in"),ticks:g("ticks"),insight:g("insight"),brag:g("brag"),emp_xp:g("employee_xp")},w=x(v),t=m(v),q={...v,v:{save:()=>9,load:D=>D},ups:g("used_upgrades")};v=x(q);var l=m(q),r={...q,v:{save:()=>10,load:D=>D},bg:n(g("wallpaper"))};q=x(r);var A=m(r),y={...r,v:{save:()=>11,load:D=>D},bgo:p(g("bg_options"))};
p=x(y);r=m(y);var C={...y,v:{save:()=>12,load:D=>D},mail:g("mailbox"),dr:g("daily_records"),f:c("flags"),dc:c("dailys_completed"),e_addr:g("app_enabled_addresses"),e_files:g("app_enabled_files"),e_shop:g("app_enabled_shop"),e_kit:g("app_enabled_kit"),e_settings:g("app_enabled_settings")};c=x(C);y=m(C);var B={...C,v:{save:()=>13,load:D=>D},mods:{save:D=>Object.keys(d).reduce((L,M)=>{let X=D.models[M],ea=d[M];return[...(new Set([...Object.keys(ea),...Object.keys(X)]))].forEach(V=>{let H=X[V],ca=ea[V],
U=!1;Array.isArray(H)&&Array.isArray(ca)&&H.length==ca.length?U=!H.some((W,da)=>W!=ca[da]):U=H==ca;U||(L[M]||(L[M]={}),L[M][V]=X[V])}),L},{}),load:(D,L)=>(Object.keys(L).forEach(M=>{Object.assign(D.models[M],L[M])}),D)}};C=x(B);var J=m(B);B={...B,v:{save:()=>14,load:D=>D},dp:g("desktop_popups")};var F={...B,v:{save:()=>15,load:D=>D}};g={...F,v:{save:()=>16,load:D=>D},volm:g("volume_music"),vols:g("volume_sfx")};var I=(D,L)=>{let M=D.props.find(ea=>"terminal"==ea.type).state,X=M.scenes.desktop;return D.irl_cash=
L.c,M.inventory=L.i,D.flags=L.f.reduce((ea,V)=>(ea[V]=!0,ea),{}),M.prestige_unlocks=L.p,X.shop_items=L.s,X.available_gigs=L.a,X.completed_gigs=L.g,X.read_gigs=L.r,M.equip_slots=L.e,M.kit_items=L.k,M.kit_capacity=L.kc,D},G=[{v:0,load:(D,L)=>(D.irl_cash=L.c,D),save:D=>{P({v:0,c:D.irl_cash})},patch:D=>(D.c=0,D)},{v:1,load:(D,L)=>{let M=D.props.find(X=>"terminal"==X.type).state;return D.irl_cash=L.ic,M.inventory=L.i.map(e),D},save:D=>{let L=D.props.find(M=>"terminal"==M.type).state;P({v:1,ic:D.irl_cash,
i:L.inventory.map(M=>a[M].save_id)})},patch:D=>({v:1,ic:D.c,i:[]})},{v:2,load:(D,L)=>{let M=D.props.find(ea=>"terminal"==ea.type).state,X=M.scenes.desktop;return D.irl_cash=L.c,M.inventory=L.i.map(e),D.flags=L.f.reduce((ea,V)=>(ea[V]=!0,ea),{}),M.prestige_unlocks=L.p,L.s&&(X.shop_items=L.s.map(e)),X.completed_gigs=L.g,D},save:D=>{let L=D.props.find(X=>"terminal"==X.type).state,M=L.scenes.desktop;P({v:2,c:D.irl_cash,i:L.inventory.map(X=>a[X].save_id),f:Object.keys(D.flags),p:L.prestige_unlocks,s:null==
M.shop_items?null:M.shop_items.map(X=>a[X].save_id),g:M.completed_gigs})},patch:D=>({v:2,c:D.ic,i:D.i,f:[],p:[],s:null,g:[]})},{v:3,load:(D,L)=>{let M=D.props.find(ea=>"terminal"==ea.type).state,X=M.scenes.desktop;return D.irl_cash=L.c,M.inventory=L.i.map(e),D.flags=L.f.reduce((ea,V)=>(ea[V]=!0,ea),{}),M.prestige_unlocks=L.p,L.s&&(X.shop_items=L.s.map(e)),X.completed_gigs=L.g,M.equip_slots=L.e,D},save:D=>{let L=D.props.find(X=>"terminal"==X.type).state,M=L.scenes.desktop;P({v:3,c:D.irl_cash,i:L.inventory.map(X=>
a[X].save_id),f:Object.keys(D.flags),p:L.prestige_unlocks,s:null==M.shop_items?null:M.shop_items.map(X=>a[X].save_id),g:M.completed_gigs,e:L.equip_slots})},patch:D=>({...D,v:3,e:{cpu:[],modem:[],firewall:[],cooler:[],trinket:[]}})},{v:4,load:(D,L)=>{let M=D.props.find(ea=>"terminal"==ea.type).state,X=M.scenes.desktop;return D.irl_cash=L.c,M.inventory=L.i,D.flags=L.f.reduce((ea,V)=>(ea[V]=!0,ea),{}),M.prestige_unlocks=L.p,X.shop_items=L.s,X.completed_gigs=L.g,X.read_gigs=L.r,M.equip_slots=L.e,D},save:D=>
{let L=D.props.find(X=>"terminal"==X.type).state,M=L.scenes.desktop;P({v:4,c:D.irl_cash,i:L.inventory,f:Object.keys(D.flags),p:L.prestige_unlocks,s:M.shop_items,g:M.completed_gigs,r:M.read_gigs,e:L.equip_slots})},patch:D=>({v:4,c:0,i:[],f:[],p:[],s:null,g:[],r:{},e:{cpu:[],modem:[],firewall:[],cooler:[],trinket:[]}})},{v:5,load:(D,L)=>{let M=D.props.find(ea=>"terminal"==ea.type).state,X=M.scenes.desktop;return D.irl_cash=L.c,M.inventory=L.i,D.flags=L.f.reduce((ea,V)=>(ea[V]=!0,ea),{}),M.prestige_unlocks=
L.p,X.shop_items=L.s,X.available_gigs=L.a,X.completed_gigs=L.g,X.read_gigs=L.r,M.equip_slots=L.e,D},save:D=>{let L=D.props.find(X=>"terminal"==X.type).state,M=L.scenes.desktop;P({v:5,c:D.irl_cash,i:L.inventory,f:Object.keys(D.flags),p:L.prestige_unlocks,s:M.shop_items,a:M.available_gigs,g:M.completed_gigs,r:M.read_gigs,e:L.equip_slots})},patch:D=>({v:5,c:0,i:[],f:[],p:[],s:null,a:f([]),g:[],r:{},e:{cpu:[],modem:[],firewall:[],cooler:[],trinket:[]}})},{v:6,load:I,save:D=>{let L=D.props.find(X=>"terminal"==
X.type).state,M=L.scenes.desktop;P({v:6,c:D.irl_cash,i:L.inventory,f:Object.keys(D.flags),p:L.prestige_unlocks,s:M.shop_items,a:M.available_gigs,g:M.completed_gigs,r:M.read_gigs,e:L.equip_slots,k:L.kit_items,kc:L.kit_capacity})},patch:D=>({...D,v:6,k:[],kc:5})},{v:7,load:(D,L)=>I(D,L),save:D=>{let L=D.props.find(X=>"terminal"==X.type).state,M=L.scenes.desktop;P({v:7,c:D.irl_cash,i:L.inventory,f:Object.keys(D.flags),p:L.prestige_unlocks,s:M.shop_items,a:M.available_gigs,g:M.completed_gigs,r:M.read_gigs,
e:L.equip_slots,k:L.kit_items})},patch:D=>({v:7,c:0,i:[],f:[],p:[],s:null,a:f([]),g:[],r:{},e:{cpu:[],modem:[],firewall:[],cooler:[],trinket:[]},k:[]})},{v:8,load:t,save:w,patch:D=>({...D,v:8,tele:!1,ticks:0,insight:{},brag:{},emp_xp:0,kc:8388608})},{v:9,load:l,save:v,patch:D=>({...D,v:9,ups:{}})},{v:10,load:A,save:q,patch:D=>({...D,v:10,bg:"tree"})},{v:11,load:r,save:p,patch:D=>({...D,v:11,bgo:["tree"]})},{v:12,load:y,save:c,patch:D=>{let L=D.a,M=D.g;return{...D,v:12,f:[...D.f,"onboarded"],dc:[],
mail:[...L.reverse().map(X=>({id:X,status:"read"})),...M.reverse().map(X=>({id:X,status:"done"}))],e_addr:!0,e_files:!0,e_shop:!0,e_kit:!0,e_settings:!0}}},{v:13,load:J,save:C,patch:D=>({...D,v:13,mods:{}})},{v:14,load:m(B),save:x(B),patch:D=>({...D,v:14,dp:[]})},{v:15,load:m(F),save:x(F),patch:D=>({v:15,c:0,i:[],f:[],s:[],a:[],g:[],r:[],e:{cpu:[],modem:[],firewall:[],cooler:[],trinket:[],drive:[]},k:[],kc:0,tele:!1,ticks:0,insight:{},brag:{},emp_xp:0,ups:{},bg:"tree",bgo:["tree"],mail:[],dr:{},dc:[],
e_addr:!1,e_files:!1,e_shop:!1,e_kit:!1,e_settings:!1,mods:{},dp:[]})},{v:16,load:m(g),save:x(g),patch:D=>({...D,v:16,volm:1,vols:1})}],O=function(D,L=0){let M=3735928559^L;L^=1103547991;for(let X=0,ea;X<D.length;X++)ea=D.charCodeAt(X),M=Math.imul(M^ea,2654435761),L=Math.imul(L^ea,1597334677);return M=Math.imul(M^M>>>16,2246822507)^Math.imul(L^L>>>13,3266489909),L=Math.imul(L^L>>>16,2246822507)^Math.imul(M^M>>>13,3266489909),4294967296*(2097151&L)+(M>>>0)},P=D=>{let L=JSON.stringify(D);D=[O(L).toString(16),
D];D=btoa(JSON.stringify(D));window.localStorage.setItem("dmsave",D)};z.exports={save:D=>{G[G.length-1].save(D)},load:D=>{var L=window.localStorage.getItem("dmsave");if(null==L)var M=!1;else{var [X,ea]=JSON.parse(atob(L));M=O(JSON.stringify(ea)).toString(16);M=M!==X?(console.log("mismatched sig for",X,M,ea),window.localStorage.setItem("dmsave_recovery",L),!1):ea}var V=M;if(V){M=G[G.length-1];L=M.load;{let H=G[G.length-1].v;if(V.v!=H)for(window.localStorage.setItem("dmsave_patch_backup",window.localStorage.getItem("dmsave"));V.v<
H;)V=G[V.v+1].patch(V)}D=L.call(M,D,V)}return D}}}),af=R((x,z)=>{var {u:b}=Fa(),{math:a}=na(),{fabs:e}=sa()(),f={};z.exports={animation:{init:()=>({animations:[]}),state_rig:({chart:d,rigs:g})=>{let c=Object.keys(d);Object.keys(g);let h=c.flatMap(m=>{let v=d[m];return Object.keys(v).map(w=>({key:`${m}.${w}`,from:m,to:v[w].to,len:v[w].len}))}),n=Object.keys(g[c[0]]),p=h.reduce((m,v)=>{let w=g[v.from],t=g[v.to];return m[v.key]=n.reduce((q,l)=>({...q,[l]:r=>a.lerp(w[l](r),t[l](r),a.clamp(0,1,r/v.len))}),
{}),m},{});return Object.keys(p).forEach(m=>{null==g[m]&&(g[m]=p[m])}),(m,v)=>b.obj.map_vals(w=>t=>w(t-v),g[m])},init_state_chart_controller:d=>({state:d,active_transition:null,changed_at:0,buffer:[]}),state_chart_controller:(d,g)=>({reset:c=>{c.state=g;c.active_transition=null;c.changed_at=0},transition:(c,h)=>{c.buffer.push(h)},tick:(c,h)=>{if(null==c.active_transition){var n=c.buffer.shift();void 0!==d[c.state][n]&&(c.active_transition=n,c.changed_at=h)}else n=d[c.state][c.active_transition],h-
c.changed_at>=n.len&&(c.state=n.to,c.active_transition=null,c.changed_at=h)},get_state_and_time:c=>[c.active_transition?[c.state,c.active_transition].join("."):c.state,c.changed_at]}),sample_rig:(d,g)=>b.obj.map_vals(c=>c(g),d),draw_animations:(d,g,c)=>(d.animations=d.animations.filter(h=>!h.done),e.group(null,d.animations.map(h=>{let n=f[h.animation](h.args)(g-h.start_time)(c);return 0==n?(h.done=!0,!1):e.group(null,[n])}))),play:(d,g,c,h)=>{d.animations.push({start_time:g,args:c,animation:h,done:!1})},
register_anim:(d,g)=>f[d]=g}}}),bf=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),e=ra(),{save:f}=Nb(),d=xa(),{animation:g}=af(),c={"1/29":"happy birthday @cala!","4/23":"happy birthday @lizardculture! <3","6/8":"happy birthday @Socks!","9/8":"happy birthday @Mr_Dostoevsky!"};x={start:{fade_in:{to:"in",len:200}},in:{fade_out:{to:"out",len:200}},out:{}};var h=g.state_rig({chart:x,rigs:{start:{hero_alpha:()=>0,tagline_alpha:()=>0,start_btn_alpha:()=>0},"start.fade_in":{hero_alpha:b.ease.seq([{len:60,fn:b.ease.hold(0)},
{len:60,fn:b.ease.io2},{len:40,fn:b.ease.range(.9,1,b.ease.inv(b.ease.io2))},{len:40,fn:b.ease.hold(.9)}]),tagline_alpha:b.ease.seq([{len:160,fn:b.ease.hold(0)},{len:20,fn:b.ease.range(0,.5,b.ease.io3)},{len:20,fn:b.ease.flickerf(b.ease.elastic_o)}]),start_btn_alpha:b.ease.seq([{len:160,fn:b.ease.hold(0)},{len:40,fn:b.ease.io2}])},"in.fade_out":{hero_alpha:b.ease.seq([{len:100,fn:b.ease.inv(b.ease.io2)},{len:100,fn:b.ease.hold(0)}]),tagline_alpha:b.ease.seq([{len:100,fn:b.ease.inv(b.ease.io2)},{len:100,
fn:b.ease.hold(0)}]),start_btn_alpha:b.ease.seq([{len:100,fn:b.ease.inv(b.ease.io2)},{len:100,fn:b.ease.hold(0)}])},in:{hero_alpha:()=>1,tagline_alpha:()=>1,start_btn_alpha:()=>1},out:{hero_alpha:()=>0,tagline_alpha:()=>0,start_btn_alpha:()=>0}}}),n=(m,v,w,t,q,l,r)=>{var A=q||{};q=A.overlap?"over":"out";let {start_at:y,stop_at:C}=A;A=m-C||1/0;let B="over"==q?b.ease.flicker(b.ease.elastic_i(b.clamp(0,1,(m-y||1/0)/20))):b.ease.io3(1-b.clamp(0,1,A/30));A=b.noise(232,2,1,m/20);var J=b.noise(525,2,1,m/
20);let F=b.noise(111,2,.5,m/30),I=b.noise(888,2,.5,m/30),G=b.noise(1010,2,.5,m/30),O=[A,J,F,I,G],P=X=>X.text.split("").map((ea,V)=>({...X,text:ea,tint:[X.tint[0],X.tint[1],X.tint[2],X.tint[3]*b.lerp(.6,1,O[V%O.length])]})),D=b.lerp(b.lerp(.4,.7,B),b.lerp(.7,1,B),A);A=b.lerp(b.lerp(.4,.7,B),b.lerp(.7,1,B),J);let L=[1,1,1,("over"==q||Math.floor(m/50)%2?1:.7)*t.start_btn_alpha],M=b.lerp(.1,.2,b.noise(1234,1,.5,m/200));J=new Date;q=J.getMonth()+1;J=J.getDate();q=c[`${q}/${J}`];J=!!q;return a.group({rot:w,
pos:[0,20,12],scale:[.9,.9,1]},[a.group({scale:[.8,.8,1],rot:[-.1,0,0]},[a.group({pos:[0,10,0]},[a.group({pos:[0,b.lerp(400,220,b.ease.bounce_o(b.clamp(0,1,(v-175)/50))),.1],scale:[.8,.8,1]},[a.rect_fill({pos:[50,30,0],size:[150,200],tint:[0,0,0,0],origin:[0,0],overlap_id:"discord_btn"}),a.texture("assets/gfx/misc/wip.png",{pos:[80,0,.1],scale:[.1,b.lerp(.098,.1,.5*Math.sin(v/10)+.5),1],rot:[0,0,.01*Math.sin(v/20)],origin:[.5,0],tint:[1,1,1,t.start_btn_alpha]}),a.texture("assets/gfx/misc/discord.png",
{pos:[140,70,.2],scale:[.08,.08,1],rot:[0,0,-Math.PI/6],origin:[.5,0],tint:[1,1,1,t.start_btn_alpha]})]),a.shadow({tint:[1,1,1,.15*A],z:-15,fab:()=>a.group(null,[a.text({text:"DaTamINEr",font:"Major Mono Display",pos:[0,210,-.1],tint:[1,0,0,M*t.hero_alpha],size:48,align:["center","center"],kern_scales:[.9,.8,.8,1,1,1,1,1,1]}),a.text({text:"dAtAMineR",font:"Major Mono Display",pos:[0,210,0],tint:[1,1,1,t.hero_alpha],size:48,align:["center","center"],kern_scales:[.9,.8,.8,1,1,1,1,1,1]}),a.text({text:"data-recon-terminal   df2ec2b",
font:"B612 Mono",tint:[1,1,1,.3*t.hero_alpha],size:4,pos:[155,185,0],align:["center","right"]}),a.text({text:"agent-license   8589d3a",font:"B612 Mono",pos:[155,177,0],tint:[1,1,1,.3*t.hero_alpha],size:4,align:["center","right"]})])}),!J&&a.text({text:"Product of DATA CO",font:"B612 Mono",pos:[-158,235,0],tint:[1,1,1,.7*t.tagline_alpha],size:5,align:["bottom","left"]}),J&&a.text({text:q,font:"B612 Mono",subfamily:"Bold",pos:[-158,245,0],rot:[0,0,.05],tint:[...b.hsl2rgb(5*m,1,.8),t.tagline_alpha],
size:b.ranged_sin(m/10,8,8.2),align:["bottom","left"]})]),a.group({pos:[0,-18,0]},[a.text({text:"UNINTENDED OPERATION STRICTLY PROHIBITED. VIOLATORS\nWILL BE PROSECUTED TO THE FULL EXTENT OF THE JAM.",line_height:1.5,font:"B612 Mono",pos:[0,90,0],tint:[.2,.2,.2,t.start_btn_alpha],size:4,align:["top","center"]}),a.group({pos:[10,0,0]},[a.text({pos:[-225,85,0],margin:100,line_height:1.4,parts:[{text:"Help me design the game by ",font:"B612 Mono",tint:[1,1,1,.3*t.start_btn_alpha],size:4},{text:"sharing anonymous gameplay stats",
font:"B612 Mono",tint:[1,1,1,.8*t.start_btn_alpha],size:4},{text:" <3",font:"B612 Mono",subfamily:"Bold",tint:[1,.3,.5,.8*t.start_btn_alpha],size:4}]}),a.group({pos:[-235,84,0]},[a.rect_stroke({width:.6,size:[6,6],origin:[.5,.5],tint:[.8,.8,.8,t.start_btn_alpha]}),!!l&&a.rect_fill({size:[3,3],origin:[.5,.5],tint:[.8,.8,.8,t.start_btn_alpha]})]),a.rect_fill({pos:[-260,75,0],tint:[0,0,0,0],size:[100,20],overlap_id:"telemetry_btn"})]),a.rect_fill({pos:[200,80,-.1],size:[60,20],origin:[.5,.5],tint:[0,
0,0,0],overlap_id:"clear_save_btn"}),a.text({text:"CLEAR SAVE",font:"B612 Mono",pos:[200,80,0],size:5,align:["center","center"],tint:[1,1,1,.8*t.start_btn_alpha]})]),1==t.start_btn_alpha&&a.rect_fill({pos:[0,134,-.1],size:[120,30],origin:[.5,.5],tint:[0,0,0,0],overlap_id:"booting_start_btn"}),a.group({tint:[1,1,1,b.lerp(.5,1,D)*t.start_btn_alpha]},[a.shadow({tint:[1,1,1,.2],z:-8,fab:()=>a.group(null,[a.rect_stroke({width:.4,pos:[0,134,0],size:[122,20],origin:[.5,.5],tint:L}),a.text({parts:[{text:"REGISTERED AGENT"}],
font:"B612 Mono",pos:[-60,153,0],size:4,align:["top","left"],tint:[1,1,1,.5]}),a.text({parts:[{text:r}],font:"B612 Mono",pos:[60,153,0],size:4,align:["top","right"],tint:[.5,.7,1,b.lerp(.4,.9,D)]}),a.text({parts:[{text:"START"}],font:"B612 Mono",pos:[0,133,0],size:8,align:["center","center"],tint:[1,1,1,1]}),a.group({scale:[1,1.7,1]},[a.text({parts:[...P({text:" G A E L",tint:[.7,.5,1,.25*b.lerp(.5,.7,B)]})],font:"Epetri AIRY-anorexic2",pos:[0,78,1],size:30,align:["center","center"],tint:[1,1,1,.7]}),
a.text({parts:[...P({text:"DROWNED",tint:[.5,.7,1,.25*b.lerp(.5,.7,B)]})],font:"Epetri AIRY-anorexic2",pos:[0,75,1],size:30,align:["center","center"],tint:[1,1,1,.7]})])])})])])])},p=g.state_chart_controller(x,"start");e.on("changed/mode_terminal/to_booting",(m,v)=>{m=m.props[m.props_by_id.terminal].state.scenes.booting;m.ticks=0;p.reset(m.title_chart)});z.exports={init:()=>({ticks:0,title_chart:g.init_state_chart_controller("start")}),tick:(m,v,w)=>{let t=w.some(l=>"mouse_down"==l.type),q=m.state.scenes.booting;
m=p.get_state_and_time(q.title_chart)[0];q.ticks+=1;w={start:()=>p.transition(q.title_chart,"fade_in"),in:()=>{t&&v.cursor_overlaps.booting_start_btn&&(e.emit(v,"clicked/booting_start_btn",{}),p.transition(q.title_chart,"fade_out"),v.telemetry_queue.push({type:"session_start",ticks:v.ticks}),0==v.mailbox.length?e.emit(v,"start_new_game",{}):e.emit(v,"loaded_game",{}));t&&v.cursor_overlaps.clear_save_btn&&(window.localStorage.removeItem("dmsave"),location.reload(),window.state.dont_save=!0);t&&v.cursor_overlaps.telemetry_btn&&
(v.telemetry_opt_in=!v.telemetry_opt_in,f(v))},out:()=>{d(v,"mode_terminal","desktop")}};w[m]&&w[m]();p.tick(q.title_chart,q.ticks)},draw:(m,v,{dt:w})=>{var t=m.state.scenes.booting;let q=v.ticks+w;w=t.ticks+w;let [l,r]=p.get_state_and_time(t.title_chart);t=g.sample_rig(h(l,r),w);return n(q,w,m.state.rotation,t,v.rich_overlaps.booting_start_btn,v.telemetry_opt_in,v.agent_id)}}}),cf=R((x,z)=>{wb();z.exports=(b,a)=>a}),Ob=R((x,z)=>{var b="bKMGTP".split(""),a=(f,d)=>{null==d&&(d=10);for(let g=b.length-
1;0<=g;g--){let c=Math.pow(1E3,g);if(!(f<c))return f/=c,(f<d?Math.floor(10*f)/10:Math.floor(f))*c}return Math.floor(10*f)/10};x=f=>(d,g)=>{var c=a(d,g);if(null==g&&(g=10),c<g)return c+f[0];for(d=f.length-1;0<=d;d--){let h=Math.pow(1E3,d);if(!(c<h))return c/=h,(c<g?c.toFixed(1):Math.floor(c).toString())+f[d]}return c.toFixed(1)+f[0]};var e=x(" K M B T Q".split(" "));x=x(b);z.exports={stringify_count:e,stringify_bits:x,stringify_round:a,stringify_cash:(f,d)=>`$$${e(f,d)}`}}),fc=R((x,z)=>{var {items:b}=
Ia(),{firmware_info:a}=Xa(),e=ra(),f=Ga(),{temperature_tier:d}=Cb(),{addresses:g}=Za(),{server_insight_buffs:c}=Ta();Ya();var h=n=>{var p=n.props[n.props_by_id.terminal].state;let m={normal:1,warn:2,critical:3}[d(p)];p=p.kit_items.map(v=>b[v].size||0).reduce((v,w)=>v+w,0)/p.kit_capacity;return Math.max(1,m*n.detection_factor_temp)+(1>p?0:1.2>p?1:2)*n.detection_factor_kit};e.on("gain_xp",(n,{amount:p})=>{"collecting_xp"==n.detection_mode&&(n.run_scanner_xp+=p,n.run_scanner_xp>=n.run_scanner_xp_req&&
(n.detection_mode="waiting_for_scan",f.queue(n.automator_state,[[20,"(lerp detection_collector_show 1 0)"],[0,"(set detection_collector_show 0)"],[20,"(lerp detection_scanner_show 0 1)"],[0,"(set detection_scanner_show 1)"]])))});e.on("clicked/scan_btn",n=>{n.run_trace_enabled&&e.emit(n,"start_trace",{});n.run_scanned_files=!0;f.queue(n.automator_state,[[40,"(lerp detection_scanner_show 1 0)"],[0,"(set detection_scanner_show 0)"],[250,"(wait)"],[30,"(lerp detection_salt_show 0 1)"],[0,"(set detection_salt_show 1)"]])});
e.on("get_loot/severing_salt",n=>{let p=n.props[n.props_by_id.terminal].state;p.kit_items=p.kit_items.filter(m=>"severing_salt"!=m);n.run_salt_found+=1;n.run_salt_found>=n.run_salt_req&&(n.sigtrace_at_severance=n.sigtrace_total,f.queue(n.automator_state,[[30,"(lerp detection_salt_show 1 0)"],[0,"(set detection_salt_show 0)"],[20,"(lerp sever_sigtrace_enabled_dt 0 1)"],[0,"(set sever_sigtrace_enabled_dt 1)"]]))});e.on("before_run_starts",n=>{n.run_scanned_files=!1;n.run_trace_enabled=!0;n.run_scanner_xp=
0;n.run_scanner_xp_req=256;n.run_salt_found=0;n.detection_mode="collecting_xp";n.detection_pause=0;n.detection_alert_show=0;n.detection_alert_show_meter=!1;n.detection_collector_show=0;n.detection_scanner_show=0;n.detection_salt_show=0;f.queue(n.automator_state,[[200,"(wait)"],[30,"(lerp detection_collector_show 0 1)"],[0,"(set detection_collector_show 1)"]]);n.sever_sigtrace_enabled_dt=0;n.detection_factor_temp=1;n.detection_factor_kit=1;n.sigtrace_base=0;n.sigtrace_cost_factor=.2;n.sigtrace_temp_penalty=
0;n.sigtrace_kit_penalty=0;n.sigtrace_depth_factor=.01;n.sigtrace_time_factor=2/1800;n.delta_cost_offset=0;n.sigtrace_cost_offset=0;n.sigtrace_total=0;n.sigtrace_at_severance=0;n.sigtrace_part_mods=0;n.sigtrace_part_temp=0;n.sigtrace_part_kit=0;n.sigtrace_part_depth=0;n.sigtrace_part_time=0;n.sigtrace_suppression=0});e.on("got_synth",(n,{id:p})=>{p=a(p);p="function"==typeof p.cost?p.cost(n):p.cost;n.sigtrace_part_mods+=p});e.on("block_died",(n,{block:p})=>{"tracing"===n.detection_mode&&p.time&&(n.detection_pause+=
60*p.time)});e.on("start_trace",n=>{"tracing"!==n.detection_mode&&(n.severance_cost=Math.ceil(n.sigtrace_total*n.sigtrace_cost_factor)-n.sigtrace_cost_offset,f.queue(n.automator_state,[[300,"(lerp detection_alert_show 0 1)"],[0,"(set detection_alert_show_meter true)"],[0,"(set detection_mode tracing)"],[0,"(set detection_alert_show 0)"]]),f.queue(n.automator_state,[[60,"(wait)"],[0,"(play detection_start 0.5)"]]),f.queue(n.automator_state,[[270,"(lerp detection_alert_countdown 300 0)"]]))});z.exports=
{tick_detection:n=>{if(n.sigtrace_suppression=Object.values(n.sigtrace_suppression_parts).reduce((m,v)=>m+v,0),"tracing"==n.detection_mode){let m=n.props[n.props_by_id.terminal].state;var p=h(n);p=Math.pow(2,.4*(p-1));0<n.detection_pause?--n.detection_pause:m.time_left-=1*p*(1-(c(n.insight[n.run_server]||0,g[n.run_server].seed).detection_resist_pct||0))}else n.sigtrace_total=n.sigtrace_base+n.sigtrace_part_mods+n.sigtrace_part_temp+n.sigtrace_part_kit+n.sigtrace_part_depth+n.sigtrace_part_time,n.sigtrace_part_time+=
n.sigtrace_time_factor},detection_tokens:h}}),df=R((x,z)=>{var {fabs:b,math:a}=wa(),e=(d,g,c)=>{var h=[.15,.2,.2,.3,.15],n=[],p=0;for(let q=0;5>q;q++){var m=a.noise(6543,1,.5,g/100+q);let l=h[q];m=a.clamp(0,1,a.lerp(1,1.03,m)*c);n.push({x:p+0,w:l,h:m});p+=l}let v=a.lerp(10,7,Math.pow(c,2));h=a.v4.lerp([.3,.1,.1,1],[.9,0,0,1],Math.pow(c,5));p=a.v4.lerp([.8,.4,.4,1],[.6,0,0,1],Math.pow(c,5));n=n.map(((q,l,r)=>({x:A,w:y,h:C})=>{let B=[];C/=q;for(let J=0;J<q;J++){let F=1-C*J,I=a.v4.lerp(l,r,1-Math.pow(J/
(q-1),2)+.5*Math.pow(a.ranged_sin(g/v,0,1),8));B.push({x:A,y:F,w:y,h:C,col:I})}return B})(20,h,p)).flat();h=.1*d[0];let w=d[0]-2*h,t=d[1]-2*h;return b.group({pos:[h,h,.01]},n.map(({x:q,y:l,w:r,h:A,col:y})=>b.rect_fill({size:[r*w,A*t],pos:[q*w,l*t,0],origin:[0,1],tint:y,grain:2*c+2})))},f=(d,g,c)=>{var h=[.5,.5],n=[];let p=0;for(let q=0;3>q;q++){var m=a.noise(6543,1,.5,g/100+q);let l=h[q];m=a.clamp(0,1,a.lerp(1,1.03,m)*c);n.push({x:p+0,w:l,h:m});p+=l}let v=a.lerp(10,7,Math.pow(c,2));h=n.map(((q,l,
r)=>({x:A,w:y,h:C})=>{let B=[];C/=q;for(let J=0;J<q;J++){let F=1-C*J,I=a.v4.lerp(l,r,1-Math.pow(J/(q-1),2)+.5*Math.pow(a.ranged_sin(g/v,0,1),8));B.push({x:A,y:F,w:y,h:C,col:I})}return B})(20,[.8,.8,.8,1],[.6,.6,.6,1])).flat();n=.1*d[0];let w=d[0]-2*n,t=d[1]-2*n;return b.group({pos:[n,n,.01]},h.map(({x:q,y:l,w:r,h:A,col:y})=>b.rect_fill({size:[r*w,A*t],pos:[q*w,d[1]-l*t,0],origin:[0,0],tint:y,grain:2*c+2})))};z.exports=({size:d,time:g,active:c,detection_level:h,detection_rate:n,base_sigtrace:p,suppression:m})=>
{let v=Math.max(0,(p||0)-(m||0)),w=[d[0],.9*d[1]];var t=a.clamp(0,1,a.unlerp(0,37,Math.floor(v)));p="sigtrace "+Math.floor(Math.max(0,p));m=0<m?"(-"+m+")":"";t=[{text:p.slice(0,Math.floor(t*p.length)),tint:[0,0,0,1]},{text:p.slice(Math.floor(t*p.length)),tint:[1,1,1,1]},{text:m,tint:[.2,.4,.2,1]}];m=b.group;if(p=c){var q=a.ease.o3(a.ranged_sin(g/10,0,1));p=a.lerp(.01,.01,q);q=a.v4.lerp(a.v4.lerp([.8,.4,.4,1],[.8,.2,.2,1],q),a.v4.lerp([.3,0,0,1],[1,0,0,1],q),a.clamp(0,1,(h-.7)/.3));p=b.group({pos:[0,
.025*-d[1],0]},[b.group({pos:[d[0]/2,.97*d[1],.01],scale:[.8,1,1]},[b.text({pos:[0,6,0],text:"DETECTING",tint:q,size:2,font:"Ibarra Real Nova",align:["center","center"]}),b.text({pos:[0,-1.5,0],text:"INTRUDER",tint:q,size:2,font:"Ibarra Real Nova",align:["center","center"]})]),b.texture("assets/gfx/misc/eye.png",{pos:[d[0]/2,.99*d[1],0],origin:[.5,.5],scale:[p,p,1],tint:q})])}d=p;q=p=b.group;var l=[];var r=[];for(var A=0;41>A;A++){var y=a.noise(1111,1,.5,g/100+A/20),C=0==A%10?2.5:0==A%5?2:0==A%2?
1.5:1,B=a.lerp(-.01,1.01,A/40);y=a.lerp(-.35,-.3,y)*C;l.push(b.line({from:[y*w[0],B*w[1],-.05],to:[(1+.2*C)*w[0],B*w[1],-.05],width:.1*C,tint:[1,1,1,a.lerp(0,.5,1-1/C)]}));0==A%20&&r.push(b.rect_fill({pos:[1.2*w[0],B*w[1],0],size:[1,1],origin:[.5,.5],rot:[0,0,Math.PI/4],tint:[1,1,1,1]}));0==A%8&&r.push(b.rect_fill({pos:[y*w[0],B*w[1],0],size:[1,1],origin:[.5,.5],rot:[0,0,Math.PI/4],tint:[1,1,1,.5]}));0==A%8&&r.push(b.rect_fill({pos:[y*w[0],B*w[1],.01],size:[.6,.6],origin:[.5,.5],rot:[0,0,Math.PI/
4],tint:[0,0,0,1]}))}A=w[0];C=w[1];l=b.group(null,[...l,...r,b.rect_fill({size:w,pos:[A/2,C/2,0],origin:[.5,.5],tint:[0,0,0,.8]}),b.line({from:[A,0,.01],to:[A,C,.01],width:.2,tint:[1,1,1,1]}),b.line({from:[A+.5,0,.01],to:[A+.5,C,.01],width:.5,tint:[0,0,0,1]}),b.line({from:[.5*A,0,.01],to:[A,0,.01],width:.2,tint:[1,1,1,1]}),b.line({from:[.5*A,C,.01],to:[A,C,.01],width:.2,tint:[1,1,1,1]})]);q=q.call(b,{tint:c?[1,.3,.3,1]:[1,1,1,1]},[l]);l=c&&e(w,g,h);if(c){c=[];r=.014*w[1];B=(n-1)/2;A=a.v4.lerp([0,
0,0,1],[.2,.2,.2,1],B);C=a.v4.lerp([1,1,1,1],[1,0,0,1],B);B=a.lerp(10,5,B);for(y=0;y<n;y++){var J=a.v4.lerp(A,C,Math.pow(a.ranged_sin(g/B+y,0,1),3));c.push(b.text({text:"A",font:"Major Mono Display",pos:[w[0]/2,w[1]*(1-h)+r*y-.5,0],rot:[0,0,Math.PI],size:.8*w[0],tint:[0,0,0,.5],align:["top","center"]}));c.push(b.text({text:"A",font:"Major Mono Display",pos:[w[0]/2*.9,w[1]*(1-h)+r*y,.01],rot:[0,0,Math.PI],size:.8*w[0],tint:J,align:["top","center"]}))}c=b.group({pos:[0,0,.4]},c)}n=c;c=[];for(r=0;6>
r;r++)A=(r+1)/6-.01,c.push(b.rect_fill({pos:[0,A*w[1],0],rot:[0,0,Math.PI/4],origin:[0,.5],size:[1.5,1.5],tint:[0,0,0,1]})),c.push(b.rect_fill({pos:[0,A*w[1]+Math.sqrt(1.5)/2,0],size:[w[0],.3],origin:[0,.5],tint:[0,0,0,1]}));c=b.group({pos:[0,0,.3]},c);if(.7>h)h=!1;else{r=[];A=a.seeded_rand(3333);for(C=0;400>C;C++){J=Math.pow(A(),1);var F=a.lerp(0,Math.PI,a.ranged_sin(g/50*A(),0,1));y=a.lerp(0,Math.PI,a.ranged_sin(g/50*A(),0,1));B=J*Math.sin(F)*Math.cos(y);y=J*Math.sin(F)*Math.sin(y);J*=Math.cos(F);
F=a.ease.exp_io(A());let I=a.lerp(15,85,(h-.7)/.3),G=(h-.7)/.3*Math.pow(a.ranged_sin((g+C)/10,0,1),30)*.5*a.lerp(1,.02,F);r.push(b.rect_fill({pos:[w[0]/2+B*w[0]*4,y*w[1]/2,5*J],size:[a.lerp(.5,I,F),a.lerp(.5,I,F)],origin:[.5,.5],rot:.1>F?[0,0,g]:[g,g,g],tint:[1,0,0,G]}))}h=b.group(null,r)}return m.call(b,null,[d,p.call(b,{pos:[0,0,0]},[q,l,n,c,h,f(w,g,v/200),b.text({parts:t,size:2.5,font:"Major Mono Display",pos:[1.55,3,.4],align:["top","left"],rot:[0,0,Math.PI/2]})])])}}),Pb=R((x,z)=>{var {fabs:b,
math:a}=wa();z.exports=(e,f,d,g)=>{let c=[];var h=a.lerp(8,10,a.seeded_rand(g)());e=Math.floor(e/h)*h;for(h=0;5>h;h++)c.push(b.texture("assets/gfx/misc/eye.png",{scale:[.017,.017,1],pos:[a.lerp(-3,3,a.noise(4321+g,1,1,e/-18-h/3.5)),a.lerp(-3,3,a.noise(1234+g,1,1,e/-18-h/3.5)),.01*(h+1)],rot:[0,0,a.lerp(-.3,.3,a.noise(111+g,1,1,e/-18+h/3.5))],tint:a.v4.lerp([.1,.1,.1,.2],[.5,.5,.5,.2],h/4)}));return c.push(b.texture("assets/gfx/misc/eye.png",{scale:[.015,.015,1],pos:[a.lerp(-3,3,a.noise(4321+g,1,1,
e/-18-5/3.5)),a.lerp(-3,3,a.noise(1234+g,1,1,e/-18-5/3.5)),.06],rot:[0,0,a.lerp(-.3,.3,a.noise(111+g,1,1,e/-18-5/3.5))],tint:a.v4.lerp([.7,0,0,1],[.9,0,0,1],a.ranged_cos(e/2,0,1))})),b.group({pos:[f,d,0]},c)}}),ef=R((x,z)=>{var {fabs:b,math:a}=wa(),e=Pb();z.exports=({size:f,dt:d,time:g,detection_starts_in:c})=>{if(0==d||1==d)return!1;var h=a.ease;let n=h.seq([{len:.2,fn:h.flickerf(h.elastic_io)},{len:.75,fn:h.hold(1)},{len:.05,fn:h.inv(h.io3)}])(d),p=h.seq([{len:.15,fn:h.hold(0)},{len:.15,fn:h.flickerf(h.elastic_o)},
{len:.65,fn:h.hold(1)},{len:.05,fn:h.inv(h.flickerf(h.elastic_i))}])(d);d=b.rect_fill({size:[f[0],f[1]*a.clamp(0,1,d/.2)],tint:a.v4.lerp([1,0,0,.1],[.1,0,0,.8],a.clamp(0,1,d/.2)),origin:[.5,.5]});let m=(r,A,y)=>b.text({text:r,size:a.lerp(1E-4,2,p),font:"Ibarra Real Nova",tint:A,pos:y,align:["center","center"]});var v=(r,A,y)=>b.group(null,[m(r,[.8,0,0,.8],[y[0]+.1,y[1]-.1,y[2]-.01]),m(r,A,y)]);let w=r=>{var A=r%1*4;r=Math.floor(A);A%=1;return[a.v2.lerp([0,0],[1,0],A),a.v2.lerp([1,0],[1,1],A),a.v2.lerp([1,
1],[0,1],A),a.v2.lerp([0,1],[0,0],A)][r]};h=r=>{var A=a.noise(1234,2,1,(g+r)/80);r=a.noise(12345,2,1,(g+r)/80)+.5;A=a.v2.mul(a.v2.sub(w(A),[.5,.5]),f);r=a.v2.mul(a.v2.sub(w(r),[.5,.5]),f);return b.line({from:[A[0],A[1],0],to:[r[0],r[1],0],width:.1,tint:[.8,0,0,.1]})};var t=[.8,.75,.75,a.lerp(.5,1,a.noise(321,2,1,g/10))];let q=v("INTRUSION",t,[.1*-f[0],.1*f[1],.1]);v=v("WARNING",t,[.1*f[0],.1*-f[1],.1]);t=((r,A,y)=>b.text({text:r,size:.3,font:"Ibarra Real Nova",tint:A,pos:y,align:["center","center"],
line_height:1.3}))(Array(20).fill("OPTICON FIREWALL OPTICON FIREWALL OPTICON FIREWALL").join("\n"),[.5,.2,.2,a.lerp(0,.3,p)],[0,.45*f[1],.06]);c=m("DETECTION BEGINS IN 00:0"+(c/60).toFixed(2),[1,.8,.8,1],[0,-f[1],.2]);let l=m("SURRENDER AND REPORT TO AUTHORITIES",[1,.7,.7,1],[0,2.6*-f[1],.2]);return b.group({scale:[1,n,1]},[b.group({scale:a.v3.mul_scalar([.5,.5,1],p),pos:[0,0,-.2]},[e(2*g,0,0,123)]),d,b.group({pos:[0,0,.05]},[h(0),h(1),h(2),h(3),h(300),h(301),h(302),h(303),h(500),h(501),h(502),h(503)]),
t,b.group({pos:[0,.2*f[1],0]},[b.group({scale:[.5,1,1]},[q,v]),b.group({scale:[.2,.2,1]},[l]),b.group({scale:[.4,.4,1]},[c])])])}}),ff=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=({size:e,time:f,show:d,show_stats:g,show_roll:c,show_result:h,sigtrace_factors:n,roll:p})=>{var m=Object.values(n).reduce((y,C)=>y+C,0);let v=b.rect_fill({size:[e[0],e[1]*a.clamp(0,1,d/.2)],tint:a.v4.lerp([1,0,0,.1],[.1,0,0,.8],a.clamp(0,1,d/.2)),origin:[.5,.5]}),w=(y,C,B)=>b.text({text:y,size:a.lerp(1E-4,2,d),font:"Ibarra Real Nova",
tint:C,pos:B,align:["center","center"]});var t=(y,C,B)=>b.group(null,[w(y,[.8,0,0,.8],[B[0]+.1,B[1]-.1,B[2]-.01]),w(y,C,B)]);let q=y=>{var C=y%1*4;y=Math.floor(C);C%=1;return[a.v2.lerp([0,0],[1,0],C),a.v2.lerp([1,0],[1,1],C),a.v2.lerp([1,1],[0,1],C),a.v2.lerp([0,1],[0,0],C)][y]},l=y=>{var C=a.noise(1234,2,1,(f+y)/80);y=a.noise(12345,2,1,(f+y)/80)+.5;C=a.v2.mul(a.v2.sub(q(C),[.5,.5]),e);y=a.v2.mul(a.v2.sub(q(y),[.5,.5]),e);return b.line({from:[C[0],C[1],0],to:[y[0],y[1],0],width:.1,tint:[.8,0,0,.1]})};
var r=[.8,.75,.75,a.lerp(.5,1,a.noise(321,2,1,f/10))];let A=t("SCANNING",r,[.1*-e[0],.1*e[1],.1]);t=t("BE SCARED",r,[.1*e[0],.1*-e[1],.1]);r=((y,C,B)=>b.text({text:y,size:.3,font:"Ibarra Real Nova",tint:C,pos:B,align:["center","center"],line_height:1.3}))(Array(20).fill("OPTICON FIREWALL OPTICON FIREWALL OPTICON FIREWALL").join("\n"),[.5,.2,.2,a.lerp(0,.3,d)],[0,.45*e[1],.06]);w("DETECTION BEGINS IN 00:0",[1,.8,.8,1],[0,-e[1],.2]);w(JSON.stringify({show:d,show_stats:g,show_roll:c,show_result:h,sigtrace_factors:n,
roll:p},null,2),[1,.7,.7,1],[0,2.6*-e[1],.2]);g=w("roll "+p,[1,.7,.7,1],[0,2.6*-e[1],.2]);m=w("sigtrace "+m,[1,.7,.7,1],[0,2.6*-e[1],.2]);return b.group({scale:[1,d,1]},[v,b.group({pos:[0,0,.05]},[l(0),l(1),l(2),l(3),l(300),l(301),l(302),l(303),l(500),l(501),l(502),l(503)]),r,b.group({pos:[0,.2*e[1],0]},[b.group({scale:[.5,1,1]},[A,t]),b.group({scale:[.2,.2,1]},[g]),b.group({scale:[.4,.4,1]},[m])])])}}),gf=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=({block:e,time:f,wobble_rate:d})=>{var g=null==
e.hit_at?0:1-a.clamp(0,1,(f-e.hit_at)/30);let c=e.hp/e.max_hp,h=e.x,n=e.y,p=a.lerp(0,e.power,c);var m=a.lerp(.2,.85,p);g=a.v4.lerp(e.virus?[m+.2,m,m+.3,1]:e.trojan_applied?[m+.25,.8*m,m+.25,1]:[m,m,m,1],[1,1,1,1],g);m=[];let v=a.array_shuffle(h*n+h,[0,.25,.5,.75]);for(let w=0;4>w;w++){let t=.9*a.ease.o2(1-w/4),q=1-c>w/3?[0,0,0,.2]:a.v4.lerp(g,[0,0,0,1],a.ease.io3(v[w]));m.push(b.rect_fill({pos:[0,0,w/100],origin:[.5,.5],tint:q,size:[t,t]}))}return b.group({tint:e.trojan_applied?[.3,1,.3,1]:[1,1,1,
1],pos:[0,0,a.ranged_cos(f/d+1*n+h/2,0,a.lerp(2,4,p))]},[b.rect_fill({size:[1,1],tint:[0,0,0,0],origin:[.5,.5],overlap_id:e.oid}),...m])}}),sb=R((x,z)=>{z.exports=b=>{let a=b/1024,e=a/1024,f=e/1024;return.5<f?`${f.toFixed(1)}GB`:.5<e?`${e.toFixed(1)}MB`:.5<a?`${a.toFixed(1)}KB`:`${b}b`}}),hf=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),{items:e}=Ia(),f=sb(),d=(h,n,p)=>{n=.06*h[0];return a.group(null,[a.rect_fill({pos:[0,0,0],size:h,tint:[.3,.3,.3,.6],origin:[0,1],grain:5}),a.line({from:[0,0,.01],to:[h[0],
-h[1],.01],width:.02,tint:[1,1,1,.2]}),a.rect_fill({pos:[0,0,.02],size:[.005*h[0],h[1]],origin:[0,1],tint:[.8,.8,.8,1]}),a.text({text:"DOWNLOADING FILE",pos:[n,-h[1]+n/2,.02],font:"B612 Mono",size:.03*h[0],tint:[.4,.4,.4,1],align:["bottom","left"]}),a.text({text:p,pos:[h[0]-n,-h[1]+n/2,.02],font:"B612 Mono",subfamily:"Bold",size:.03*h[0],tint:[.91,.9,.9,1],align:["bottom","right"]})])},g=(h,n,p)=>a.group(null,[a.rect_fill({pos:[0,0,0],size:h,tint:[.1,.1,.1,1],origin:[0,1]}),a.rect_fill({pos:[0,0,
.01],size:[h[0]*n,h[1]],tint:[.42,.4,.4,1],origin:[0,1]})]),c=(h,n)=>a.group(null,[a.text({text:n,pos:[.955*h[0],.6*-h[1],.02],font:"B612 Mono",subfamily:"Italic",size:.04*h[0],tint:[0,0,0,.5],align:["center","right"]}),a.text({text:n,pos:[.95*h[0],.5*-h[1],.03],font:"B612 Mono",subfamily:"Italic",size:.04*h[0],tint:[.9,.9,.9,1],align:["center","right"]})]);z.exports={duration:300,anim:({item_id:h})=>n=>()=>{let p=b.lerp(0,1,n/300);if(1<=p)return!1;let m=b.ease.seq([{len:.1,fn:b.ease.exp_io},{len:.8,
fn:b.ease.hold(1)},{len:.1,fn:b.ease.inv(b.ease.exp_io)}])(p),[v,w]=.1>p?["idle",p/.1]:.5>p?["downloading",(p-.1)/.4]:["sent",(p-.5)/.5],t=e[h];var q=[7,1.5];let l=.25*q[1],r=[l,-l,.1],A=[q[0]-2*l,.3*q[1]];q={idle:()=>a.group({pos:r},[g(A,0,0),c(A,`-- / ${f(t.size)}`)]),downloading:()=>{var y=b.ease.io3(w);y=Math.floor(6*y)/6;return a.group({pos:r},[g(A,y,0),c(A,`${f(Math.ceil(t.size*y))} / ${f(t.size)}`)])},sent:()=>a.group({pos:r},[g(A,1,0),c(A,0==Math.floor(20*p)%2?"":"SAVED TO KIT")])}[v];return a.group({tint:"severing_salt"==
h?[1,1,0,1]:[1,1,1,1],pos:[0,0,5],scale:[1.3*m,1.3,1]},[d([7,1.5],m,`${t.title}, ${f(t.size)}`),q()])}}}),jf=R((x,z)=>{var {lru_cache:b}=ob(),{fabs:a}=sa()(),{math:e}=na(),{field_world_size:f,field_tile_size:d,field_grid_coords:g}=eb(),{flatten_tree:c}=bb(),h=df(),n=ef(),p=ff(),{detection_tokens:m}=fc(),v=gf(),{block_type:w}=Ya(),t=hf().anim,q=Db(),l=P=>b.fetch(`depth_label/${P}`,()=>c(a.text({text:`${P}`,pos:[0,0,0],align:["center","right"],tint:[.5,.5,.5,1],font:"B612 Mono",size:3.5}),null,[1,1,
1,1],[])),r=({block:P,time:D})=>{let L=P.x,M=P.y;var X=null==P.hit_at?0:1-e.clamp(0,1,(D-P.hit_at)/30);let ea=12.34*L+234.456*M+D;D=e.hsl2rgb(50,.6,.5);X=e.v4.lerp([...D,1],[1,1,1,1],X);return a.group({pos:[0,0,1]},[a.rect_fill({size:[1,1],tint:[0,0,0,0],origin:[.5,.5],overlap_id:P.oid}),a.group({scale:[.8,1,1]},[a.rect_fill({rot:[0,0,Math.PI/4],origin:[.5,.5],tint:X,size:[.6,.6]})]),a.group({scale:[e.ranged_sin(ea/8,.5,1),1,1]},[a.rect_fill({pos:[0,0,.1],rot:[0,0,Math.PI/4],origin:[.5,.5],tint:[1,
1,1,.3],size:[.4,.4]})]),a.group({scale:[e.ranged_sin(ea/13,-1,1),1,1]},[a.rect_fill({pos:[0,0,.2],rot:[0,0,Math.PI/4],origin:[.5,.5],tint:[1,1,1,.3],size:[.2,.2]})]),a.rect_fill({pos:[0,0,.3],origin:[.5,.5],tint:[1,1,1,.4],size:[.02,.5]}),a.group(null,[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20].map(V=>{var H=e.seeded_rand(1234*V);V=e.lerp(-.5,.5,e.noise(Math.floor(9876*H()*L),2,1,ea/200));H=(e.lerp(-.6,.6,e.noise(Math.floor(9876*H()),2,1,ea/200))+ea/100*e.lerp(.8,1.5,H()))%1-.2;return a.rect_fill({pos:[V,
H,2],size:[.03,.03],tint:[1,1,1,.5*Math.abs(H-1)],origin:[.5,.5]})}))])},A=({block:P})=>a.group({pos:[0,0,1]},[a.rect_fill({size:[1,1],tint:[0,0,0,0],origin:[.5,.5],overlap_id:P.oid}),a.rect_fill({origin:[.5,.5],tint:[1,0,0,1],size:[.9,.9]}),a.text({pos:[0,0,.01],text:"HALT",align:["center","center"],font:"B612 Mono",subfamily:"Bold",size:.23,tint:[0,0,0,1]})]),y=({block:P,time:D})=>{let L=null==P.hit_at?0:1-e.clamp(0,1,(D-P.hit_at)/30);e.v4.lerp([0,0,0,1],[1,1,1,1],L);D=0==Math.floor(D/20)%2;return a.group(null,
[a.rect_fill({size:[1,1],tint:[0,0,0,0],origin:[.5,.5],overlap_id:P.oid}),a.rect_stroke({pos:[0,0,.5],origin:[.5,.5],tint:[1,1,1,1],size:[.9,.9],width:.05}),a.rect_stroke({pos:[0,0,.5],origin:[.5,.5],tint:[.8,.8,.8,1],size:[.7,.7],width:.03}),a.text({pos:[.1,-.05,.9],text:"!",font:"B612 Mono",size:.6,tint:[.8,0,0,D],align:["center","center"]}),a.text({pos:[.04,-.02,1],text:"!",font:"B612 Mono",size:.6,tint:[1,1,1,D],align:["center","center"]})])},C=({blocks:P,time:D,detection_mode:L,scanned_files:M,
wobble_rate:X})=>a.group(null,P.map(ea=>a.group({pos:[ea.x+.5,-ea.y-.5,0]},ea.cells.map(V=>(0,{[w.BASIC]:v,[w.CRYPTO]:r,[w.HALT]:"tracing"==L?A:v,[w.LOOT]:M?y:v,[w.REWARD]:y}[ea.type])({block:ea,time:D,wobble_rate:X}))))),B=({hits:P,time:D})=>{let L={reader:[.97,.28,.11,1],reader_multi:[.97,.28,.11,1],reader_triple:[.97,.28,.11,1],plasma:[.03,.72,.89,.8],demux:[.7,.7,1,1],demux_railgun:[.7,.7,1,1],arc:[1,1,1,1],arc_echo:[1,1,1,1],arc_charge:[1,1,1,1]};P=P.sort((M,X)=>X.damage-M.damage).slice(0,200).map(M=>
{var X=D-M.at,ea=M.block.seed+M.at;let V=M.damage,H=L[M.source]||[1,0,1,1];if(100<X)return!1;X=e.clamp(0,1,X/100);var ca=e.seeded_rand(ea);ea=(.5<ca()?-1:1)*e.lerp(.5,1.5,ca());ca=e.lerp(5,8,ca());ea*=X;ca=(ca-12*X)*X;let U=e.lerp(.25,.4,e.clamp(0,1,V/50)),W=1>V,da=e.clamp(0,1,H[3]-X);return a.group({pos:[ea+M.block.x+.5,ca-M.block.y-.5,0]},[a.shadow({tint:[1,1,1,.2],z:-3,fab:()=>a.group({pos:[0,0,3]},[!W&&a.text({text:Math.floor(V).toString(),font:"B612 Mono",subfamily:"Bold",tint:[H[0],H[1],H[2],
da],size:U,align:["center","center"]}),W&&a.group(null,[a.text({text:"0.",tint:[H[0],H[1],H[2],.8*da],font:"B612 Mono",subfamily:"Bold",size:.8*U,align:["top","right"]}),a.text({text:Math.max(Math.floor(10*V),1).toString(),tint:[H[0],H[1],H[2],da],font:"B612 Mono",subfamily:"Bold",size:U,align:["top","left"]})])])})])});return a.group(null,P)},J=({deaths:P,time:D})=>{if(0==P.length)return!1;P=P.map(L=>{let M=L.block.seed;var X=D-L.at;if(60<X)return!1;X=e.clamp(0,1,X/60);let ea=e.lerp(8,16,.2),V=e.lerp(3,
5,.2),H=e.lerp(.5,2,.2),ca=[];for(let da=0;da<ea;da++){var U=da/ea*Math.PI*2,W=e.lerp(.1,1,e.noise(M,1,.5,123*da));let fa=Math.pow(e.lerp(.1,1,e.noise(M,1,.5,234*da)),3),ba=e.ease.o3(X)*V*W;W=e.lerp(-1,1,e.noise(M,1,.5,X+100*da))*H;let S=e.lerp(-1,1,e.noise(M,1,.5,X+100*da+9999))*H;U=e.v2.polar(U,ba);U=e.v2.add(U,[e.lerp(0,W,X),e.lerp(0,S,X)]);ca.push(a.rect_fill({pos:[.7*U[0],.7*U[1],0],size:e.v2.mul_scalar([.1,.1],(1-X)*fa),tint:[1,1,1,1],origin:[.5,.5]}))}return a.group({pos:[L.block.x+.5,-L.block.y-
.5,0]},ca)});return a.group(null,P)},F=({boids:P,time:D})=>{P=P.map(L=>{var M=D-L.at;let X=L.seed||L.at;if(100<M)return!1;let ea=L.type;M=e.clamp(0,1,M/100);let V=e.seeded_rand(100*X),[H,ca]=L.to,U=[];for(let S=0;S<L.count;S++){var W=e.lerp(.8,1,V());W=e.clamp(0,1,M/W);var da=e.noise(X,2,.5,W+4321*V()),fa=e.noise(X,2,.5,W+4321*V());da=L.from[0]+e.lerp(-5,5,V())+e.lerp(-1,1,da)*e.lerp(0,10,e.ease.io2(M));fa=L.from[1]+e.lerp(-5,5,V())+e.lerp(-1,1,fa)*e.lerp(0,10,e.ease.io2(M));da=e.lerp(da,H,Math.pow(W,
2));var ba=e.lerp(fa,ca,Math.pow(W,2));fa=e.lerp(L.from[0],da,W);da=e.lerp(L.from[1],ba,W);W=e.v2.lerp("crypto"==ea?[.5,.5/3]:[.3,.3/3],[0,0],e.ease.exp_i(W));ba=e.lerp(0,1,e.ease.exp_io(e.noise(X,2,1,D/20+10*S)));let k="crypto"==ea?[.9,.8,.1,ba]:[.3,.7,.1,ba];U.push(a.rect_fill({pos:[fa,da,3],rot:[e.ranged_sin(10*ba,.35*-Math.PI,.35*Math.PI),e.ranged_sin(13*ba,.35*-Math.PI,.35*Math.PI),10*ba],origin:[.5,.5],size:W,tint:k}))}return a.group(null,U)});return a.group(null,P)},I=({downloads:P,time:D})=>
a.group(null,P.map(L=>{let M=D-L.at;return a.group({pos:[L.pos[0],-L.pos[1],0],scale:[.8,.8,1]},[t({item_id:L.item_id})(M)()])})),G=P=>a.group(null,g.map(D=>{let L=[.7,.7,.7,e.lerp(.05,.15,e.noise2d(P.state.seed,1,1,.2*D[0],.2*(P.state.depth+D[1])))];return a.group({pos:[D[0]+.5,-D[1]-.5,0]},[a.rect_fill({pos:[0,0,.01],origin:[.5,.5],size:[.15,.15],tint:[0,0,0,.1]}),a.rect_fill({origin:[.5,.5],size:[.25,.25],tint:L})])})),O=P=>a.group({pos:[-f[0]/2-5,f[1]/2,0]},[0,1,2,3,4,5,6,7,8,9].map(D=>a.group({pos:[0,
-(D+.5)*d[1],0]},[l(10-(D+1)+P.state.depth)])));z.exports=({self:P,state:D,dt:L,reveal:M})=>{let X=.2<M,ea=.3<M,V=.4<M,H=D.detection_alert_show_meter,ca=D.ticks+L,U=P.state.paused?P.state.uptime:P.state.uptime+L;return a.group({pos:[-120,200,0]},[a.rect_fill({origin:[.5,.5],size:f,tint:[1,0,0,0],overlap_id:"field"}),a.rect_stroke({pos:[0,0,0],origin:[.5,.5],size:f,width:.7,tint:[1,1,1,e.clamp(0,1,M/.5)]}),X&&O(P),a.group({pos:[-f[0]/2,f[1]/2,0],scale:[d[0],d[1],1]},[ea&&G(P),V&&C({blocks:D.mining_blocks,
time:U,detection_mode:D.detection_mode,scanned_files:D.run_scanned_files,wobble_rate:e.lerp(40,2,D.run_connection_failing||0)}),V&&a.group({pos:[0,0,2]},[J({deaths:D.mining_block_deaths,time:U})]),V&&a.group({pos:[0,0,2],tint:e.v4.lerp([1,1,1,1],[1,1,1,0],D.run_connection_failing||0)},[F({boids:D.mining_boids,time:U})]),a.group({pos:[5,-5,4]},[n({size:[15,8],dt:D.detection_alert_show,time:ca,detection_starts_in:D.detection_alert_countdown}),p({size:[15,8],time:ca,show:D.detection_scan_show_modal,
show_stats:D.detection_scan_show_stats,show_roll:D.detection_scan_show_roll,show_result:D.detection_scan_show_result,sigtrace_factors:D.detection_sigtrace_factors,roll:D.detection_scan_roll})]),a.group(null,Object.keys(q).filter(W=>P.state.active_weapons.includes(W)).map(W=>q[W]).map(({draw:W})=>W(D,{dt:L}))),V&&a.group({pos:[0,0,2],tint:[1,1,1,e.lerp(1,0,e.ease.o3(D.run_connection_failing||0))]},[B({hits:D.mining_block_hits,time:U})]),a.group({pos:[0,0,2.1]},[I({downloads:D.mining_downloads,time:U})]),
a.group({pos:[-1.5,-15,3],scale:[.12,.12,1],tint:0<D.detection_pause?[.1,1,1,1]:[1,1,1,1]},[h({size:[5,125],active:H,time:0<D.detection_pause?1234:ca,detection_level:1-e.clamp(0,.95,P.state.time_left/D.detection_max_time),detection_rate:Math.floor(m(D)),base_sigtrace:D.sigtrace_total,suppression:D.sigtrace_suppression})])]),a.shadow({tint:[1,1,1,.2],z:-3,fab:()=>a.group({pos:[-f[0]/2,-f[1]/2,5.1]},[...[D.arm_parts].map(W=>{if(null==W)return!1;let da=ca-(D.cursor_last_fired_at||0);return a.group({tint:[1,
1,1,e.lerp(.6,.9,e.noise(313,2,1,ca))]},[...W.links].reverse().map((fa,ba)=>{let S=e.clamp(0,1,da/20+(W.links.length-1-ba)/4);var k=W.points[fa[0]];fa=W.points[fa[1]];k=e.v2.lerp(k.prev,k.pos,L);fa=e.v2.lerp(fa.prev,fa.pos,L);let u=e.v2.angle_between(fa,k),E=e.v2.lerp(k,fa,.9),Q=e.v2.lerp(k,fa,.85);return a.group({pos:[0,0,ba/10]},[a.line({from:[...e.v2.add(e.v2.lerp(k,fa,e.lerp(.1,.2,e.noise(111,2,1,ca/50+10*ba))),[-2,-2]),0],to:[...e.v2.add(e.v2.lerp(k,fa,e.lerp(.8,.9,e.noise(222,2,1,ca/50+10*ba))),
[-2,-2]),0],width:.15*(4-.7*ba),tint:[1,1,1,e.lerp(.2,.6,S)]}),a.line({from:[k[0]+1,k[1]+1,.1],to:[fa[0]+1,fa[1]+1,.1],width:.1*(4-.7*ba),tint:[1,1,1,e.lerp(.4,1,S)]}),a.line({from:[k[0],k[1],.2],to:[fa[0],fa[1],.2],width:.4*(4-.7*ba),tint:[1,1,1,e.ease.bounce_i(S)]}),a.line({from:[...e.v2.add(E,[0,-e.lerp(0,3,e.ease.bounce_i(S))]),0],to:[...e.v2.add(E,[0,e.lerp(0,3,e.ease.bounce_i(S))]),0],width:.2*(4-.7*ba),tint:[1,1,1,e.lerp(.2,.6,S)]}),a.line({from:[...e.v2.add(Q,[0,-e.lerp(0,2,S)]),0],to:[...e.v2.add(Q,
[0,e.lerp(0,2,S)]),0],width:.2*(4-.7*ba),tint:[1,1,1,e.lerp(.2,.6,S)]}),1==ba&&a.text({text:"evulsive pick",pos:[...e.v2.add(e.v2.lerp(k,fa,0),[0,2]),.3],rot:[0,0,u],font:"Major Mono Display",size:3,tint:[1,1,1,1],align:["bottom","right"]}),0==ba&&a.text({text:"en o ugh",pos:[...e.v2.add(e.v2.lerp(k,fa,.8),[0,-1]),.3],rot:[0,0,u],font:"Epetri AIRY-anorexic2",size:4,tint:[1,1,1,e.lerp(.3,1,S)],align:["top","left"]}),1==ba&&a.text({text:"clo se",pos:[...e.v2.add(e.v2.lerp(k,fa,.8),[0,-1]),.3],rot:[0,
0,u],font:"Epetri AIRY-anorexic2",size:4,tint:[1,1,1,e.lerp(.3,1,S)],align:["top","left"]}),2==ba&&a.text({text:"n ever",pos:[...e.v2.add(e.v2.lerp(k,fa,.8),[0,-1]),.3],rot:[0,0,u],font:"Epetri AIRY-anorexic2",size:4,tint:[1,1,1,e.lerp(.3,1,S)],align:["top","left"]})])}))})])})])}}),kf=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na();bb();z.exports={fab_meter:({pos:e,label:f,size:d,value:g,max:c,formatter:h})=>{let n=g>=c?[1,0,0,1]:[1,1,1,1];return b.group({pos:[e[0],e[1]-d[1],e[2]]},[b.text({pos:[0,d[1],
0],text:f,size:6.5,tint:n,font:"Major Mono Display",align:["top","left"]}),b.text({pos:[d[0],d[1],0],text:`${h(g)} / ${h(c)}`,size:6.5,tint:n,font:"B612 Mono",align:["top","right"]}),b.line({from:[0,0,0],to:[d[0],0,0],width:1,tint:[.2,.2,.2,1]}),b.line({from:[0,0,.01],to:[a.lerp(0,d[0],a.clamp(0,1,g/c)),0,.01],width:1,tint:n})])}}}),gc=R((x,z)=>{var {fabs:b}=sa()();z.exports={fab_header_text:a=>b.text({text:a,font:"Major Mono Display",tint:[1,1,1,1],size:6.5,align:["top","left"]})}}),lf=R((x,z)=>
{({flatten_tree:x}=bb());var {fab_header_text:b}=gc();x=x(b("utilities"),null,[1,1,1,1],[]);z.exports={fab_firmware_header:x}}),hc=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),{flatten_tree:e}=bb(),{lru_cache:f}=ob();z.exports={fab_tooltip:({size:d,appear:g,subject:c,body:h})=>{g=Math.floor(100*g)/100;return f.fetch(`fab_tooltip/${d},${g},${c},${h}`,()=>{let [n,p]=d;var m=[1,1,1,g];let v=a.v4.mul([0,0,0,.5],m),w=a.v4.mul([.8,.8,.8,.9],m),t=.02*n,q=a.v4.mul([.2,.2,.2,1],m),l=2.5*t,r=a.v4.mul([.2,.2,
.2,1],m);m=a.v4.mul([.5,.5,.5,1],m);return e(b.group({scale:[.8,.8,1]},[b.rect_fill({pos:[2,-2,-.02],size:d,tint:v,origin:[0,1]}),b.rect_fill({pos:[0,0,-.01],size:d,tint:w,origin:[0,1]}),b.rect_stroke({pos:[t,-t,0],size:[n-2*t,p-2*t],tint:q,width:.5,origin:[0,1]}),b.text({text:"OPERATORS MANUAL",font:"B612 Mono",size:4,pos:[n/2,-l,0],tint:m,align:["top","center"]}),b.text({text:"rev 2.1.1",font:"B612 Mono",size:4,pos:[n-l,-l,0],tint:m,align:["top","right"],subfamily:"Italic"}),b.group({pos:[l,-l-
10,0]},[b.text({text:"/",size:4.5,tint:m,font:"B612 Mono",align:["top","left"]}),b.text({text:` ${c}`,size:4.5,tint:r,font:"B612 Mono",align:["top","left"],subfamily:"Bold"}),b.text({text:"sys_util".padStart(c.length+2+8," "),size:4.5,tint:m,font:"B612 Mono",subfamily:"Italic",align:["top","left"]})]),b.text({pos:[l,-l-20,0],line_height:1.5,font:"B612 Mono",text:h,margin:d[0]-2*l,size:4.5,tint:r,align:["top","left"]})]),null,[1,1,1,1],[])})}}}),mf=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()();Xa();
var {weapon_metadata:e}=zb(),{fab_tooltip:f}=hc();z.exports={fab_firmware_tooltips:({self:d,state:g,dt:c})=>{let h=g.ticks+c;return a.group({pos:[0,0,10]},d.state.active_weapons.map((n,p)=>{var m=g.rich_overlaps[`weapon_btn_${n}`];if(!m||!(m.overlap||100>h-m.stop_at))return!1;n=e[n];if(m.overlap)m=b.clamp(0,1,(h-m.start_at)/20);else{var v=b.clamp(0,1,(m.stop_at-m.start_at)/20);m=(1-b.clamp(0,1,(h-m.stop_at)/15))*v}v=b.lerp(-115,-125,b.ease.io2(m));p=24*-p;let w=37+6.3*n.desc.split("\n").length;return a.group({pos:[v,
p,0]},[f({size:[145,w],appear:b.ease.io3(m),subject:n.title,body:n.desc})])}))}}}),nf=R((x,z)=>{var {fabs:b}=sa()(),{layout:a,l2v:e,ui_rect_fill:f,ui_rect_stroke:d}=Ba(),{math:g}=na();z.exports={fab_empty_firmware_slot:({size:c})=>{c=a([0,0],c);var h=g.lerp(0,.1,1),n=g.lerp(0,.1,1),p=g.lerp(0,.1,0),m=[p,p,p,0],v=[h,h,h,1];n=[n,n,n,1];p=[p,p,p,1];h=[h,h,h,1];m=f({pos:c.pos(0,0),z:-.01,size:c.size(),tint:m});var w=c.pad(.8,.8);v=d({pos:w.pos(0,0),size:w.size(),tint:v,thickness:.5});w=1.2*c.height()/
Math.sqrt(2);n=b.group({pos:e(c.pos_pct(.15,.5),.005)},[b.rect_fill({rot:[0,0,Math.PI/4],size:[w,w],tint:n,origin:[.5,.5]}),b.rect_fill({pos:[0,0,.01],rot:[0,0,.25*Math.PI],size:[.5*w,.05*w],tint:p,origin:[.5,.5]}),b.rect_fill({pos:[0,0,.02],rot:[0,0,.75*Math.PI],size:[.5*w,.05*w],tint:p,origin:[.5,.5]})]);c=f({pos:c.pos_pct(.3,.485),z:-.005,size:c.size_pct(.5,.03),tint:h});return b.group(null,[m,c,v,n])}}}),of=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),{layout:e,ui_box:f,l2v:d}=Ba(),{system_stats:g}=
fb();z.exports={fab_firmware_slot:({size:c,label:h,related_stats:n,upgrade_count:p,hover_dts:m,oid:v,hover:w,press_dt:t,time:q})=>{let l=e([0,0],c);c=f({box:l,tint:[.06,.06,.06,1],overlap_id:v});let r=n.map(y=>g[y].col);v=a.group(null,[0,1,2,3].map(y=>{let C=m[n[y]]||0;return a.group(null,[a.text({pos:[4*y+.1,.1,0],text:"/",tint:[...(r[y]||[0,0,0]),b.lerp(.2,5,C)],font:"B612 Mono",size:8.5,align:["center","center"]}),a.text({pos:[4*y,0,.1],text:"/",tint:[...(r[y]||[0,0,0]),b.lerp(.4,1,C)],font:"B612 Mono",
size:8.5,align:["center","center"]})])}));h=a.text({text:h+` ${1<=p?`+${p}`:""}`,tint:[.8,.8,.8,1],font:"B612 Mono",size:5,align:["center","left"]});p=1.2*l.height()/Math.sqrt(2);p=a.rect_fill({rot:[0,0,Math.PI/6],size:[p,p],tint:[.2,.2,.2,1],origin:[.5,.5]});let A=a.rect_stroke({pos:d(l.pos(0,0),.03),size:l.size(),width:.5,tint:[.2,.2,.2,1],origin:[0,1]});return a.group(null,[c,A,a.group({pos:d(l.pos_pct(.15,.5),.05)},[p]),a.group({pos:d(l.pos_pct(.1,.5),.1)},[v]),a.group({pos:d(l.pos_pct(.3,.5),
.1)},[h]),w&&a.group({pos:d(l.pos_pct(.5,.5),.4),tint:[1,1,1,b.lerp(.8,1,b.noise(313,2,1,q/10))]},[a.rect_fill({pos:[0,0,-.15],size:l.size(),origin:[.5,.5],tint:[0,0,0,.8]}),a.rect_fill({pos:[0,0,-.1],size:l.size_pct(1,b.ease.o2(t)),origin:[.5,.5],tint:[1,0,0,.6]}),a.shadow({tint:[1,1,1,.5],z:-2,fab:()=>a.group(null,[a.rect_stroke({pos:[0,0,3],size:l.size(),tint:[1,.3,.3,1],width:.3,origin:[.5,.5]}),a.text({pos:[0,0,3],text:"hold to delete",tint:[1,.3,.3,1],size:7,font:"Major Mono Display",align:["center",
"center"]})])})])])}}}),pf=R((x,z)=>{na();var {fabs:b}=sa()(),{fab_empty_firmware_slot:a}=nf(),{fab_firmware_slot:e}=of(),{weapon_metadata:f}=zb(),{layout:d,l2v:g}=Ba(),{firmware_info:c}=Xa();z.exports={fab_firmware_buttons:({size:h,hover_dts:n,ai_active:p,self:m,state:v,dt:w})=>{let t=v.ticks+w;h=d([0,0],h);[,h]=h.hsplit_pct(.07);h=h.hsplit_n(7);let q=p?m.state.active_weapons:[];return b.group(null,h.map((l,r)=>{l=l.pad(0,2);if(r<q.length){var A=f[q[r]];let y=A.title;A=A.scales_with;let C=`weapon_btn_${q[r]}`,
B=m.state.firmware_hand.filter(I=>c(I).weapon==q[r]).length,J=null==v.terminal_modal&&v.cursor_overlaps[C],F=v.run_utility_press_slot==r?(v.ticks-v.run_utility_press_start_at)/180:0;return b.group({pos:g(l.pos(0,0))},[e({size:l.size(),label:y,related_stats:A,hover_dts:n,oid:C,upgrade_count:B,hover:J,press_dt:F,time:t})])}if(r<v.utility_slots)return b.group({pos:g(l.pos(0,0))},[a({size:l.size()})])}))}}}),qf=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),{layout:e,l2v:f}=Ba(),{lru_cache:d}=ob(),{flatten_tree:g}=
bb(),c=({enabled:h,hover_dt:n,title:p,tag:m,accent_col:v})=>d.fetch(`fab_shop_button/name_label/${h},${Math.floor(100*n)},${p},${m}`,()=>{var w=h?[1,1,1,1]:[.7,.7,.7,1];let t=a.v4.mul,q=t(a.v4.lerp([.8,.8,.8,1],[1,1,1,1],n),w);w=t([.4,.4,.4,1],w);return g(b.group({pos:[0,0,0]},[b.text({text:"/",size:5,tint:a.v4.lerp(w,[v[0],v[1],v[2],1],n),font:"B612 Mono",align:["center","left"]}),b.text({text:` ${p}`,size:5,tint:q,font:"B612 Mono",align:["center","left"]}),b.text({text:m.padStart(p.length+2+m.length,
" "),size:5,tint:w,font:"B612 Mono",subfamily:"Italic",align:["center","left"]})]),null,[1,1,1,1],[])});z.exports={fab_shop_button:({pos:h,size:n,oid:p,title:m,tag:v,tag_tint:w,value:t,body:q,progress:l,hover_dt:r,accent_col:A})=>{let y=1<=l;r=y?0>r?1:1<r?0:r:0;let [C,B]=n,J=[0,-B,0],F=[C,-B,0],I=.03*C;var G=y?[1,1,1,1]:[.7,.7,.7,1];let O=a.v4.mul;var P=O([.09,.09,.09,1],G);let D=O(a.v4.lerp([.8,.8,.8,1],[1,1,1,1],r),G);var L=O([.4,.4,.4,1],G);G=O(a.v4.lerp([.4,.4,.4,1],[.7,.7,.7,1],r),G);p=b.rect_fill({pos:[0,
0,-.01],size:n,tint:P,origin:[0,1],overlap_id:p});P=b.line({from:J,to:a.v3.lerp([0,0,0],J,.5),width:.5,tint:G});l=b.line({from:J,to:a.v3.lerp(J,F,l),width:.5,tint:G});n=e([0,0],n);m=b.group({tint:w,pos:f(n.pos_pct(.05,.5))},[c({enabled:y,hover_dt:r,title:m,tag:v,accent_col:A})]);t=b.text({pos:[I,-B+.75*I,0],text:t,size:5,tint:L,font:"B612 Mono",subfamily:"Italic",align:["bottom","left"]});L=b.text({text:"//",pos:f(n.pos_pct(2/3,.5),.1),font:"B612 Mono",tint:[A[0],A[1],A[2],a.lerp(.4,1,r)],size:8,
align:["center","center"]});r=b.text({text:"//",pos:f(n.pos_pct(2/3+.005,.52)),font:"B612 Mono",tint:[A[0],A[1],A[2],a.lerp(.1,.5,r)],size:8,align:["center","center"]});q=b.text({text:q,pos:[C-I,-B/2,0],size:6,tint:D,font:"B612 Mono",align:["center","right"]});return b.group({pos:h},[p,P,l,m,t,r,L,q])}}}),rf=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),{layout:e,l2v:f}=Ba(),{fab_header_text:d}=gc(),{fab_shop_button:g}=qf(),{system_stats:c,system_stat_cost:h,max_buy_count:n}=fb(),{stringify_bits:p,
stringify_round:m,stringify_cash:v}=Ob(),w=(t,q)=>{let l=(r,A,y)=>{let C=q==A;return a.group(null,[a.rect_fill({pos:[0,0,-.01],size:r,tint:[1,0,0,0],origin:[0,1],overlap_id:y}),a.group({pos:[r[0]/2,.3*-r[1],0]},[C&&a.text({size:5,text:A,font:"B612 Mono",tint:[1,0,0,.2],align:["center","center"],pos:[1,1,-1]}),a.text({size:5,text:A,font:"B612 Mono",tint:C?[1,1,1,1]:[.3,.3,.3,1],align:["center","center"]})])])};t=e([.6*t[0],0],[.4*t[0],t[1]]).vsplit_n(3);return a.group(null,[d("systeM_ctRl"),a.group({pos:f(t[0].pos(0,
0))},[l(t[0].size(),"x1","multibuy_btn_x1")]),a.group({pos:f(t[1].pos(0,0))},[l(t[1].size(),"x5","multibuy_btn_x5")]),a.group({pos:f(t[2].pos(0,0))},[l(t[2].size(),"max","multibuy_btn_max")])])};z.exports={fab_system_stats:({total_upgrades:t,size:q,time:l,stat_levels:r,stat_overwrites:A,cash:y,rich_overlaps:C,paused:B,multibuy_setting:J,show_hover_effects:F,state:I,self_state:G})=>{q=e([0,0],q);let [O,P]=q.hsplit_pct(.07),D=P.hsplit_n(7);q=Object.keys(c).filter(M=>!I.hidden_stats.includes(M));let L=
G.item_fx_liquid_cache?v:p;return a.group(null,[a.group({pos:f(O.pos_pct(0,0))},[w(O.size(),J)]),a.group(null,q.map((M,X)=>{X=D[X].pad(0,2);let ea=`system_stat_btn_${M}`,V=r[M],H=A[M];var ca="x1"==J?1:"x5"==J?5:n(G,y,t,M)||1;ca=b.range(0,ca).map(da=>h(G,M,t+da)).reduce((da,fa)=>da+fa);var U=m(ca);U=b.clamp(0,1,y/U);let W=B||!F?{}:C[ea]||{};return g({state:I,pos:f(X.pos(0,0)),size:X.size(),oid:ea,title:c[M].label,accent_col:c[M].col,tag:`v${H||V}`,tag_tint:null==H||H==V?[1,1,1,1]:H<V?[1,0,0,1]:[0,
1,0,1],value:"",body:L(ca),progress:U,hover_dt:W.overlap?b.ease.elastic_i(b.clamp(0,1,(l-W.start_at)/15)):1-b.clamp(0,1,(l-(W.stop_at||-1/0))/10)})}))])}}}),sf=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),{system_stats:e}=fb(),{fab_tooltip:f}=hc();z.exports={fab_system_stats_tooltips:({state:d,dt:g})=>{let c=d.ticks+g;return a.group({pos:[0,0,10]},Object.keys(e).map((h,n)=>{var p=d.rich_overlaps[`system_stat_btn_${h}`];if(!p||!(p.overlap||100>c-p.stop_at))return!1;h=e[h];if(p.overlap)p=b.clamp(0,1,
(c-p.start_at-10)/20);else{var m=b.clamp(0,1,(p.stop_at-p.start_at-10)/20);p=(1-b.clamp(0,1,(c-p.stop_at)/15))*m}m=b.lerp(105,115,b.ease.io2(p));n=24*-n;let v=38+6.3*h.desc.split("\n").length;return a.group({pos:[m,n,0]},[f({size:[145,v],appear:b.ease.io3(p),subject:h.label,body:h.desc})])}))}}}),tf=R((x,z)=>{wa();z.exports=({})=>!1}),uf=R((x,z)=>{var {fabs:b}=sa()(),a=Pb(),{math:e}=na(),{TEMP_WARNING:f,TEMP_CRITICAL:d}=Cb(),g=(c,h,n)=>{let p=[];for(let m=0;m<n.length;m++){let v=e.clamp(0,1,(h-0)/
(n[m][0]-0));p.push({x:0,width:(n[m][0]-0)*v*c[0],col:n[m][1]})}return b.group(null,p.map(({x:m,width:v,col:w})=>b.rect_fill({pos:[m,0,0],size:[v,c[1]],tint:w})))};z.exports=({pos:c,label:h,size:n,value:p,recent_max:m,max:v,formatter:w,time:t,trace_active:q})=>{let l=p>=v?[1,0,0,1]:[1,1,1,1],r=e.clamp(0,1,m/v),A=m<f?[1,1,1,1]:m<d?[1,.9,.1,1]:[1,.05,.05,1];return b.group({pos:[c[0],c[1]-n[1],c[2]]},[b.text({pos:[0,n[1],0],text:h,size:6.5,tint:l,font:"Major Mono Display",align:["top","left"]}),b.text({pos:[.96*
n[0],n[1],0],text:w(p),size:6.5,tint:l,font:"B612 Mono",align:["top","right"]}),b.text({pos:[.975*n[0],1.05*n[1],0],text:"o",size:3,tint:l,font:"B612 Mono",align:["top","right"]}),b.text({pos:[n[0],n[1],0],text:"C",size:4,tint:l,font:"B612 Mono",align:["top","right"]}),g([n[0],1],1,[[f/v,[1,1,1,.2]],[d/v,[1,.9,.1,.2]],[v,[1,0,0,.2]]]),b.group({pos:[0,0,.01]},[g([n[0],1],e.clamp(0,1,p/v),[[f/v,[1,1,1,1]],[d/v,[1,.9,.1,1]],[v,[1,0,0,1]]])]),b.rect_fill({pos:[n[0]*r,0,.02],size:[.005*n[0],.4*n[1]],tint:A}),
q&&m>f&&a(t,.7*n[0],.7*n[1],2222),q&&m>d&&a(t,.9*n[0],.2*-n[1],3333)])}}),vf=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=({size:e,time:f})=>{f=b.text({text:"err_sk missing_thermocouple",font:"Major Mono Display",tint:[1,1,1,a.ranged_sin(f+10.5,.3,.35)],size:5,align:["center","center"],pos:[e[0]/2,-e[1]/2,0]});let d=[.1,.1,.1,1],g=b.rect_stroke({pos:[e[0]/2,-e[1]/2,0],size:e,origin:[.5,.5],tint:d,width:1}),c=[];return c.push(b.line({from:[0,0,0],to:[e[0],-e[1],0],tint:d,width:1})),c.push(b.line({from:[0,
-e[1],0],to:[e[0],0,0],tint:d,width:1})),b.group(null,[b.group({pos:[0,0,-.1]},c),g,f])}}),wf=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=(e,f)=>{f=b.text({text:"err_sk missing_ai_module",font:"Major Mono Display",tint:[1,1,1,(4<Math.floor(f/20)%6?.2:.4)+a.ranged_sin(f,0,.1)],size:6,align:["center","center"],pos:[e[0]/2,-e[1]/2,0]});let d=[.1,.1,.1,1],g=b.rect_stroke({pos:[e[0]/2,-e[1]/2,0],size:e,origin:[.5,.5],tint:d,width:1}),c=[];return c.push(b.line({from:[0,0,0],to:[e[0],-e[1],0],tint:d,width:1})),
c.push(b.line({from:[0,-e[1],0],to:[e[0],0,0],tint:d,width:1})),b.group(null,[b.group({pos:[0,0,-.1]},c),g,f])}}),xf=R((x,z)=>{var {fabs:b,math:a,lru_cache:e}=wa(),f=(d,g)=>e.fetch(`delta_meter_grid_pips/${Math.floor(100*d[0])}/${Math.floor(100*d[1])}/${Math.floor(100*g)}`,()=>{let c=Math.floor(d[0]/4),h=Math.floor(d[1]/4),n=[];for(let p=0;p<c;p++)for(let m=0;m<h;m++){let v=[a.lerp(0,d[0],p/(c-1)),a.lerp(0,d[1],m/(h-1)),0];n.push(b.text({text:"+",font:"B612 Mono",tint:[.3,.3,.3,.7*g],size:2,pos:v}))}return n});
z.exports=({pos:d,size:g,time:c,exp:h,goal:n,delta:p,overlaps:m,oid:v})=>{var w=a.noise(232,2,1,c/20),t=m[v]||{};m=t.overlap?"over":"out";let {start_at:q,stop_at:l}=t;t=c-l||1/0;c="over"==m?a.ease.flicker(a.ease.elastic_i(a.clamp(0,1,(c-q||1/0)/20))):a.ease.io3(1-a.clamp(0,1,t/30));w=a.lerp(a.lerp(.6,.9,c),a.lerp(.7,1,c),w);m=r=>{let A=[1,1,1,r],y=a.lerp(0,g[0],a.clamp(0,1,h/n));return[b.group({pos:[0,0,-.1]},f(g,r)),b.text({pos:[0,g[1],0],text:"venus exp.",size:6.5,tint:A,font:"Major Mono Display",
align:["top","left"]}),b.text({pos:[0,.7*g[1],0],text:"expansion-interface  P0@1\ninference-agent      venus-m2.55",size:3.5,line_height:1.4,tint:[.3,.3,.3,r],font:"B612 Mono",align:["top","left"]}),b.text({pos:[g[0],g[1],0],text:"A"+p,size:12,tint:1>p?[.5,.5,.5,r]:[1,1,0,r],font:"Major Mono Display",align:["top","right"]}),b.line({from:[0,0,0],to:[g[0],0,0],width:1,tint:[.2,.2,.2,1*r]}),b.group({pos:[g[0],.1*g[1],0],scale:[1,1,1]},[b.text({size:3.5,tint:A,font:"B612 Mono",align:["bottom","right"],
parts:[{text:"VENUS reports ",tint:[.3,.3,.3,r]},{text:`[${Math.floor(h)}`},{text:`/${Math.floor(n)}`,tint:[.5,.5,.5,r]},{text:"]"},{text:" blocks vectorized",tint:[.3,.3,.3,r]}]})]),b.text({pos:[g[0]/2,g[1]/2,.1],text:"install hardMod",size:10.5,tint:A,font:"Major Mono Display",align:["center","center"]}),b.line({from:[0,0,.01],to:[y,0,.01],width:1,tint:A})]};return b.group({pos:[d[0],d[1]-g[1],d[2]]},[b.rect_fill({size:g,pos:d,tint:[1,0,0,0],overlap_id:v}),b.group({pos:[0,0,a.lerp(-4,-3.5,a.ease.io3(c))]},
m(.2*w)),b.group(null,m(w))])}}),yf=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),{layout:e,l2v:f}=Ba(),{fab_meter:d}=kf(),{stringify_bits:g,stringify_count:c}=Ob(),{stat_max_cash:h}=nb(),{fab_firmware_header:n}=lf(),{fab_firmware_tooltips:p}=mf(),{fab_firmware_buttons:m}=pf(),{fab_system_stats:v}=rf(),{fab_system_stats_tooltips:w}=sf(),{system_stats:t}=fb(),{has_item:q}=db(),l=tf(),r=uf(),A=vf(),y=wf(),C=xf(),{system_stat:B}=ab(),J=[0,-36,.01],F=[123,-36,.01],I=e([J[0],-J[1]+24],[111,174]),G=e([F[0],
-F[1]+24],[111,174]);z.exports=({self:O,state:P,dt:D,reveal:L,show_hover_effects:M})=>{let X=P.ticks+D,ea=.26<L,V=.33<L,H=.48<L,ca=.56<L;L=.63<L;let U=O.state.receive_input&&!O.state.paused&&M,W=Object.keys(t).reduce((E,Q)=>{let T=O.state.paused||!M?{}:P.rich_overlaps[`system_stat_btn_${Q}`]||{};return E[Q]=T.overlap?b.ease.elastic_i(b.clamp(0,1,(X-T.start_at)/15)):1-b.clamp(0,1,(X-(T.stop_at||-1/0))/10),E},{}),da=!!O.state.item_fx_data_lens,fa=O.state.item_fx_liquid_cache?P.irl_cash:O.state.cash,
ba=q(O.state,"ai_module"),S=q(O.state,"thermocouple"),k=!P.flags.bought_delta&&3<=P.currency_delta,u=k?b.ease.flicker(b.ease.circular_io(b.ranged_sin(X/10,0,1))):0;return a.group({pos:[-30,320,0]},[ea&&ba&&a.group({tint:k?b.v4.lerp([1,1,1,1],[1,1,0,1],u):[1,1,1,1]},[a.rect_fill({pos:[0,0,-.5],size:[234,24],tint:[1,1,0,k?b.lerp(0,.1,u):0],origin:[0,1]}),C({pos:[0,0,0],size:[234,24],time:X,exp:P.currency_exp,goal:P.next_exp_goal,delta:P.currency_delta,overlaps:P.rich_overlaps,enabled_dt:P.delta_shop_btn_enabled_dt,
oid:"open_delta_shop_btn"})]),ea&&!ba&&y([234,24],X),V&&d({pos:J,size:[111,12],label:"meMoRy",value:O.state.cash,max:h(O.state),formatter:g}),V&&da&&l({pos:J,size:[111,12],dt:O.state.cash/h(O.state),time:X}),H&&S&&r({pos:F,size:[111,12],label:"coRe teMp",value:O.state.system_temp,average:O.state.system_temp_avg,recent_max:O.state.system_temp_recent_max,max:100,formatter:c,time:X,trace_active:"tracing"==P.detection_mode}),H&&!S&&a.group({pos:F},[A({size:[111,12],time:X})]),ca&&a.group({pos:f(I.pos(0,
0))},[v({state:P,self_state:O.state,size:I.size(),time:X,stat_levels:O.state.system_stats,stat_overwrites:{cpu_speed:B(P,"cpu_speed")},cash:fa,rich_overlaps:P.rich_overlaps,total_upgrades:O.state.system_stats_upgrade_count,multibuy_setting:O.state.multibuy,show_hover_effects:M}),U&&w({self:O,state:P,dt:D})]),L&&a.group({pos:f(G.pos(0,0))},[ba&&n,m({size:G.size(),hover_dts:W,ai_active:ba,self:O,state:P,dt:D}),U&&ba&&p({self:O,state:P,dt:D})])])}}),tb=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=({size:e,
text:f,oid:d,overlap:g,show_dt:c})=>{let h=a.ease.flicker(a.ease.elastic_io(c));return b.group(null,[b.rect_stroke({pos:[0,0,.1],tint:[.6,.6,0,(g?.3:.2)*h],size:e,origin:[1,0],width:.5}),1==c&&b.rect_fill({pos:[0,0,4],tint:[1,1,1,0],size:e,origin:[1,0],overlap_id:d}),b.rect_stroke({pos:[0,0,4],tint:[.6,.6,0,(g?.8:.6)*h],size:e,origin:[1,0],width:.5}),b.text({pos:[-e[0]/2,e[1]/2,4.1],text:f,align:["center","center"],tint:[1,1,.3,h],size:5,font:"Major Mono Display"})])}}),zf=R((x,z)=>{var {u:b}=Fa(),
{fabs:a}=sa()(),{layout:e}=Ba(),{lru_cache:f}=ob(),{math:d}=na(),{flatten_tree:g}=bb(),c=tb(),{firmware_info:h}=Xa(),n=(l,r)=>[l[0],-l[1],r||0],p=({pos:l,size:r,tint:A,z:y,overlap_id:C})=>a.rect_fill({pos:n(l,y),size:r,origin:[0,1],tint:A,overlap_id:C}),m=({size:l,option_data:r,time:A,enabled:y,overlap:C,unlock_bg:B,overlaps:J,unlock_mod:F})=>{var I=d.noise(232,2,1,A/20),G=C||{};C=y&&G.overlap?"over":"out";let {start_at:O,stop_at:P}=G;G=A-P||1/0;C=0<B?1:"over"==C?d.ease.flicker(d.ease.elastic_i(d.clamp(0,
1,(A-O||1/0)/15))):d.ease.io3(1-d.clamp(0,1,G/20));let D=d.lerp(d.lerp(.6,.9,C),d.lerp(.8,1,C),I)*(y?1:.5),L=e([0,0],l);y=[];I=d.lerp(1,10,d.unlerp(.6,1,D));for(C=0;C<I;C++){G=d.seeded_rand(1E3*C);var M=Math.floor(A/d.lerp(6,10,G()));let V=d.noise(12345*G(),2,1,100*M);var X=d.noise(12345*G(),2,1,100*M);let H=d.noise(12345*G(),2,1,100*M);M=d.noise(12345*G(),2,1,100*M);X=L.pad(d.lerp(1,3,V),d.lerp(1,3,X));let [ca,U,W]=d.array_sample(1E3*G(),[[1,1,0],[1,1,0],[0,1,1],[1,0,1]]);y.push(a.group(null,[a.rect_stroke({pos:n(d.v2.add(X.pos_pct(.5,
.5),[d.lerp(-2,2,H),d.lerp(-2,2,M)])),size:X.size(),origin:[.5,.5],tint:[ca,U,W,d.lerp(V,1,B)],width:d.lerp(.1,.1,B)})]))}y=a.group(null,y);let ea=g(a.text({text:"RecAll",size:3,font:"Major Mono Display",kern_scale:.9}),null,[1,1,1,1],[]);I=(V,H,ca,U,W,da)=>{let fa=L.size_pct(.5,-.5),ba=d.lerp(-20,20,d.noise(33,2,1,H)),S=d.lerp(-20,20,d.noise(33,2,1,H));U=d.v3.add([fa[0],fa[1],0],[ba,S,150*U+d.ranged_sin(A/40+H,0,30)]);return a.group({pos:U},b.times(V,k=>{k=k/V*Math.PI*2+A/200+H;var u=d.noise2d(H,
1,.5,Math.cos(k)+A/200,Math.sin(k)+A/200);u=d.v2.polar(k,d.lerp(W+10,da+10,u));return a.group({pos:[u[0],u[1],0],rot:[0,0,k],tint:[1*ca,1*ca,1*ca,1]},[ea])}))};return a.group({pos:[0,0,6]},[a.rect_fill({pos:[0,0,-.05],size:[400,400],origin:[.5,.5],tint:[0,0,0,.8*d.clamp(0,1,d.unlerp(0,.6,B))]}),a.group({tint:[1,1,1,d.ease.i3(1-d.clamp(0,1,d.unlerp(0,.15,B)))]},[y]),a.group({pos:d.v3.lerp([0,0,0],[d.lerp(-1,1,d.ease.bounce_i(d.noise(3,2,1,A/40))),d.lerp(-1,1,d.ease.bounce_o(d.noise(4,2,1,A/40))),0],
B),tint:[1,1,1,d.ease.i3(1-d.clamp(0,1,d.unlerp(.8,.9,B)))]},[a.group({pos:n(L.pos_pct(.5,.5)),scale:d.v3.lerp([.5,.5,1],[.1,.1,1],d.clamp(0,1,d.unlerp(0,.2,B)))},[((V,H)=>{let ca=[];for(let U=0;10>U;U++){let W=Math.floor((A+H)/Math.floor(d.lerp(9,6,d.unlerp(.6,1,D)))),da=d.lerp(d.lerp(.05,.3,D),.05,U/9),fa=d.lerp(V,.7*V,U/10);ca.push(a.rect_fill({pos:[0,0,.001*U],rot:[123*W+1100*U,234*W+1234*U,321*W+1234*U],size:L.size_pct(da,da),tint:[fa,fa,fa,1],origin:[.5,.5]}))}return a.group(null,ca)})(r.core_cols[0],
0)])]),0<B&&a.group({tint:[1,1,1,d.ease.io2(d.clamp(0,1,d.unlerp(.15,.6,B)))],scale:[1,1,d.ease.io2(d.clamp(0,1,d.unlerp(.15,.9,B)))]},[I(80,313,.2,0,10,25),I(90,413,.4,.1,25,30),I(100,513,.6,.2,30,40),I(120,613,1,.3,40,50),I(100,383,.2,0,20,25),I(110,483,.4,.1,25,30),I(120,583,.6,.2,30,40),I(140,683,1,.3,30,50)]),0<B&&a.group({tint:[1,1,1,d.ease.io2(d.clamp(0,1,d.unlerp(.9,1,B)))],pos:[0,-4+4*d.ease.io3(d.clamp(0,1,d.unlerp(.8,1,B))),0]},[a.group({pos:[l[0]/2-35-2,-l[1]/2+17.5,50],rot:[0,.4,0]},
[a.rect_stroke({size:[36,36],tint:[1,1,1,.3],origin:[.5/35,1-.5/35],pos:[0,0,2],width:.1}),a.rect_stroke({size:[37,37],tint:[1,1,1,.8],origin:[1/35,1-1/35],pos:[0,0,2],width:.1}),a.rect_fill({size:[35,35],tint:[0,0,0,.8],origin:[0,1],pos:[0,0,-.1]}),...v([35,35]),w({size:[35,35],overlap:{},option_data:h(F),time:A,reveal:1,bought:0,enabled:1,blacklisting:!1})])]),0<B&&a.group({tint:[1,1,1,d.ease.io2(d.clamp(0,1,d.unlerp(.95,1,B)))]},[a.shadow({tint:[1,1,1,.3],z:-2,fab:()=>a.group({pos:[l[0]/2+2,-l[1]/
2,50]},[a.text({text:t("venus remembers...",A,.9),font:"Major Mono Display",size:3,tint:[1,1,1,1],pos:[0,7,0]}),a.text({text:"a new hardmod has been\npermanently unlocked",font:"Major Mono Display",size:2,tint:[1,1,1,1],line_height:1.4,pos:[0,2,0]}),a.group({pos:[30,-12,0],scale:[.5,.5,1]},[c({size:[60,8],text:"ok",oid:"delta_shop_unlock_accept",overlap:(J.delta_shop_unlock_accept||{}).overlap,show_dt:1})])])})])])},v=l=>{let r=["fab_option_grid_pips",Math.floor(100*l[0]),Math.floor(100*l[1])].join("/");
return f.fetch(r,()=>{let A=Math.floor(.6*l[0]/2),y=Math.floor(l[1]/2),C=[];for(let B=0;B<A;B++)for(let J=0;J<y;J++){let F=[d.lerp(.2*l[0],.8*l[0],B/(A-1)),d.lerp(0,-l[1],J/(y-1)),0];C.push(a.text({text:"+",font:"B612 Mono",tint:[1,1,1,.15],size:1,pos:F}))}return C})},w=({size:l,overlap:r,option_data:A,time:y,reveal:C,bought:B,enabled:J,blacklisting:F})=>{let I={utility_upgrade:"UTILITY MOD",utility:"SYSTEM UTILITY",system_upgrade:"SYSTEM MOD"}[A.type]||"UNKNOWN",G={utility_upgrade:[0,1,1],utility:[1,
0,1],system_upgrade:[1,1,1]}[A.type]||[1,1,1];var O=d.noise(232,2,1,y/20),P=r||{};r=J&&P.overlap?"over":"out";let {start_at:D,stop_at:L}=P;P=y-L||1/0;let M="over"==r?d.ease.flicker(d.ease.elastic_i(d.clamp(0,1,(y-D||1/0)/15))):d.ease.io3(1-d.clamp(0,1,P/20));O=d.lerp(d.lerp(.6,.9,M),d.lerp(.8,1,M),O)*(J?1:.5);let X=A.label,ea=A.desc.slice(0,Math.ceil(A.desc.length*d.ease.bounce_io(C))),V=(A.flavor||"").slice(0,Math.ceil((A.flavor||"").length*d.ease.exp_io(C)));r=H=>[.5<M&&a.group({pos:[0,0,-.1]},
v(l)),a.rect_fill({size:[l[0],.1*l[1]*d.ease.flicker(d.ease.bounce_o(C))],tint:[...G,.6*H],pos:[0,.2*-l[1],0]}),a.text({text:X,font:"B612 Mono",size:1.5,tint:[0,0,0,1],align:["center","left"],pos:[.1*l[0],.15*-l[1],.1]}),a.text({text:I.slice(0,Math.ceil(I.length*d.ease.flicker(d.ease.elastic_io(C)))),font:"B612 Mono",size:1,tint:[...G,H],align:["center","left"],pos:[.1*l[0],.15*-l[1]-3,0]}),a.text({font:"B612 Mono",margin:.8*l[0],line_height:1.4,size:1.2,tint:[1,1,1,H],align:["top","left"],pos:[.1*
l[0],.15*-l[1]-6,0],parts:[{text:ea},{text:"\n\n"+V,subfamily:"Italic",tint:[.4,.4,.4,H]}]}),!F&&a.text({text:"A"+A.cost,font:"Major Mono Display",size:4,tint:[1,1,0,d.ease.flicker(d.ease.elastic_o(C))*(J?H:d.lerp(.7*H,H,d.ease.bounce_io(d.ranged_sin(y/10,0,1))))],align:["bottom","right"],pos:[.9*l[0],.9*-l[1],0]}),F&&a.group({pos:[l[0]/2,-l[1]/2,1],scale:[.6,.6,1],tint:[1,1,1,d.lerp(0,.6,H*H)]},[a.line({from:[-l[0]/2,l[1]/2,0],to:[l[0]/2,-l[1]/2,0],width:3,tint:[.8,0,0,1]}),a.line({from:[l[0]/2,
l[1]/2,.1],to:[-l[0]/2,-l[1]/2,.1],width:3,tint:[.8,0,0,1]})])];return a.group({pos:[0,0,d.lerp(0,15,d.ease.elastic_io(B))],tint:[1,1,1,.1<C?1:0]},[a.group(null,r(.2*O)),a.group({pos:[0,0,d.lerp(4,5,d.ease.circular_io(M))]},r(O))])},t=(l,r,A)=>{r=d.seeded_rand(1E3*Math.floor(r/2));if(r()<(A||.95))return l;A=Math.floor(r()*l.length);l=l.split("");r=.5>r()?l[A].toUpperCase():" ";return l[A]=r,l.join("")},q=({time:l,show:r,before:A,change:y})=>{A=Math.floor(A||0);y=y||0;let C=d.ease,B=C.seq([{len:.1,
fn:C.flickerf(C.elastic_io)},{len:.8,fn:C.hold(1)},{len:.1,fn:C.inv(C.io3)}])(r),J=C.seq([{len:.3,fn:C.hold(0)},{len:.3,fn:C.io3},{len:.4,fn:C.hold(1)}])(r),F=C.seq([{len:.2,fn:C.hold(0)},{len:.1,fn:C.flickerf(C.elastic_io)},{len:.7,fn:C.hold(1)}])(r),I=d.lerp(.7,.9,d.noise(132,2,1,l/5));return a.group({tint:[1,1,1,B],pos:[-28,-7,0]},[a.shadow({tint:[1,.4,.4,.2],z:-8,fab:()=>a.group({pos:[0,0,8.1]},[a.text({pos:[28,0,0],text:d.lerp(A,A+y,J).toFixed(0),font:"Major Mono Display",tint:d.v4.lerp([1,1,
1,I],[1,.2,.2,I],J),size:18,kern_scale:.8,align:["bottom","right"]}),a.text({pos:[28,d.lerp(8,10,F),0],text:"+A"+y.toFixed(0),font:"Major Mono Display",tint:[1,1,0,d.lerp(.7,.9,I)*F],size:6}),a.text({pos:[28,7,0],text:"your trespass is\ndrawing attention",font:"Major Mono Display",tint:[1,.7,.7,d.lerp(0,1,I)*F],size:2,align:["top","left"]}),a.text({text:"sigtrace increased",font:"Major Mono Display",tint:[1,1,1,d.lerp(.3,.8,I)],size:2,align:["top","left"]})])})])};z.exports=({time:l,size:r,options:A,
options_enabled:y,highlighted_option:C,reveal:B,reveal_options:J,bought_options:F,rich_overlaps:I,currency_delta:G,blacklisting:O,blacklist_count:P,sigtrace_anim_before:D,sigtrace_anim_change:L,sigtrace_anim_show:M,delta_shop_unlock_bg:X,unlock_mod:ea})=>{let V=d.ease.seq([{len:.7,fn:d.ease.io3},{len:.3,fn:d.ease.hold(1)}])(B),H=d.lerp(1,1,V),ca=d.lerp(-5,0,V);var U=e([-r[0]/2,-r[1]/2],r);let [W,da]=U.hsplit_pcts([.2,.8]),fa=p({pos:U.pos(0,0),z:-.01,size:U.size(),tint:[0,0,0,.9*V]}),ba=W.pad(20,2),
S=t("hArd-sYnthesis v0.0.14rc3",l),k=oa=>(oa*=V,[a.text({pos:n(ba.pos_pct(.5,.5)),text:S,font:"Major Mono Display",tint:[1,oa,oa,oa],size:3,align:["top","center"]})]);var u=da.pad(2,0).vsplit_n(A.length);u=a.group(null,u.map((oa,pa)=>{let va=C==pa;oa=oa.pad(1,0);let za=d.ease.seq([{len:.2,fn:d.ease.hold(0)},{len:.8,fn:d.ease.linear}])(Math.min(J[pa],B));var Ja=A[pa].unlock;let Sa=Ja?m:w,Qa=y[pa],Ea="modal_option_"+pa;var Aa=d.clamp(0,1,d.unlerp(0,.2,X));let La=d.ease.io3(Aa);Aa=Ja?d.v2.lerp(oa.size(),
[140,80],La):oa.size();Ja=Ja?d.v2.lerp(oa.pos(0,0),[-70,-40],La):oa.pos(0,0);return a.group(null,[Qa&&p({pos:oa.pos(0,0),size:oa.size(),tint:[1,0,0,0],overlap_id:Ea}),a.group({pos:n(Ja)},[Sa({size:Aa,highlighted:va,option_data:A[pa],time:l,reveal:za,overlap:I[Ea],enabled:Qa,bought:F[pa],blacklisting:O,unlock_bg:X,overlaps:I,unlock_mod:ea})])])}));var E=[];for(var Q=0;100>Q;Q++){var T=d.ranged_sin((l+5*Q)/27,.05,.15);let oa=d.ranged_sin((l/10+12*Q+1234)/83,.05,.15);var aa=Math.min(T,oa);T=Math.max(T,
oa);E.push(p({pos:U.pos_pct(Q/100,aa),size:U.size_pct(.002,T-aa),tint:[1,1,1,.1*V]}))}U=a.group(null,E);let ia=t("regenerate",l+1234),K=2<=G;E=I.delta_shop_reroll_btn||{};G=K&&E.overlap?"over":"out";let {start_at:ha,stop_at:Y}=E;E=l-Y||1/0;let ja="over"==G?d.ease.flicker(d.ease.elastic_io(d.clamp(0,1,(l-ha||1/0)/15))):d.ease.io3(1-d.clamp(0,1,E/20));G=d.lerp(.8,1,ja);let N=t("blacklist",l+12345),Z=3>P;Q=I.delta_shop_blacklist_btn||{};E=Z&&Q.overlap?"over":"out";let {start_at:ka,stop_at:la}=Q;Q=l-
la||1/0;let ma="over"==E?d.ease.flicker(d.ease.elastic_io(d.clamp(0,1,(l-ka||1/0)/15))):d.ease.io3(1-d.clamp(0,1,Q/20));E=d.lerp(.8,1,ma);aa=I.delta_shop_close_btn||{};Q=aa.overlap?"over":"out";let {start_at:qa,stop_at:ta}=aa;aa=l-ta||1/0;Q="over"==Q?d.ease.flicker(d.ease.elastic_io(d.clamp(0,1,(l-qa||1/0)/15))):d.ease.io3(1-d.clamp(0,1,aa/20));Q=d.lerp(.8,1,Q);let ua=(oa,pa,va)=>{let za=[0,0,0],Ja=[oa[0],0,0],Sa=[0,oa[1],0];oa=[oa[0],oa[1],0];let Qa=[];for(let La=0;30>La;La++){var Ea=(La/30+l/650)%
1,Aa=d.lerp(.1,.2,pa);let Ua=1-Aa;Aa=Ea<Aa?d.v3.lerp(za,Sa,d.unlerp(0,Aa,Ea)):d.v3.lerp(Sa,oa,d.unlerp(Aa,1,Ea));Ea=Ea<Ua?d.v3.lerp(za,Ja,d.unlerp(0,Ua,Ea)):d.v3.lerp(Ja,oa,d.unlerp(Ua,1,Ea));Qa.push(a.gradient_line({from:Aa,to:Ea,steps:3,tint_a:[1,.6,.6,.1*va],tint_b:[1,.5,.5,.2*va],width:.15}))}return Qa};aa=oa=>[a.text({text:"/",font:"Major Mono Display",size:3,tint:[1,0,0,oa],align:["center","center"]})];T=oa=>{let pa=[r[0],0,0],va=[0,r[1],0],za=[r[0],r[1],0];return[a.line({from:va,to:za,tint:[1,
1,1,oa],width:.2}),a.gradient_line({from:va,to:[0,0,0],steps:16,tint_a:[1,1,1,oa],tint_b:[1,1,1,0],width:.2}),a.gradient_line({from:za,to:pa,steps:16,tint_a:[1,1,1,oa],tint_b:[1,1,1,0],width:.2})]};return a.group({scale:[H,H,1],pos:[0,ca,0]},[a.group({pos:[-r[0]/2,-r[1]/2,0]},[a.group(null,T(.3*V)),a.group({pos:[0,0,4]},T(1*V)),a.group({pos:[.95*r[0],.9*r[1],0]},[a.rect_fill({size:[.07*r[0],.07*r[0]],tint:[1,0,0,0],origin:[.5,.5],overlap_id:"delta_shop_close_btn"}),a.group(null,aa(.4*Q*V)),a.group({pos:[0,
0,4]},aa(Q*V))])]),fa,a.group(null,k(.4*V)),a.group({pos:[0,0,4]},k(1*V)),u,U,a.group({pos:[.45*-r[0],-.45*r[1],d.lerp(4,5,ja)]},((oa,pa)=>{var va=d.noise(13131,2,1,l/10);va=d.lerp(.7,.9,va)*(K?1:.6);va=a.text({pos:[oa[0]/2,oa[1]/2,0],parts:[{text:ia},{text:" A2",tint:[1,1,0,va*pa]}],font:"Major Mono Display",tint:[1,pa,pa,va*pa],size:3,align:["center","center"]});return[K&&a.rect_fill({pos:[0,0,0],size:oa,tint:[1,0,0,0],overlap_id:"delta_shop_reroll_btn"}),va,a.group(null,ua(oa,ja,pa))]})([.4*r[0],
.1*r[1]],G*V)),a.group({pos:[.05*r[0],-.45*r[1],d.lerp(4,5,ma)]},(({size:oa,a:pa,blacklisting:va})=>{var za=d.noise(13131,2,1,l/10);za=d.lerp(.7,.9,za)*(Z?1:.6);za=a.text({pos:[oa[0]/2,oa[1]/2,0],parts:[{text:N},{text:" "+P+"/3",tint:va?[.6,0,0,za*pa]:[1,pa,pa,za*pa]}],font:"Major Mono Display",tint:va?[0,0,0,za*pa]:[1,pa,pa,za*pa],size:3,align:["center","center"]});return[Z&&a.rect_fill({size:oa,tint:[1,0,0,0],overlap_id:"delta_shop_blacklist_btn"}),a.group({tint:[1,1,1,Z?1:.5]},[va&&a.rect_fill({pos:[0,
0,-1],size:oa,tint:[1,1,1,.7]}),za,a.group(null,ua(oa,ma,pa))])]})({size:[.4*r[0],.1*r[1]],a:E*V,blacklisting:O})),q({time:l,show:M,before:D,change:L})])}}),Fb=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()();z.exports={fab_clover:({pos:e,scale:f,time:d,tint:g,width:c,count:h})=>{g=g||[.15,.15,.15,.1];let n=[];h=h||50;for(var p=0;p<h;p++){var m=2*Math.PI/h*(p+d/40),v=b.lerp(-25,25,Math.sin(p/4/(h/50)+d/300/(h/50))/2+.5);let [w,t]=b.polar_to_cart([m,v]);n.push({x:w,y:.5*t-10*Math.pow(1-Math.abs(v)/25,2),
alpha:b.lerp(0,g[3],Math.pow(Math.abs(v)/25,.8))})}h=[];for(p=1;p<n.length-1;p++)m=n[p-1],v=n[p],h.push(a.line({from:[m.x,m.y,0],to:[v.x,v.y,0],width:c||.3,tint:[g[0],g[1],g[2],(m.alpha+v.alpha)/2]}));for(p=0;30>p;p++){v=b.seeded_rand(1E3*p);let w=p;m=n[w];v=n[(w+Math.floor(b.lerp(2,4,v())))%n.length];m&&v&&h.push(a.line({from:[m.x,m.y,0],to:[v.x,v.y,0],width:(c||.3)/3,tint:[g[0],g[1],g[2],(m.alpha+v.alpha)*b.ranged_sin(p+d/30,0,.8)]}))}return a.group({pos:e,scale:f},h)}}}),Af=R((x,z)=>{var {math:b}=
na(),{layout:a}=Ba(),{fabs:e}=sa()(),{fab_clover:f}=Fb(),d=(h,n)=>[h[0],-h[1],n||0],g=({pos:h,size:n,tint:p,z:m,overlap_id:v})=>e.rect_fill({pos:d(h,m),size:n,origin:[0,1],tint:p,overlap_id:v}),c=({box:h,z:n,tint:p,overlap_id:m})=>g({pos:h.pos(0,0),z:n,size:h.size(),tint:p,overlap_id:m});z.exports=({size:h,time:n,loading_dt:p,title:m})=>{var v=a([-h[0]/2,-h[1]/2],h);h=c({box:v,z:-.01,tint:[.8,.8,.8,.9],overlap_id:"reward_modal_ok"});var w=b.noise(12345,1,2,6*p);w=b.lerp(w,1,p);w=Math.floor(10*b.lerp(0,
w,p))/10;p=e.text({pos:d(v.pos_pct(.5,.25)),text:1>p?"downloading...":"download complete",font:"B612 Mono",subfamily:"Italic",tint:[.4,.4,.4,1],size:2,align:["bottom","center"]});m=e.text({pos:d(v.pos_pct(.5,.4)),text:m,font:"B612 Mono",subfamily:"Bold",size:2.5,align:["bottom","center"],tint:[.15,.15,.15,1]});n=f({pos:d(v.pos_pct(.3,.5),-.006),scale:[.8,.8,1],time:n});v=e.group(null,[e.rect_fill({pos:d(v.pos_pct(.2,2/3),-.005),size:v.size_pct(.6,.2),origin:[0,.5],tint:[.15,.15,.15,1]}),e.rect_fill({pos:d(b.v2.add(v.pos_pct(.2,
2/3),[.5,.5]),-.004),size:v.size_pct(b.lerp(0,.6,b.clamp(0,1,w)),.2),origin:[0,.5],tint:[0,.3,0,.2]}),e.rect_fill({pos:d(b.v2.add(v.pos_pct(.2,2/3),[0,0])),size:v.size_pct(b.lerp(0,.6,b.clamp(0,1,w)),.2),origin:[0,.5],tint:[.4,.6,.1,1]})]);return e.group(null,[h,n,p,m,v])}}),ub=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),{layout:e,l2v:f}=Ba();z.exports={fab_scroll_list:({time:d,size:g,visible_count:c,offset:h,data:n,child_fab:p,cursor_overlaps:m,selected_id:v,oid_prefix:w})=>{var t=n.length;let q=
Math.min(1,c/t);t=h/t;let l=1>q,r=Math.min(h,b.clamp(0,n.length,n.length-c));g=e([0,0],g);c=g.hsplit_n(c);return a.group(null,[a.group(null,c.map((A,y)=>{y=r+y;if(n.length<=y)return!1;y=n[y];let C=`${w}_${y.id}`;return a.group({pos:f(A.pos(0,0),.1)},[p({time:d,size:A.size(),data:y,oid:C,hovered:m[C],selected:v==y.id})])})),l&&a.line({from:f(g.pos_pct(.02,t),.2),to:f(g.pos_pct(.02,t+q),.2),width:2,tint:[.5,.5,.5,.5]})])}}}),Bf=R((x,z)=>{var {fabs:b,layout2:a,lru_cache:e,math:f}=wa(),{n:d,draw_layout:g}=
a,{hsplit_pct:c,rh:h}=a.helpers,n=sb(),p=(v,w)=>(v=Math.floor(100*v)%1E3,e.fetch(`scanlines/${v}/${w[0]}/${w[1]}`,()=>{let t=f.seeded_rand(v),q=[];for(let l=0;50>l;l++){let r=t()*-w[1];q.push(b.line({from:[0,r,0],to:[w[0],r,0],width:.7,tint:[.4,.4,.4,.1]}))}return b.group(null,q)})),m=(v,w,t,q)=>l=>{let r=1<t/q?[.4,0,0,f.ranged_sin(v*v,.2,.6)]:[.4,.4,.4,.5];return b.group(null,[b.rect_stroke({pos:[5,-5,-.2],size:l,origin:[0,1],tint:[1,1,1,f.ranged_cos(v*v,.7,1)],width:.3}),b.rect_fill({pos:[0,0,-.1],
size:l,origin:[0,1],tint:[0,0,0,.7]}),b.text({pos:[.07*l[0],.9*-l[1],-.05],rot:[0,0,.5*Math.PI],text:["|","/","-","\\"][Math.floor(v/5)%4]+" kit.v33-YON",font:"Major Mono Display",tint:[.15,.15,.15,1],size:9}),b.line({from:[.14*l[0],0,-.05],to:[.14*l[0],-l[1],-.05],width:.5,tint:[.15,.15,.15,1]}),b.text({pos:[.12*l[0],.9*-l[1],-.05],rot:[0,0,.5*Math.PI],text:"make an impression!",font:"Major Mono Display",tint:[.15,.15,.15,1],size:6}),b.text({pos:[l[0]*(1-.07),.1*-l[1],-.05],rot:[0,0,-.5*Math.PI],
text:["|","/","-","\\"][Math.floor(v/5)%4]+" kit.v33-YON",font:"Major Mono Display",tint:[.15,.15,.15,1],size:9}),b.line({from:[.86*l[0],0,-.05],to:[.86*l[0],-l[1],-.05],width:.5,tint:[.15,.15,.15,1]}),b.text({pos:[.88*l[0],.1*-l[1],-.05],rot:[0,0,-.5*Math.PI],text:"make an impression!",font:"Major Mono Display",tint:[.15,.15,.15,1],size:6}),p(Math.floor(v)%10,l),b.rect_stroke({pos:[0,0,.1],size:l,origin:[0,1],tint:[1,1,1,f.ranged_sin(v*v,.7,1)],width:.3}),!w&&b.group({pos:[.4*l[0],.1*-l[1],.01]},
[b.rect_fill({size:[.55*l[0],.07*l[1]],tint:[0,0,0,.5],origin:[0,.5]}),b.rect_fill({pos:[0,0,.01],size:[.55*l[0]*f.clamp(0,1,t/q),.07*l[1]],tint:r,origin:[0,.5]}),b.rect_fill({pos:[0,-.035*l[1],.02],size:[.55*l[0],.003*l[1]],tint:[1,1,1,.5],origin:[0,.5]}),b.text({text:`${n(t)} / ${n(q)}`,pos:[.54*l[0]+1,-1,.02],font:"B612 Mono",size:4,tint:[0,0,0,.5],align:["center","right"]}),b.text({text:`${n(t)} / ${n(q)}`,pos:[.54*l[0],0,.03],font:"B612 Mono",size:4,tint:[1,1,1,1],align:["center","right"]})]),
0==Math.floor(v/30)%2&&w&&b.text({pos:[l[0]/2,-l[1]/2,0],text:"err_Kit_eMpty",font:"Major Mono Display",size:7,align:["center","center"],tint:[1,1,1,.2]})])};z.exports=({time:v,fab_list:w,fab_detail:t,is_empty:q,content_size:l,max_capacity:r})=>g(d({layout:c(.4),vpad:h(.3),draw:m(v,q,l,r)},[d({draw:w}),d({draw:t})]))}),Cf=R((x,z)=>{var {fabs:b}=wa(),{items:a}=Ia();z.exports=(e,f,d,g)=>c=>{var h=a[e.id];let n=g?[1,1,1,1]:d?[1,1,1,1]:[.7,.7,.7,1],p=g?"Bold":"Regular",m=1==e.count?h.title:`${h.title} (x${e.count.toLocaleString("en-US")})`;
h=(w,t)=>b.rect_fill({pos:[.15*c[0]+w[0],.9*-c[1]+w[1],w[2]],tint:t,size:[.7*c[0],.5*c[1]]});let v=(w,t)=>b.text({pos:[.1*c[0]+w[0],-c[1]/2+w[1],w[2]],text:m,font:"B612 Mono",subfamily:p,size:4,tint:t,align:["center","left"]});return b.group(null,[b.rect_fill({size:c,origin:[0,1],tint:[0,0,0,0],overlap_id:f}),!!g&&h([0,0,-.02],[.5,.5,.5,.5]),!(!d||g)&&v([3,-2,-.01],[1,0,0,.2]),v([0,0,0],n)])}}),Df=R((x,z)=>{var {math:b,fabs:a,layout2:e}=wa(),{n:f,draw_layout:d}=e,{rh:g,abs:c,bottom:h,vstack:n}=e.helpers,
p=sb(),m=q=>f({draw:l=>a.text({text:q,pos:[l[0]/2,-l[1]/2,0],align:["center","center"],size:7,tint:[1,1,1,1]})}),v=q=>f({draw:l=>a.text({text:q,pos:[l[0]/2,-l[1]/2,0],align:["center","center"],size:4,tint:[1,1,1,.5]})}),w=q=>f({draw:l=>a.text({text:q,margin:l[0],size:4,tint:[1,1,1,1],align:["top","left"]})}),t=q=>{let l=(y,C)=>B=>{var J=a.group,F=[0,0,0];B=a.text({pos:[B[0]+F[0],-B[1]/2+F[1],F[2]],text:y,font:"B612 Mono",subfamily:"Regular",size:5,tint:C?[1,1,1,1]:[.5,.5,.5,1],align:["center","right"]});
return J.call(a,null,[B])},r=(y,C,B)=>f({h:c(10)},[f({draw:J=>a.rect_fill({size:[.6*J[0],J[1]],pos:[.4*J[0],-.3*J[1],-.055],origin:[0,1],overlap_id:y,tint:[b.seeded_rand(B)(),b.seeded_rand(B+1)(),0,0]})}),f({draw:J=>a.rect_fill({pos:[.45*J[0],-J[1]/2,-.05],size:[.5*J[0],.6*J[1]],origin:[0,1],tint:[.5,.5,.5,.5]})}),f({draw:l(C.label,C.enabled)})]),A=10*Object.keys(q).length;return f({h:c(A),y:h(g(1)),layout:n},Object.keys(q).map((y,C)=>r(y,q[y],C)))};z.exports=({item:q,options:l})=>{let r=q.title,
A=`// ${q.rarity.toUpperCase()} ${q.category.toUpperCase()}`+(null==q.size?"":`, ${p(q.size)}`);q=q.desc;return d(f({},[f({layout:n},[f({h:g(.2)},[m(r)]),f({h:g(.1)},[v(A)]),f({h:g(.7),pad:g(.2)},[w(q)])]),f({hpad:g(.5)},[t(l)])]))}}),Ef=R((x,z)=>{var {fabs:b,math:a}=wa(),e=Pb(),f=a.seeded_rand(12345);x={a:-Math.PI/2,len:0,p:[0,0],g:0,kids:[]};var d=(n,p)=>{for(let v=0;v<p;v++){var m=a.array_sample(1E4*f(),[-Math.PI/4,0,Math.PI/4]);let w=a.lerp(5,20,f());m={a:n.a+m,len:w,g:n.g+1,kids:[]};.3>f()&&
(n.kids.push(m),d(m,p-1))}};d(x,10);var g=n=>{n.kids.forEach(p=>{p.p=a.v2.add(n.p,a.v2.polar(p.a,p.len));g(p)})};g(x);var c=(n=>{let p=[];for(n=[n];0<n.length;){let m=n.shift();m.kids.forEach(v=>p.push({from:m.p,to:v.p,g:v.g}));n.push(...m.kids)}return p})(x),h=[];for(x=0;50>x;x++){let n=a.lerp(-15.75,15.75,a.ease.io3(x/49));h.push(b.line({from:[n,-6.75,.1],to:[n,6.75,.1],width:.5,tint:[1,1,1,.07]}))}z.exports=({active_dt:n,t:p,oid:m,capacity_dt:v,trace_active:w})=>{let t=[];for(var q=4;q<c.length*
n;q++){var l=c[q];let r=a.mod(l.g-p/4+q/20,11),A=l.g/10*.1;t.push(b.line({from:[l.from[0],l.from[1],A],to:[l.to[0],l.to[1],A],width:.5,tint:[.7,0,0,a.lerp(.7,0,l.g/10/n+a.lerp(.1,0,a.clamp(0,1,r/10/n)))]}))}q=a.lerp(.2,a.ranged_cos(p*p,.5,.6),n);q=[q,q,q,1];l=[1,1,1,a.lerp(.5,a.ranged_sin(p*p,.8,1),n)];return b.group(null,[b.group({pos:[-10,-20,0],rot:[0,0,Math.PI/2],scale:[1.5,1.5,1]},t),b.group({pos:[-20,20,.1]},[b.rect_stroke({size:[78,6],origin:[.5,.5],tint:q,width:.5}),b.rect_stroke({size:[76,
4],origin:[.5,.5],tint:q,width:.5}),b.text({text:"kit injector",tint:l,pos:[0,-12,0],font:"Major Mono Display",size:4,align:["bottom","center"]}),1<v&&b.text({text:"capacity exceeded",tint:a.v4.lerp([0,0,0,1],[.9,.1,.1,1],a.ranged_sin(p*p,.3,1)),pos:[0,-18,0],font:"Major Mono Display",size:4,align:["bottom","center"]}),b.rect_fill({size:[80,20],origin:[.5,.5],tint:[.1,.1,.1,0],overlap_id:m}),b.group({pos:[a.lerp(-20,20,n),0,.1]},[b.rect_fill({size:[35,15],tint:[.1,.1,.1,1],origin:[.5,.5]}),b.group(null,
h)]),w&&1<v&&e(p,52,-3,1234),w&&1.2<v&&e(p,33,-14,4321)])])}}),Ff=R((x,z)=>{var {fabs:b,layout2:a}=wa(),{draw_layout:e,n:f}=a,{rh:d,rw:g}=a.helpers;z.exports=({balance:c})=>e(f({draw:((h,n,p,m)=>v=>b.rect_fill({size:v,tint:[h,n,p,m],origin:[0,1]}))(0,.2,0,.8)},[f({draw:((h,n,p)=>m=>b.group(null,[b.text({pos:[m[0]/2,-m[1]/2,0],size:n,text:h,font:"Ibarra Real Nova",tint:p,align:["center","center"]})]))("LIQUID",16,[1,1,1,.1])},[f({x:g(.1),y:d(.2),draw:((h,n,p)=>m=>b.text({size:n,text:h,font:"B612 Mono",
tint:p,align:["top","left"]}))("ACCT_BALANCE",6,[1,1,1,.7])}),f({x:g(.9),y:d(.8),draw:((h,n,p)=>m=>b.text({size:n,text:h,font:"B612 Mono",tint:p,align:["bottom","right"]}))(`$$${c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,6,[1,1,1,.7])})])]))}),Gf=R((x,z)=>{var {fabs:b,math:a,lru_cache:e}=wa(),f=d=>e.fetch(`disconnect_btn_grid_pips/${Math.floor(100*d[0])}/${Math.floor(100*d[1])}`,()=>{let g=Math.floor(d[0]/4),c=Math.floor(d[1]/4),h=[];for(let n=1;n<g-1;n++)for(let p=
1;p<c-1;p++){let m=[a.lerp(0,d[0],n/(g-1)),a.lerp(0,d[1],p/(c-1)),0];h.push(b.text({text:"+",font:"B612 Mono",tint:[1,1,1,.2],size:2,pos:m}))}return h});z.exports=({size:d,time:g,reveal:c,enabled:h,oid:n,overlap_info:p})=>{let m=a.noise(232,2,1,g/20),v=p.overlap?"over":"out",{start_at:w,stop_at:t}=p;p=g-t||1/0;g="over"==v?a.ease.flicker(a.ease.elastic_i(a.clamp(0,1,(g-w||1/0)/20))):a.ease.io3(1-a.clamp(0,1,p/30));let q=a.lerp(a.lerp(.6,.9,g),a.lerp(.7,1,g),m);return b.group({tint:[1,1,1,a.ease.flicker(a.ease.elastic_io(c))]},
[b.rect_fill({pos:[0,0,-4.1],size:d,tint:[0,0,0,.4]}),h&&b.rect_fill({size:d,tint:[0,0,0,0],overlap_id:n}),b.shadow({tint:[1,1,1,.3],z:-3,fab:()=>{var l=b.group;var r=[1,1,0,1];r=[b.group({pos:[0,0,-4]},[b.line({from:[d[0],d[1],0],to:[0,d[1],0],tint:r,width:.5}),b.gradient_line({from:[0,d[1],0],to:[0,0,0],steps:15,tint_a:r,tint_b:[1,1,0,0],width:.5}),b.gradient_line({from:[d[0],d[1],0],to:[d[0],0,0],steps:15,tint_a:r,tint_b:[1,1,0,0],width:.5})]),b.group({pos:[0,0,-.1]},f(d)),b.text({pos:[d[0]/2,
.55*d[1],.1],parts:[{text:"sever connection"}],size:9.5,tint:r,font:"Major Mono Display",align:["center","center"]})];return l.call(b,{tint:[1,1,1,q]},r)}})])}}),Hf=R((x,z)=>{var {fabs:b,math:a,lru_cache:e}=wa(),f=d=>e.fetch(`scan_btn_grid_pips/${Math.floor(100*d[0])}/${Math.floor(100*d[1])}`,()=>{let g=Math.floor(d[0]/4),c=Math.floor(d[1]/4),h=[];for(let n=1;n<g-1;n++)for(let p=1;p<c-1;p++){let m=[a.lerp(0,d[0],n/(g-1)),a.lerp(0,d[1],p/(c-1)),0];h.push(b.text({text:"+",font:"B612 Mono",tint:[1,1,
1,.2],size:2,pos:m}))}return h});z.exports=({size:d,time:g,reveal:c,enabled:h,oid:n,overlap_info:p})=>{let m=a.noise(232,2,1,g/20),v=p.overlap?"over":"out",{start_at:w,stop_at:t}=p;p=g-t||1/0;g="over"==v?a.ease.flicker(a.ease.elastic_i(a.clamp(0,1,(g-w||1/0)/20))):a.ease.io3(1-a.clamp(0,1,p/30));let q=a.lerp(a.lerp(.6,.9,g),a.lerp(.7,1,g),m);return b.group({tint:[1,1,1,a.ease.flicker(a.ease.elastic_io(c))]},[b.rect_fill({pos:[0,0,-4.1],size:d,tint:[0,0,0,.4]}),h&&b.rect_fill({size:d,tint:[0,0,0,0],
overlap_id:n}),b.shadow({tint:[1,0,0,.3],z:-3,fab:()=>{var l=b.group,r={tint:[1,1,1,q*a.lerp(.8,1,m)]};var A=[1,1,0,1];A=[b.group({pos:[0,0,-4],tint:A},[b.rect_stroke({pos:[d[0]/2,d[1]/2,0],size:a.v2.mul_scalar(d,.9),width:.5,tint:A,origin:[.5,.5]})]),b.group({pos:[0,0,-.1],tint:A},f(d)),b.text({pos:[d[0]/2,.5*d[1],.05],parts:[{text:"autoopticon"}],size:12,tint:[1,1,0,a.lerp(.05,.25,m)],font:"Epetri AIRY-anorexic2",align:["center","center"]}),b.text({pos:[d[0]/2,.65*d[1],.1],parts:[{text:"scan filesystem"}],
size:8.5,tint:A,font:"Major Mono Display",align:["center","center"]}),b.text({pos:[d[0]/2,.4*d[1],.1],parts:[{text:"block analysis complete"}],size:5,tint:[1,.8,0,1],font:"Major Mono Display",align:["center","center"]})];return l.call(b,r,A)}})])}}),If=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=({size:e,time:f,reveal:d,collected:g,max:c})=>{let h=a.noise(232,2,1,f/20);return b.group({tint:[1,1,1,a.ease.io3(d)]},[b.rect_fill({pos:[e[0]/2,e[1]/2,-4.1],size:[.9*e[0],.9*e[1]],origin:[.5,.5],tint:[0,
0,0,.4]}),b.shadow({tint:[1,1,1,.2],z:-4,fab:()=>{var n=b.group,p={tint:[1,1,1,a.lerp(.8,1,h)]};var m=[];for(let w=0;50>w;w++){let t=w/50*e[0]*.8+.1*e[0];var v=a.lerp(0,a.lerp(.3,1,g/c),a.ease.back_i(1-Math.abs(w-25)/25));let q=a.ease.circular_io,l=q(a.noise(525,1,1,f/80+w/4))*e[1]*v+e[1]*(1-v)/2;v=q(a.noise(462,1,1,f/80+w/4))*e[1]*v+e[1]*(1-v)/2;m.push(b.line({from:[t,l,0],to:[t,v,0],width:.3,tint:[1,1,0,.5]}))}m=[...m,b.text({pos:[e[0]/2,.65*e[1],.1],parts:[{text:"tuning scanner"}],size:8.5,tint:[1,
1,1,1],font:"Major Mono Display",align:["center","center"]}),b.text({pos:[e[0]/2,.4*e[1],.1],parts:[{text:Math.floor(g)+"/"+c+" blocks analyzed"}],size:5,tint:[1,1,1,1],font:"Major Mono Display",align:["center","center"]})];return n.call(b,p,m)}})])}}),Jf=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=({size:e,time:f,reveal:d,collected:g,max:c})=>{let h=a.noise(232,2,1,f/40);return b.group({tint:[1,1,1,a.ease.io3(d)]},[b.rect_fill({pos:[e[0]/2,e[1]/2,-4.1],size:[.9*e[0],.9*e[1]],origin:[.5,.5],tint:[0,
0,0,.4]}),b.shadow({tint:[1,1,1,.2],z:-4,fab:()=>{var n=b.group,p={tint:[1,1,1,a.lerp(.6,.8,h)]};var m=[b.text({pos:[e[0]/2,.65*e[1],.1],parts:[{text:"cracking exit key"}],size:8.5,tint:[1,1,1,1],font:"Major Mono Display",align:["center","center"]}),b.text({pos:[e[0]/2,.4*e[1],.1],parts:[{text:Math.floor(g)+"/"+c+" salt mined"}],size:5,tint:[1,1,1,1],font:"Major Mono Display",align:["center","center"]})];return n.call(b,p,m)}})])}}),Kf=R((x,z)=>{var {fabs:b,math:a,layout:e,l2v:f,ui_rect_fill:d}=wa(),
{items:g}=Ia(),{gigs:c}=rb(),{u:h}=Fa(),n=[.07,.06,.06,.7],p=[1,1,1,.8],m=[1,1,1,.6],v=[1,1,.3,1],w=[.2,.2,.2,.5],t=(r,A)=>{A=12+e([0,0],[.9*r,8]).height()*A.length;return e([0,0],[r,A])},q=(r,A)=>{A=Object.values(A).map(y=>t(r,y.reqs).height()).reduce((y,C)=>y+C,0)+16;return e([0,0],[r,A])},l=(r,A,y)=>{let C=t(r,A.reqs);return b.group(null,[b.text({pos:f(C.pos(0,6),0),text:A.heading,size:4,tint:a.v4.mul(p,[1,1,1,y]),font:"B612 Mono",align:["center","left"]}),b.group({pos:f(C.pos(.05*C.width(),12),
0)},A.reqs.map((B,J)=>{var F=b.group;J={pos:[0,J*-e([0,0],[r,8]).height(),0]};let I=e([0,0],[.95*r,8]).pad(0,0);B=b.group(null,[b.rect_fill({pos:f(I.pos(0,0),.05),size:I.size_pct(a.clamp(0,1,B.have/B.need),1),tint:a.v4.mul(w,[1,1,1,y]),origin:[0,1]}),b.text({pos:f(I.pos_pct(.02,.5),.1),text:B.label,size:4,tint:a.v4.mul(B.have>=B.need?v:m,[1,1,1,y]),font:"B612 Mono",subfamily:"Italic",align:["center","left"]}),b.text({pos:f(I.pos_pct(.98,.5),.1),text:`${B.have}/${B.need}`,size:4,tint:a.v4.mul(B.have>=
B.need?v:m,[1,1,1,y]),font:"B612 Mono",subfamily:"Italic",align:["center","right"]})]);return F.call(b,J,[B])}))])};z.exports=({size:r,time:A,notifications:y,open_gigs:C,held_items:B})=>{var J=y.filter(M=>200>=A-M.at);if(0==J.length)return b.group(null,[!1],[r[0],0]);y=h.max_by(M=>M.at,J);let F=J.map(M=>M.item),I=C.filter(M=>0<h.intersection(F,c[M].reqs.map(X=>X.id)).length).reduce((M,X)=>{let ea=c[X];return M[X]=[],ea.reqs.filter(V=>F.includes(V.id)).forEach(V=>{M[X].push({item:V.id,have:B.filter(H=>
H==V.id).length,need:V.count})}),M},{}),G=Math.max(...J.map(M=>a.ease.seq([{len:.05,fn:a.ease.hold(0)},{len:.1,fn:a.ease.flickerf(a.ease.elastic_o)},{len:.75,fn:a.ease.hold(1)},{len:.1,fn:a.ease.inv(a.ease.o2)}])((A-M.at)/200)));C=Math.max(...J.map(M=>a.ease.seq([{len:.15,fn:a.ease.o3},{len:.75,fn:a.ease.hold(1)},{len:.1,fn:a.ease.inv(a.ease.o3)}])((A-M.at)/200)));J=Object.keys(I).map(M=>{let X=I[M];return{heading:"- OPEN GIG: "+c[M].title.toUpperCase(),reqs:X.map(ea=>({have:ea.have,need:ea.need,
label:g[ea.item].title}))}});r=q(r[0],J).size();let O=e(a.v2.mul_scalar(r,-1),r),P=d({pos:O.pos(0,0),size:O.size(),tint:a.v4.mul(n,[1,1,1,C])}),D=e(O.pos(0,0),[O.width(),16]).pad(4,4);y=b.group({pos:[0,0,.1]},[b.text({pos:f(D.pos_pct(0,.5),0),text:`Added [${g[y.item].title}] to KIT`,size:5,font:"B612 Mono",subfamily:"Bold",tint:a.v4.mul(v,[1,1,1,G]),align:["center","left"]}),b.line({from:f(O.pos(0,0),0),to:f(O.pos_pct(1,0),0),width:.7,tint:a.v4.mul(v,[1,1,1,G])})]);let L=16;J=J.map(M=>{let X=e(O.pos(0,
L),t(O.width(),M.reqs).size());return L+=X.height(),b.group({pos:f(X.pos(0,0),.1)},[l(X.width(),M,G)])});return b.group({pos:[0,a.lerp(-10,0,C),0]},[P,y,...J],r)}}),Lf=R((x,z)=>{var {fabs:b,math:a,layout:e,ui_rect_fill:f,l2v:d}=wa(),g=[.07,.06,.06,.7],c=[1,1,1,.8],h=[1,1,.3,1];z.exports=({width:n,time:p,at:m,lifetime:v,title:w,body:t})=>{var q=a.ease.seq([{len:.05,fn:a.ease.hold(0)},{len:.1,fn:a.ease.flickerf(a.ease.elastic_o)},{len:.75,fn:a.ease.hold(1)},{len:.1,fn:a.ease.inv(a.ease.o2)}])((p-m)/
v);v=a.ease.seq([{len:.15,fn:a.ease.o3},{len:.75,fn:a.ease.hold(1)},{len:.1,fn:a.ease.inv(a.ease.o3)}])((p-m)/v);w=b.text({text:w,size:5,font:"B612 Mono",subfamily:"Bold",tint:a.v4.mul(h,[1,1,1,q]),align:["center","left"]});t=b.text({text:t,line_height:1.4,size:4,margin:n-8,font:"B612 Mono",tint:a.v4.mul(c,[1,1,1,q])});n=[n,6+w.size[1]+2+4+t.size[1]+4];var l=e(a.v2.mul_scalar(n,-1),n);p=f({pos:l.pos(0,0),size:l.size(),tint:a.v4.mul(g,[1,1,1,v])});let r=l.pad(4,4);m=b.group;v={pos:[0,a.lerp(-10,0,
v),0]};q=b.line({from:d(l.pos(0,0),0),to:d(l.pos_pct(1,0),0),width:.7,tint:a.v4.mul(h,[1,1,1,q])});l=d(r.pos(0,2),.1);l=b.group({pos:l},[w]);w=d(r.pos(0,w.size[1]+4+4),.1);w=b.group({pos:w},[t]);return m.call(b,v,[p,q,l,w],n)}}),Ha=R((x,z)=>{var {fabs:b}=sa()(),{layout:a,ui_box:e,ui_rect_fill:f,l2v:d}=Ba(),{math:g}=na(),{fab_clover:c}=Fb();x=[280,210];var h=a([-x[0]/2,-x[1]/2],x),[n,p]=h.hsplit_pct(.05),m=n.size()[1];h=a(p.pos_pct(.15,.08),p.size_pct(.8,.8));var v=a(p.pos_pct(.2,.09),p.size_pct(.78,
.8)),w=a(p.pos_pct(.15,.22),p.size_pct(.8,.7)),t=a(p.pos_pct(.2,.1),p.size_pct(.7,.75)),q=a(p.pos_pct(.1,.1),p.size_pct(.7,.75));z.exports={desktop_size:x,desktop_hide_duration:30,fab_window_frame:(l,r,A,y,C)=>{let [B,J]=l.hsplit(m),F=g.lerp(.7,1,g.ease.io4(y)),I=g.lerp(0,1,g.ease.io4(y));y=g.lerp(50,0,g.ease.back_o(y));A=c({pos:d(l.pos_pct(.66,.66),.05),scale:[2.2,2.2,1],time:A/2,tint:[1,1,1,.1]});let G=a(B.pos_pct(.95,0),B.size_pct(.05,1)),O=l.pad(-1,-1);return b.group({scale:[F,I,1],pos:[0,y,.5]},
[b.rect_stroke({pos:d(O.pos(0,0)),size:O.size(),width:.5,tint:[1,1,1,1],origin:[0,1]}),e({box:l,tint:[0,0,0,.94]}),A,b.group({pos:[0,0,.1]},[b.group({pos:d(J.pos(0,0))},[C(J.size())]),f({pos:G.pos(0,0),size:G.size(),tint:[.3,0,0,.1],overlap_id:"close"}),b.line({from:d(G.pos_pct(.3,.7),.1),to:d(G.pos_pct(.7,.3),.1),width:.8,tint:[1,0,0,.8]}),b.text({text:r,pos:d(B.pos_pct(.5,.5)),font:"B612 Mono",size:3,tint:[1,1,1,1],align:["center","center"]})])])},app_switch_duration:10,frame_header_box:n,frame_body_box:p,
gigs_window_box:h,address_window_box:v,files_window_box:w,shop_window_box:t,codex_window_box:q,themes:{default:{title_text_col:[1,1,1,1],minor_text_col:[1,1,1,.3],list_bg_col:[0,0,0,0],list_text_col:[1,1,1,.5],list_hover_bg_col:[1,1,1,.05],list_hover_text_col:[1,1,1,1],list_selected_bg_col:[1,1,1,.1],list_selected_text_col:[1,1,1,1],cta_col:[1,1,0,.8],cta_hover_col:[1,1,0,1]}}}}),Mf=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),{layout:e,ui_box:f,ui_rect_stroke:d,l2v:g}=Ba();({themes:x}=Ha());var c=
x.default;z.exports={fab_complete_gig_button:({size:h,hovered:n})=>{h=e([0,0],h);n=n?c.cta_hover_col:c.cta_col;return b.group(null,[f({box:h,z:.1,tint:[0,0,0,0],overlap_id:"complete_gig_btn"}),d({pos:h.pos(1.5,1.5),z:-.05,size:h.size(),tint:a.v4.mul(n,[1,1,1,.3]),thickness:.5}),d({pos:h.pos(0,0),size:h.size(),tint:n,thickness:.5}),b.text({text:"REDEEM",pos:g(h.pos_pct(.5,.5),.15),font:"B612 Mono",size:4,tint:n,align:["center","center"]})])}}}),ic=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=({size:e,
text:f,oid:d,overlap:g,enabled:c,time:h})=>{var n=a.noise(232,2,1,h/20),p=g||{};let m=p.overlap?"over":"out",{start_at:v,stop_at:w}=p;p=h-w||1/0;h="over"==m?a.ease.flicker(a.ease.elastic_i(a.clamp(0,1,(h-v||1/0)/20))):a.ease.io3(1-a.clamp(0,1,p/30));n=a.lerp(a.lerp(.6,.9,h),a.lerp(.7,1,h),n);let t=c?[1,1,0,(g?.8:.6)*n]:[1,1,1,.3*n];return b.group(null,[c&&b.rect_fill({pos:[0,0,0],tint:[1,1,1,0],size:e,origin:[1,0],overlap_id:d}),b.shadow({tint:[1,1,1,.3],z:-3,fab:()=>b.group(null,[b.rect_stroke({pos:[0,
0,3],tint:t,size:e,origin:[1,0],width:.5}),b.text({pos:[-e[0]/2,e[1]/2,3],text:f,align:["center","center"],tint:t,size:3.5,font:"B612 Mono"})])})])}}),Nf=R((x,z)=>{var {fabs:b}=sa()(),{layout:a}=Ba();Mf();var {items:e}=Ia();({themes:x}=Ha());var f=ic(),{math:d}=na(),g=x.default;z.exports={fab_gig_detail_panel:({size:c,desc:h,reqs:n,rewards:p,done:m,cta_enabled:v,inventory:w,overlap:t,time:q})=>{var l=a([0,0],c);[,l]=l.hsplit_pcts([0,.9]);l=l.pad(0,0);let r=w.reduce((C,B)=>(C[B]=(C[B]||0)+1,C),{});
n=`REQUIREMENTS:
${n.map(C=>{let B=m?C.count:r[C.id]||0;if("item"==C.type)return`  ${e[C.id].title.padEnd(25," ")} ${B}/${C.count}`;if("cash"==C.type)return`  $${C.count.toLocaleString("en-US")}`}).join("\n")}`;p=`REWARDS:
${p.map(C=>{if("item"==C.type)return`  ${e[C.id].title.padEnd(25," ")} ${1<C.count?C.count:""}`;if("cash"==C.type)return`  $${C.count.toLocaleString("en-US")}`}).join("\n")}`;p={text:"\n\n"+n+"\n\n"+p,tag:"i"};n=f({size:[.5*c[0],.1*c[1]],text:"COMPLETED",oid:"complete_gig_btn",overlap:t,enabled:!1,time:q});w=f({size:[.5*c[0],.1*c[1]],text:"UNMET REQS.",oid:"complete_gig_btn",overlap:t,enabled:!1,time:q});t=f({size:[.5*c[0],.1*c[1]],text:"SEND FILES",oid:"complete_gig_btn",overlap:t,enabled:!0,time:q});
let A=!1;m?A=n:v?A=t:A=w;let y={b:{tint:[1,1,1,d.lerp(.2,.25,d.noise(111,2,1,q/10))]},i:{tint:[0,1,1,d.lerp(.7,1,d.noise(111,2,1,(q+123)/10))],subfamily:"Italic"},a:{tint:[1,1,0,d.lerp(.7,1,d.noise(111,2,1,(q+123)/10))],overlap_id:"mail_link"}};return b.group(null,[b.text({parts:[...h,p].map(C=>({...y[C.tag],text:C.text})),margin:.9*l.size()[0],size:2.8,tint:g.title_text_col,font:"B612 Mono",line_height:1.4,align:["top","left"]}),b.group({pos:[.85*c[0],.92*-c[1],0]},[A])])}}}),jc=R((x,z)=>{var {fab_gig_detail_panel:b}=
Nf(),a=rb(),e={gigbot:"gigbot@data.co",ava_reyes:"avarey@pasokon.whip",raj_parker:"rparker212@jmail.rem",liam_chen:"liam-lives@chenquarters.arg"};z.exports={is_gig:f=>!!a.gigs[f],draw_mail_body:(f,d)=>(g,{dt:c})=>{let h,n=g.props[g.props_by_id.terminal].state;var p=a.gigs[f];let m=p.title,v=p.desc,w=p.reqs;p=p.rewards;let t="done"==(null==(h=g.mailbox.find(q=>q.id==g.mail_selected))?void 0:h.status);return b({size:d,time:g.ticks+c,title:m,desc:v,reqs:w,rewards:p,inventory:n.inventory,done:t,cta_enabled:!t&&
a.can_complete_gig({state:n},g,f),overlap:g.rich_overlaps.complete_gig_btn})},mail_subject:f=>a.gigs[f].title,mail_from:f=>e[a.gigs[f].requester]}}),kc=R((x,z)=>{var {fabs:b}=sa()(),{u:a}=Fa(),e=Kf(),f=Lf(),{is_gig:d}=jc();z.exports={tick:g=>{g.notifications=g.notifications.filter(c=>g.ticks-c.at<(c.lifetime||100))},draw:(g,{dt:c})=>{let h=g.props[g.props_by_id.terminal].state,n=g.ticks+c,p=g.notifications.filter(t=>"loot_pickup"==t.type),m=a.max_by(t=>t.at,p);c=g.notifications.filter(t=>!("loot_pickup"===
t.type&&t!=m));let v={loot_pickup:()=>e({time:n,size:[140,50],held_items:[...h.kit_items,...h.inventory],notifications:p,open_gigs:g.mailbox.filter(t=>"read"==t.status).filter(t=>d(t.id)).map(t=>t.id)}),default:t=>f({time:n,width:140,lifetime:t.lifetime||100,at:t.at,title:t.title,body:t.body})},w=0;return b.group(null,c.reverse().map(t=>{t=v[t.type||"default"](t);let q=b.group({pos:[0,w,0]},[t]);return w+=t.size[1]+5,q}))}}}),Of=R((x,z)=>{var {stat_crypto_multiplier:b}=nb();z.exports=(a,e)=>{a.crypto+=
e*b(a)}}),Pf=R((x,z)=>{var {metrics:b}=wb();x=cf();var {math:a}=na(),e=xa(),f=ra(),d=yb(),{fabs:g}=sa()(),c=Ga(),h=$a(),{items:n,stacked_items:p}=Ia(),{system_stat_cost:m,max_buy_count:v}=fb(),{stringify_round:w}=Ob(),{tick_temperature:t}=Cb(),{tick_detection:q}=fc(),{has_item:l}=db(),{addresses:r}=Za(),A=Zb(),y=$b(),{system_stat:C}=ab(),{firmware_info:B,take_firmware:J,firmware_draw:F,firmware_pool:I}=Xa(),G=x("fab_field",jf()),O=x("fab_shop",yf()),P=x("fab_modal",zf()),D=x("fab_reward_modal",Af()),
{fab_scroll_list:L}=ub(),M=x("fab_kit",Bf()),X=x("fab_kit_item",Cf()),ea=x("fab_kit_detail",Df()),V=x("fab_kit_button",Ef()),H=x("fab_liquid_cache_overlay",Ff()),ca=x("fab_disconnect_btn",Gf()),U=x("fab_scan_btn",Hf()),W=x("fab_scan_collector",If()),da=x("fab_salt_collector",Jf()),fa=kc(),{try_advance_field:ba,tick_blocks:S}=Ya(),{field_world_size:k}=eb(),u=Of(),{verlet:E}=ac(),{stat_max_cash:Q}=nb(),T=Db();f.on("stat_upgraded",(N,{count:Z})=>{N.props[N.props_by_id.terminal].state.system_stats_upgrade_count+=
Z});f.on("get_loot",(N,{item:Z})=>{f.emit(N,"get_loot/"+Z,{})});f.on("get_loot",(N,{item:Z})=>{"severing_salt"!=Z&&N.notifications.push({at:N.ticks,type:"loot_pickup",item:Z,lifetime:200})});f.on("got_synth",N=>{N.props[N.props_by_id.terminal].state.utility_upgrade_count+=1});f.on("got_synth",(N,{id:Z})=>{N.used_upgrades[Z]=!0});f.on("got_item",(N,{item:Z})=>{"ai_module"===Z&&c.queue(N.automator_state,[[50,"(wait)"],[0,"(notify en.notifications.ai_installed.title en.notifications.ai_installed.body 400)"]])});
f.on("got_item",(N,{item:Z})=>{"thermocouple"===Z&&c.queue(N.automator_state,[[50,"(wait)"],[0,"(notify en.notifications.thermocouple_installed.title en.notifications.thermocouple_installed.body 200)"]])});f.on("field_advanced",N=>{N.mining_blocks.push(...A(N,9))});var aa=({clicked:N,state:Z})=>{let ka=Z.props[Z.props_by_id.terminal].state,la=ka.system_stats_upgrade_count;ka.active_weapons.forEach((ma,qa)=>{N("weapon_btn_"+ma)&&f.emit(Z,"started_utility_press",{slot:qa})});Object.keys(ka.system_stats).forEach(ma=>
{let qa=ka.item_fx_liquid_cache,ta=qa?Z.irl_cash:ka.cash,ua="x1"==ka.multibuy?1:"x5"==ka.multibuy?5:v(ka,ta,la,ma);if(0!=ua){var oa=a.range(0,ua).map(pa=>m(ka,ma,la+pa)).reduce((pa,va)=>pa+va,0);oa=w(oa);Z.run_flags["can_afford_"+ma]=ta>=oa;N(`system_stat_btn_${ma}`)&&ta>=oa&&(qa?Z.irl_cash-=oa:ka.cash-=oa,ka.system_stats[ma]+=ua,ka.item_fx_autosynth&&u(ka,2),f.emit(Z,"clicked",{oid:"system_stat_btn_"+ma}),f.emit(Z,"stat_upgraded",{stat:ma,level:ka.system_stats[ma],count:ua}))}});N("multibuy_btn_x1")?
ka.multibuy="x1":N("multibuy_btn_x5")?ka.multibuy="x5":N("multibuy_btn_max")&&(ka.multibuy="max")},ia=N=>{let Z=N.props[N.props_by_id.terminal];var ka=Z.state.firmware_hand.filter(ma=>!N.run_removed_mods.includes(ma));ka=I(ka,Z.state.inventory,N.insight,N.flags);let la=Z.state.force_unlocked_firmware.filter(ma=>!Z.state.firmware_hand.includes(ma));return ka.concat(la).filter(ma=>!N.run_removed_mods.includes(ma))},K=N=>{let Z=N.props[N.props_by_id.terminal];var ka=ia(N);Z.state.firmware_draw=F(N.ticks,
ka,3,N.drop_weights);ka=N.brag.total_runs;let la=300<(N.run_flags.blocks_broken||0),ma=null!=ha(0,N.flags);2<ka&&!N.run_flags.got_unlock&&la&&ma&&(ka=.2*(1-(1-Math.pow(.8,ka)))+.02,a.seeded_rand(N.ticks)()<ka&&(Z.state.firmware_draw[a.array_sample(N.ticks,[0,1,2])]="glitch_1"))};c.register("reroll_delta_shop",N=>()=>{K(N)});f.on("started_run",N=>{K(N);N.currency_exp=0;N.next_exp_goal=12;N.currency_delta=0;N.terminal_modal=null});f.on("met_exp_goal",N=>{N.currency_exp-=N.next_exp_goal;N.currency_delta+=
1;N.next_exp_goal+=4});f.on("before_run_starts",N=>{N.delta_shop_dt=0;N.run_blacklist_count=0});f.on("clicked/open_delta_shop_btn",N=>{"delta_shop"==N.terminal_modal||"blocked"==N.terminal_modal?f.emit(N,"clicked/delta_shop_close_btn",{}):(N.terminal_modal="delta_shop",N.delta_shop_blacklisting=!1,h.run(N.vm,[["lerp","delta_shop_dt",0,1,20]]))});f.on("clicked/delta_shop_close_btn",N=>{N.terminal_modal=null;c.queue(N.automator_state,[[15,"(lerp delta_shop_dt 1 0)"]])});c.register("give_delta_item",
N=>Z=>{J(Z,N);N.currency_delta-=B(Z).cost});c.register("set_terminal_modal_if_blocked",N=>Z=>{"blocked"==N.terminal_modal&&(N.terminal_modal=Z)});f.on("unlocked_mod",N=>{N.flags["m/"+N.delta_shop_unlock_mod]=!0;N.run_flags.got_unlock=!0});var ha=(N,Z)=>{let ka=((la,ma)=>Object.keys(la).filter(qa=>!ma(la[qa].id)&&la[qa].in.every(ma)))(d("\n    illicit_totem --\x3e datalogger\n      datalogger --\x3e homebrew_1\n      datalogger --\x3e accelerationist_1\n      datalogger --\x3e cybernetics_1\n      datalogger --\x3e expansion_1\n    illicit_totem --\x3e noisemaker\n    illicit_totem --\x3e davids_dagger\n    proxy_lattice\n    plasma\n    drone\n  "),
la=>Z["m/"+la]);return a.array_sample(N,ka)};f.on("bought_unlock_from_delta_shop",(N,{slot:Z})=>{let ka=[0,1,2].filter(la=>la!=Z);N.delta_shop_unlock_mod=ha(N.ticks,N.flags);c.queue(N.automator_state,[[0,"(play recall_loop 0 true recall_bg)"],[100,"(lerp_volume recall_bg 0 0.6)"],[0,"(wait_until delta_shop_dismiss_unlock)"],[80,"(lerp_volume recall_bg 0.6 0)"],[0,"(stop recall_bg)"]]);c.queue(N.automator_state,[[0,"(set terminal_modal delta_shop_unlock)"],[0,"(set delta_shop_dismiss_unlock false)"],
[200,"(lerp delta_shop_unlock_bg 0 1)"],[0,"(set delta_shop_dismiss_unlock false)"],[0,"(wait_until delta_shop_dismiss_unlock)"],[40,"(lerp delta_shop_unlock_bg 1 0)"],[0,`(set delta_shop_reveal_${Z} 0)`],[0,"(reroll_delta_shop)"],[50,`(lerp delta_shop_reveal_${Z} 0 1)`],[0,"(emit unlocked_mod)"],[0,"(set terminal_modal delta_shop)"]]);ka.forEach(la=>{var ma=a.seeded_rand(N.ticks+la);ma=Math.floor(10*ma());c.queue(N.automator_state,[[20-ma,`(lerp delta_shop_reveal_${la} 1 0)`],[0,"(wait_until delta_shop_dismiss_unlock)"],
[40,"(wait)"],[50-ma,`(lerp delta_shop_reveal_${la} 0 1)`]])})});f.on("clicked/delta_shop_unlock_accept",N=>{N.delta_shop_dismiss_unlock=!0});f.on("bought_from_delta_shop",(N,{slot:Z})=>{N.flags.bought_delta=!0;let ka=N.props[N.props_by_id.terminal].state.firmware_draw[Z],la=[0,1,2].filter(qa=>qa!=Z),ma="tracing"==N.detection_mode?0:180;N.delta_sigtrace_anim_before=N.sigtrace_total;N.delta_sigtrace_anim_change=B(ka).cost;c.queue(N.automator_state,[[0,"(set terminal_modal blocked)"],[30,`(lerp delta_shop_bought_${Z} 0 1)`],
[20,"(wait)"],[20,`(lerp delta_shop_reveal_${Z} 1 0)`],[0,"(set delta_sigtrace_anim_show 0)"],[ma,"(lerp delta_sigtrace_anim_show 0 1)"],[0,"(set delta_sigtrace_anim_show 1)"],[0,`(give_delta_item ${ka})`],[0,"(reroll_delta_shop)"],[0,`(set delta_shop_bought_${Z} 0)`],[50,`(lerp delta_shop_reveal_${Z} 0 1)`],[0,"(set_terminal_modal_if_blocked delta_shop)"]]);la.forEach(qa=>{var ta=a.seeded_rand(N.ticks+qa);ta=Math.floor(10*ta());c.queue(N.automator_state,[[30,"(wait)"],[20-ta,`(lerp delta_shop_reveal_${qa} 1 0)`],
[ma,"(wait)"],[20+ta,"(wait)"],[50-ta,`(lerp delta_shop_reveal_${qa} 0 1)`]])})});f.on("blacklisted_from_delta_shop",(N,{slot:Z})=>{let ka=[0,1,2].filter(la=>la!=Z);c.queue(N.automator_state,[[0,"(set terminal_modal blocked)"],[30,`(lerp delta_shop_bought_${Z} 0 1)`],[20,"(wait)"],[20,`(lerp delta_shop_reveal_${Z} 1 0)`],[0,"(reroll_delta_shop)"],[0,"(set delta_shop_blacklisting false)"],[0,`(set delta_shop_bought_${Z} 0)`],[50,`(lerp delta_shop_reveal_${Z} 0 1)`],[0,"(set_terminal_modal_if_blocked delta_shop)"]]);
ka.forEach(la=>{var ma=a.seeded_rand(N.ticks+la);ma=Math.floor(10*ma());c.queue(N.automator_state,[[30,"(wait)"],[20-ma,`(lerp delta_shop_reveal_${la} 1 0)`],[20+ma,"(wait)"],[50-ma,`(lerp delta_shop_reveal_${la} 0 1)`]])})});f.on("clicked_delta_shop_item",(N,{slot:Z})=>{var ka=N.props[N.props_by_id.terminal].state.firmware_draw[Z];ka&&(N.delta_shop_blacklisting?(N.run_removed_mods.push(ka),N.run_blacklist_count+=1,f.emit(N,"blacklisted_from_delta_shop",{slot:Z})):(ka=B(ka),ka.unlock?f.emit(N,"bought_unlock_from_delta_shop",
{slot:Z}):N.currency_delta<ka.cost||f.emit(N,"bought_from_delta_shop",{slot:Z})))});f.on("clicked/modal_option_0",N=>{f.emit(N,"clicked_delta_shop_item",{slot:0})});f.on("clicked/modal_option_1",N=>{f.emit(N,"clicked_delta_shop_item",{slot:1})});f.on("clicked/modal_option_2",N=>{f.emit(N,"clicked_delta_shop_item",{slot:2})});f.on("clicked/delta_shop_reroll_btn",N=>{c.queue(N.automator_state,[[0,"(set terminal_modal blocked)"],[50,"(wait)"],[0,"(reroll_delta_shop)"],[0,"(change currency_delta -2)"],
[50,"(wait)"],[0,"(set terminal_modal delta_shop)"]]);[0,1,2].forEach(Z=>{var ka=a.seeded_rand(N.ticks+Z);ka=Math.floor(20*ka());c.queue(N.automator_state,[[50-ka,`(lerp delta_shop_reveal_${Z} 1 0)`],[0,`(set delta_shop_reveal_${Z} 0)`],[ka,"(wait)"],[50-ka,`(lerp delta_shop_reveal_${Z} 0 1)`],[0,`(set delta_shop_reveal_${Z} 1)`]])})});f.on("clicked/delta_shop_blacklist_btn",N=>{N.delta_shop_blacklisting=!N.delta_shop_blacklisting});f.on("before_run_starts",N=>{N.run_utility_press_slot=null;N.run_utility_press_start_at=
null;N.run_removed_mods=[]});f.on("started_utility_press",(N,{slot:Z})=>{N.run_utility_press_slot=Z;N.run_utility_press_start_at=N.ticks});f.on("mouse_up",N=>{N.run_utility_press_slot=null;N.run_utility_press_start_at=null});f.on("finished_utility_press",N=>{let Z=N.props[N.props_by_id.terminal].state,ka=Z.active_weapons[N.run_utility_press_slot];N.run_removed_mods.push(ka);f.emit(N,"deleted_utility",{id:ka});Z.active_weapons=Z.active_weapons.filter((la,ma)=>ma!=N.run_utility_press_slot);N.run_utility_press_slot=
null;N.run_utility_press_start_at=null});var Y=(N,Z)=>{let ka=N.props[N.props_by_id.terminal],la=ka.state.scenes.connected,ma=Z.some(pa=>"mouse_down"==pa.type),qa=pa=>ka.state.receive_input&&ma&&N.cursor_overlaps[pa];if(!(N.disable_arm||ja(N),ka.state.paused||180>N.ticks-la.connected_at)){q(N);ka.state.uptime+=1;var ta=ka.state.time_left<(N.sigtrace_total-N.sigtrace_suppression)/200*N.detection_max_time;if(null==N.terminal_modal&&qa("disconnect_btn")||ta){N.run_failed=ta;ka.state.paused=!0;la.disconnected_at=
N.ticks;var ua=N.run_server;f.emit(N,"finished_run",{server:ua,won:!ta,runtime:ka.state.uptime,dmg:N.run_dmg,sigtrace:N.sigtrace_total});ta?f.emit(N,"finished_run/lost",{server:ua}):f.emit(N,"finished_run/won",{server:ua});c.queue(ka.state.auto,[[60,"(wait)"],[0,"(change_loudly mode_connection disconnected)"]])}if(ka.state.kit_items.includes(la.kit_selected_item)||(la.kit_selected_item=null),null==N.terminal_modal){if(qa("open_kit_btn")&&(la.kit_opened_at=N.ticks),qa("close_kit_btn")&&(la.kit_closed_at=
N.ticks,la.kit_opened_at=null),ka.state.kit_items.sort((pa,va)=>n[va].size-n[pa].size),ka.state.kit_items.forEach(pa=>{qa(`kit_item_${pa}`)&&(la.kit_selected_item=pa)}),qa("kit_use_btn")){let pa=la.kit_selected_item;ta=ka.state.kit_items.findIndex(va=>va==pa);ka.state.kit_items.splice(ta,1);f.emit(N,"used_kit_item/"+pa,{})}if(qa("kit_drop_btn")){let pa=la.kit_selected_item;ta=ka.state.kit_items.findIndex(va=>va==pa);ka.state.kit_items.splice(ta,1)}null!=la.kit_opened_at||aa({state:N,clicked:qa})}S(N);
ba(N);Object.keys(T).filter(pa=>ka.state.active_weapons.includes(pa)).map(pa=>T[pa]).forEach(({tick:pa})=>pa(N,Z));ta=N.props[N.props_by_id.terminal].state;if(!N.disable_arm&&null==N.terminal_modal&&N.cursor_held){ua=40-Math.pow(C(N,"cpu_speed"),.4);let pa=1+ta.system_stats.bandwidth;N.ticks-N.cursor_last_fired_at>ua&&N.mining_blocks.forEach(va=>{N.cursor_overlaps[va.oid]&&(f.emit(N,"hit_block",{block:va,source:"cursor",damage:pa}),f.emit(N,"arm_fired",{}),N.cursor_last_fired_at=N.ticks,N.arm_target=
a.v2.add(N.arm_target,[-10,a.ranged_sin(N.ticks,10,-10)]))})}t(ka.state,N);var oa=ta.uptime;N.mining_downloads=N.mining_downloads.filter(pa=>300>oa-pa.at);ka.state.item_fx_fast_forward&&(ka.state.depth+=500,y(N),ka.state.item_fx_fast_forward=!1)}};f.on("started_run",N=>{N.arm_target=null;N.arm_parts=null});var ja=N=>{var Z=N.props[N.props_by_id.terminal].state.scenes.connected.disconnected_at;(null==N.arm_target||Z)&&(N.arm_target=[0,0,0]);null==N.arm_parts&&(N.arm_parts={points:[{pos:[0,0],prev:[0,
0],fixed:!0},{pos:[0,100],prev:[0,100],fixed:!1},{pos:[0,100],prev:[0,100],fixed:!1},{pos:[0,0],prev:[0,0],fixed:!0}],links:[[0,1,32],[1,2,48],[2,3,80]]});var ka=(Z=null==N.terminal_modal&&N.cursor_overlaps.field&&N.cursor_held)?a.v3.multiply(N.cursor_intersections.field,[...k,0]):[0,0,0];let la=a.v3.mul_scalar([a.noise(111,2,2,N.ticks/20),a.noise(222,2,2,N.ticks/20),a.noise(333,2,2,N.ticks/20)],2);N.arm_target=a.v3.lerp(N.arm_target,a.v3.add(ka,Z?la:[0,0,0]),.3);ka=N.arm_parts.points[0];ka.pos=a.v2.lerp(ka.pos,
N.arm_target,.8);ka.prev=ka.pos;E(N.arm_parts,Z?[-10,5]:[0,10],Z?10:2);Z=N.arm_parts.points.map(ma=>Math.abs(ma.prev[0]-ma.pos[0])+Math.abs(ma.prev[1]-ma.pos[1])).reduce((ma,qa)=>ma+qa,0);N.cmds.push({type:"audio/set_volume",handle:"arm_loop",volume:a.clamp(0,.5,Z/4)});N.cmds.push({type:"audio/set_detune",handle:"arm_loop",detune:a.lerp(-1200,0,a.clamp(0,1,Math.pow(Z/6,.5)))})};z.exports={init:()=>({connected_at:0,disconnected_at:null,kit_selected_item:null,kit_opened_at:null,kit_closed_at:null}),
tick:(N,Z,ka)=>{var la=Math.max(Z.delta_shop_dt,a.clamp(0,1,Z.detection_alert_show/.05));Z.cmds.push({type:"audio/filter_bus",handle:"terminal_music",filter_type:"lowpass",hz:a.lerp(1E4,501,la)});Z.cmds.push({type:"audio/filter_bus",handle:"terminal_sfx",filter_type:"lowpass",hz:a.lerp(1E4,500,la)});let ma=ka.some(qa=>"mouse_down"==qa.type);la=qa=>N.state.receive_input&&ma&&Z.cursor_overlaps[qa];ka.some(qa=>"mouse_up"==qa.type)&&f.emit(Z,"mouse_up",{});null!=Z.run_utility_press_start_at&&180<Z.ticks-
Z.run_utility_press_start_at&&f.emit(Z,"finished_utility_press",{});ma&&Z.cursor_overlaps.toggle_display_btn&&(N.state.draw_display=!N.state.draw_display);fa.tick(Z);Z.currency_exp>=Z.next_exp_goal&&f.emit(Z,"met_exp_goal",{});"delta_shop"==Z.terminal_modal?"modal_option_0 modal_option_1 modal_option_2 delta_shop_close_btn delta_shop_reroll_btn delta_shop_blacklist_btn open_delta_shop_btn".split(" ").filter(la).forEach(qa=>{f.emit(Z,"clicked",{oid:qa})}):"blocked"==Z.terminal_modal?["delta_shop_close_btn"].filter(la).forEach(qa=>
{f.emit(Z,"clicked",{oid:qa})}):"delta_shop_unlock"==Z.terminal_modal?["delta_shop_unlock_accept"].filter(la).forEach(qa=>{f.emit(Z,"clicked",{oid:qa})}):null==Z.terminal_modal&&["open_delta_shop_btn","scan_btn"].filter(la).forEach(qa=>{f.emit(Z,"clicked",{oid:qa})});"shown"==Z.mode_reward_modal&&Z.ticks-N.state.reward_dl_start>N.state.reward_dl_time&&N.state.receive_modal_input&&ma&&Z.cursor_overlaps.reward_modal_ok&&e(Z,"mode_reward_modal","hidden");({connected:Y}[Z.mode_connection]||(()=>{}))(Z,
ka);N.state.cash=Math.min(Q(N.state),N.state.cash)},draw:(N,Z,{dt:ka})=>{let la=Z.ticks+ka,ma=N.state.scenes.connected;var qa=a.clamp(0,1,(la-ma.connected_at)/180),ta=null==ma.disconnected_at?0:1-a.clamp(0,1,(la-ma.disconnected_at)/60);let ua=null==ma.disconnected_at?qa:ta;qa=a.ease.io2(a.clamp(0,1,(la-Z.focus_changed_at)/Z.focus_duration));let oa=!(null!=Z.focus&&1==qa),pa=0<Z.delta_shop_dt,va="shown"==Z.mode_reward_modal,za=(N.state.firmware_draw||[]).map(Ca=>{Ca=B(Ca);return{...Ca,unlocks:Ca.unlocks?
Ca.unlocks.map(Ra=>B(Ra).label):[]}}),Ja=za.findIndex((Ca,Ra)=>Z.cursor_overlaps[`modal_option_${Ra}`]),Sa=Z.delta_shop_dt,Qa=a.lerp(N.state.prev_squish,N.state.squish,ka);qa=ma.kit_opened_at;ta=ma.kit_closed_at;let Ea=null!=qa||null!=ta&&20>la-ta,Aa=null==qa?null==ta?0:a.ease.io3(1-a.clamp(0,1,(la-ta)/20)):a.ease.exp_io(a.clamp(0,1,(la-qa)/40)),La=N.state.kit_items.map(Ca=>n[Ca].size).reduce((Ca,Ra)=>Ca+Ra,0),Ua=La/N.state.kit_capacity,Va=!!N.state.item_fx_liquid_cache||!!N.state.item_fx_liquidbit_converter,
ya=!r[Z.run_server].suppress_kit_injector&&l(N.state,"kit_injector"),ib=Z.terminal_modal;return b.time("timed_draw_connected_ms",()=>g.group({rot:N.state.rotation},[g.group({scale:[.8,.8,1],pos:[0,0,0],rot:[-.1,0,0],tint:a.v4.lerp([1,1,1,1],[1,a.lerp(.2,.9,a.noise(222,2,1,a.quantize(la,11))),a.lerp(.2,.9,a.noise(333,2,1,a.quantize(la/2,13))),a.lerp(1,1,a.noise(111,2,1,la/10))],Z.run_connection_failing||0)},[oa&&g.rect_fill({pos:[0,200,-.1],size:[500,350],origin:[.5,.5],tint:[0,0,0,.7]}),g.group({scale:[1,
1-Qa,1],tint:a.v4.lerp([1,1,1,0],[1,1,1,1],a.clamp(0,1,ua/.2))},[N.state.draw_display&&O({self:N,state:Z,dt:ka,reveal:ua,show_hover_effects:!ib}),Va&&g.group({pos:[-25,300,.2],rot:[0,0,-.05]},[H({time:la,balance:Z.irl_cash})([100,22])]),g.rect_fill({pos:[0,25,.1],size:[80,40],origin:[.5,.5],tint:[0,0,0,1],overlap_id:"toggle_display_btn"}),ya&&g.group({pos:[-5,20,0]},[N.state.draw_display&&g.group({pos:[50,50,1]},[V({active_dt:Aa,t:la,oid:Ea?"close_kit_btn":"open_kit_btn",capacity_dt:Ua,trace_active:"tracing"==
Z.detection_mode})]),N.state.draw_display&&Ea&&g.group({pos:[a.lerp(50,0,Aa),a.lerp(100,220,Aa),2],rot:[a.lerp(-Math.PI/2,0,Aa),0,.05],scale:[a.lerp(.2,1.2,Aa),a.lerp(0,1.2,Aa),1]},[g.group({matrix:[1,0,0,0,.15,1,0,0,0,0,1,0,0,0,0,1]},[M({time:la,is_empty:0==N.state.kit_items.length,content_size:La,max_capacity:N.state.kit_capacity,fab_list:Ca=>L({size:Ca,visible_count:8,offset:0,data:p(N.state.kit_items),child_fab:({size:Ra,data:jb,oid:kb,hovered:lb,selected:mb})=>X(jb,kb,lb,mb)(Ra),cursor_overlaps:Z.cursor_overlaps,
selected_id:ma.kit_selected_item,oid_prefix:"kit_item"}),fab_detail:null==ma.kit_selected_item?()=>!1:ea({item:n[ma.kit_selected_item],options:{...("consumable"==n[ma.kit_selected_item].category?{kit_use_btn:{label:"> USE",enabled:!0}}:{}),kit_drop_btn:{label:"> DELETE",enabled:!0}}})})([200,100])])])]),N.state.draw_display&&G({self:N,state:Z,dt:ka,reveal:ua}),N.state.draw_display&&va&&g.group({pos:[0,200,10],scale:[3,3,1]},[D({size:[80,25],time:la,loading_dt:a.clamp(0,1,(la-N.state.reward_dl_start)/
N.state.reward_dl_time),title:N.state.reward_filename})]),N.state.draw_display&&pa&&g.group({pos:[0,200,10],scale:[3,3,1]},[P({size:[100,50],options:za,options_enabled:za.map(Ca=>{if(Z.delta_shop_blacklisting||Ca.unlock)return!0;let Ra=Z.utility_slots-N.state.active_weapons.length;return!("utility"==Ca.type&&0>=Ra||Ca.cost>Z.currency_delta||!ia(Z).includes(Ca.id))}),highlighted_option:Ja,time:la,reveal:Sa,rich_overlaps:Z.rich_overlaps,currency_delta:Z.currency_delta,reveal_options:[Z.delta_shop_reveal_0,
Z.delta_shop_reveal_1,Z.delta_shop_reveal_2],bought_options:[Z.delta_shop_bought_0,Z.delta_shop_bought_1,Z.delta_shop_bought_2],free_utility_slots:Z.utility_slots-N.state.active_weapons.length,blacklisting:Z.delta_shop_blacklisting,blacklist_count:Z.run_blacklist_count,sigtrace_anim_show:Z.delta_sigtrace_anim_show,sigtrace_anim_before:Z.delta_sigtrace_anim_before,sigtrace_anim_change:Z.delta_sigtrace_anim_change,delta_shop_unlock_bg:Z.delta_shop_unlock_bg||0,unlock_mod:Z.delta_shop_unlock_mod})]),
N.state.draw_display&&g.group({pos:[-190,90,7]},[g.group({pos:[0,-5,4.3]},[ca({size:[148,35],time:la,reveal:Z.sever_sigtrace_enabled_dt,enabled:1==Z.sever_sigtrace_enabled_dt,oid:"disconnect_btn",hovered:Z.cursor_overlaps.disconnect_btn,overlap_info:Z.rich_overlaps.disconnect_btn||{}})]),g.group({pos:[-5,-5,4.3]},[da({size:[160,35],time:la,reveal:Z.detection_salt_show,collected:Z.run_salt_found,max:Z.run_salt_req})]),g.group({pos:[0,0,4.3]},[U({size:[148,30],time:la,reveal:Z.detection_scanner_show,
enabled:1==Z.detection_scanner_show,oid:"scan_btn",hovered:Z.cursor_overlaps.scan_btn,overlap_info:Z.rich_overlaps.scan_btn||{}})]),g.group({pos:[-5,-5,4.3]},[W({size:[160,35],time:la,reveal:Z.detection_collector_show,collected:Z.run_scanner_xp,max:Z.run_scanner_xp_req})])]),N.state.draw_display&&g.group({pos:[200,80,3]},[fa.draw(Z,{dt:ka})])])])]))}}}),Qf=R((x,z)=>{var {math:b,flat_cache:a,fabs:e,i18n:f,layout2:d}=wa(),{draw_layout:g,n:c}=d,{vsplit_pct:h,hsplit:n,rh:p,rw:m,nlike:v}=d.helpers,{desktop_size:w}=
Ha(),t=Ab();x=B=>J=>e.group(null,[B({...J,tint:b.v4.mul(J.tint,[1,1,1,.2])}),B({...J,pos:b.v4.add(J.pos||[0,0,0],[0,0,3])})]);var q=x(e.rect_stroke),l=x(e.text),r=(B,J)=>()=>e.group({tint:J},[e.texture(t[B].image,{scale:[.22,.22,1],tint:[.5,.5,.5,.5],pos:[0,0,2.9]}),q({origin:[.5,.5],size:[105,105],width:.5,tint:[1,1,1,.3]}),e.texture(t[B].image,{scale:[.2,.2,1],tint:[1,1,1,1],pos:[0,0,3]})]),A=(B,J)=>F=>{var I=B/6;I=Math.floor(b.quantize(I+35*Math.sin(.01*I)+6*Math.sin(.07*I)+2*Math.sin(.2*I),3));
I=b.range(I-70,I).map(G=>a(()=>`bg_log_line/${G}`,()=>{let O=b.seeded_rand(G+1E3),P=b.array_weighted_sample(G,[[.1,()=>`***   REGISTRATION ${btoa(1234*G+"")} ${b.array_sample(G+1E3*O(),["RENEWED","EXPIRED","INCALCULABLE"])}  ***   `],[.4,()=>""],[.2,()=>"child resume"],[.2,()=>`top=${G%16}`],[.2,()=>`forked ${G%143}`],[.2,()=>`addr 0x${(143*G).toString(16)} ${JSON.stringify({[b.array_sample(G+1E3*O(),["kl","pop","ba"])]:(43125*G).toString(36)})}`],[.1,()=>`=========${b.array_sample(G+1E3*O(),["===",
"======","="])}===== gate begins ===================`],[.2,()=>`connection refused: ${b.array_sample(G+1E3*O(),["ERR_NTCP","ERR_SIGOP","network unavailable"])}: ${b.array_sample(G+1E3*O(),["addr:312.65.3","addr:811.90.2","addr:085.02.7"])}`],[.2,()=>`escalating to ${b.array_sample(G+1E3*O(),["AUTH","HOPS","GREEN"])} environment, ${b.array_sample(G+1E3*O(),["encode failed","oracle unreachable","incomplete token"])}`],[.3,()=>`prefetch mismatch: found ${b.array_sample(G+1E3*O(),["TYPE_UNSPECIFIED",
"DLQ_COMPRESSION","MEM_SAFE"])} for usr ${G}`],[.3,()=>`undetectable error: packet 0x${(1200*G).toString(16)} collapsed: err 0x${(123*G).toString(14)}`],[.3,()=>`[warn] unproccessable result, found ${b.array_sample(G+1E3*O(),["TYPE_UNSPECIFIED","DLQ_COMPRESSION","MEM_SAFE"])} for connected client on port ${G}`],[.5,()=>`[${b.array_sample(G+1E3*O(),["info","warn","error"])}]  ${b.array_sample(G+1E3*O(),["streamer","message consumer","remote function","scheduled task"])} ${b.array_sample(G+1E3*O(),
["halted","killed","started","resumed"])}`],[.5,()=>`[[  ${b.array_sample(G+1E3*O(),["header frame","event prop","establishing keepalive","blob decode"])} ${b.array_sample(G+1E3*O(),["duration","freemem","latency"])}: ${b.ranged_sin(G,23,145).toFixed(5)}`],[.5,()=>`[[    outside trace detected in ${b.array_sample(G+1E3*O(),["header frame","event prop","establishing keepalive","blob decode"])} ${b.array_sample(G+1E3*O(),["duration","freemem","latency"])}: ${b.ranged_sin(G,23,145).toFixed(5)}`]])();
return e.text({size:3,tint:[1,1,1,.1],font:"B612 Mono",text:P})})());return e.group({tint:J},[q({size:F,width:.2,tint:[1,1,1,1],origin:[0,1]}),e.group({pos:[.1*F[0],0,-3]},I.map((G,O)=>e.group({pos:[0,3.1*-O,0]},[G])))])},y=(B,J)=>()=>l({text:f[B]||B,font:"Major Mono Display",size:4,tint:[1,1,1,1],align:["center",J]}),C=B=>()=>l({text:f[B]||B,font:"B612 Mono",subfamily:"Italic",size:2.5,tint:[.4,.4,.4,1],align:["center","center"]});z.exports=(B,J,F,I,G)=>{B=c({layout:h(.05),draw:A(F,[1,1,1,1])},[c({pad:p(.03),
layout:n,tint:[1,1,1,1]},[c({},[v({draw:y("en.dsktp.title","left"),y:p(.5)})({x:m(0)})]),c({},[v({draw:C("en.dsktp.agent"),y:p(.5)})({x:m(.5)})]),c({},[v({draw:y(J,"right"),y:p(.5)})({x:m(1)})])]),c({},[c({x:m(.6666666666666666),y:p(.5),draw:r(B,[1,1,1,1])})])]);return e.group({pos:[-w[0]/2,w[1]/2,0],tint:I},[g(B)(w)])}}),Qb=R((x,z)=>{var {fabs:b,math:a}=wa(),{layout:e,ui_box:f,l2v:d}=Ba();x=n=>p=>b.group(null,[n({...p,tint:a.v4.mul(p.tint,[1,1,1,.2])}),n({...p,pos:a.v4.add(p.pos||[0,0,0],[0,0,3])})]);
var g=x(b.rect_stroke),c=x(b.text),h=x(b.rect_fill);z.exports=({enabled:n,oid:p,copy:m,box:v,hovered:w,time:t,badge:q})=>{let l=v.pad(3,3),r=e(l.pos_pct(.9,.2),l.size_pct(.4,.2)),A=null!=q&&0!=q,y=0==Math.floor(t/50)%2,C=v.pos(0,0)[0]+100*v.pos(0,0)[1];t=a.lerp(.8,1,a.noise(313+C,2,1,t/20));w=w?[1,1,1,1*t]:[1,1,1,.8*t];return b.group({tint:[1,1,1,n?1:.3]},[n&&f({box:v,tint:[0,0,0,0],overlap_id:p}),g({pos:d(l.pos(0,0),0),origin:[0,1],size:l.size(),tint:w,width:.5}),c({pos:d(l.pos_pct(0,.5),-.1),size:10.5,
text:"BUTT",font:"Epetri AIRY-anorexic2",tint:[1,1,1,.1],align:["center","left"]}),c({pos:d(l.pad(2,1.5).pos_pct(0,1)),size:3.5,tint:w,text:m,font:"B612 Mono",align:["bottom","left"]}),A&&y&&b.group({pos:d(r.pos(0,0),.1)},[y&&h({pos:[0,0,0],origin:[.5,.5],size:r.size(),tint:[.8,0,0,.5]}),c({pos:[0,0,.1],text:q.toString(),tint:[1,1,1,1],size:3.5,font:"B612 Mono",align:["center","center"]})])])}}),Rf=R((x,z)=>{var {fabs:b,math:a}=wa(),{l2v:e}=Ba(),f=Qb(),d=(g=>c=>b.group(null,[g({...c,tint:a.v4.mul(c.tint,
[1,1,1,.2])}),g({...c,pos:a.v4.add(c.pos||[0,0,0],[0,0,3])})]))(b.text);z.exports=({enabled:g,oid:c,copy:h,box:n,hovered:p,time:m,badge:v,content_size:w,capacity:t})=>{let q=p?[1,1,1,1]:[.8,.8,.8,1],l=n.pad(3,3);w=`${Math.ceil(w/1024/1024)}/${Math.floor(t/1024/1024)}MB`;return b.group(null,[f({enabled:g,oid:c,copy:h,box:n,hovered:p,time:m,badge:v}),b.group({tint:[1,1,1,g?1:.3]},[d({pos:e(l.pad(1.5,1.5).pos_pct(1,0)),size:2.5,tint:q,text:w,font:"B612 Mono",align:["top","right"]})])])}}),Sf=R((x,z)=>
{var {fabs:b,math:a}=wa(),{l2v:e}=Ba(),f=Qb(),{insight_to_level:d}=Ta(),g=(c=>h=>b.group(null,[c({...h,tint:a.v4.mul(h.tint,[1,1,1,.2])}),c({...h,pos:a.v4.add(h.pos||[0,0,0],[0,0,3])})]))(b.text);z.exports=({enabled:c,oid:h,copy:n,box:p,hovered:m,time:v,badge:w,insight:t})=>{let q=m?[1,1,1,1]:[.8,.8,.8,1],l=p.pad(3,3);t=`R${Object.values(t).map(d).map(Math.floor).reduce((r,A)=>r+A,0)}`;return b.group(null,[f({enabled:c,oid:h,copy:n,box:p,hovered:m,time:v,badge:w}),b.group({tint:[1,1,1,c?1:.3]},[g({pos:e(l.pad(1.5,
1.5).pos_pct(1,0)),size:2.5,tint:q,text:t,font:"B612 Mono",align:["top","right"]})])])}}),Tf=R((x,z)=>{var {fabs:b,math:a}=wa(),{u:e}=Fa();z.exports=({size:f,dt:d})=>{let g=a.m4.make_identity();g[4]=-.3;let c=a.v2.mul(f,[.92,1/6*.9]);return b.group(null,[b.rect_stroke({size:f,width:.04*f[0],tint:[1,1,1,1],origin:[.5,.5]}),...e.times(6,h=>b.group({pos:[0,f[1]/2-1/6*f[1]*h,0],scale:[1,1,0]},[b.group({matrix:g},[b.rect_fill({size:c,origin:[.5,1],tint:[.8,.8,.8,1],rot:[1.3*-d,0,0]})])]))])}}),Uf=R((x,
z)=>{var {fabs:b,math:a}=wa(),e=Tf();z.exports=({time:f,oid_1:d,oid_2:g,oid_3:c,open_1:h,open_2:n,open_3:p,enabled_1:m,enabled_2:v,enabled_3:w,overlaps:t,obstructed:q})=>{let l=(r,A,y,C)=>b.group({pos:[r,0,0],tint:[1,1,1,a.lerp(.6,1,a.noise(131,2,1,f/20+r))*(t[A]?1:C?.8:.4)]},[e({size:[24,10],dt:y}),C&&b.text({pos:[0,-8,0],text:"...",font:"Major Mono Display",size:3,tint:[1,1,1,Math.floor(f/30)%2],align:["center","center"]}),C&&b.rect_fill({size:[24,10],origin:[.5,.5],overlap_id:A,tint:[0,0,0,0]})]);
return b.group(null,[l(-30,d,h,m),l(0,g,n,v),b.group({tint:q?[1,.4,.4,1]:[1,1,1,1]},[l(30,c,p,w)])])}}),lc=R((x,z)=>{var {math:b}=na();x=[0,.7,0,1];var a=[.8,.3,.3,1],e=[{label:{key:"!! PREINSTALL",val:"+ARC",tint:x},overrides:{starting_mods:["reader","arc"]}},{label:{key:"!! CLARITY",val:"+64 COHERENCE",tint:x},overrides:{"$terminal.system_stats.coherence":64}},{label:{key:"!! TWIN CHECKSUM",val:"2x MEMORY GAIN",tint:x},overrides:{memory_reward_factor:2}},{label:{key:"!! INHERITANCE",val:"+100k STARTING MEMORY",
tint:x},overrides:{"$terminal.cash":1E5}},{label:{key:"!! KEEN REFLECTION",val:"2x XP BLOCKS",tint:x},overrides:{exp_block_spawn_factor:2}},{label:{key:"!! SECURE POSTURE",val:"4x HALT BLOCKS",tint:x},overrides:{halt_block_spawn_factor:4}},{label:{key:"!! DECOY SIGNAL",val:"DOUBLE READER",tint:x},overrides:{starting_mods:["reader","reader_multi"]}},{label:{key:"!! HEAT EXCHANGE",val:"+64 COOLING",tint:x},overrides:{"$terminal.system_stats.cooling":64}}],f=[{label:{key:"!! CHOKED LINES",val:"-UPLINK",
tint:a},overrides:{hidden_stats:["bandwidth"]}},{label:{key:"!! DATA RACE",val:"2x UPTIME PENALTY",tint:a},overrides:{sigtrace_time_factor:4/1800}},{label:{key:"!! STRETCHED HASH",val:"10 SEVERING SALTS",tint:a},overrides:{run_salt_req:10}},{label:{key:"!! RAID ARRAY",val:"2x BLOCK HP",tint:a},overrides:{block_hp_factor:2}},{label:{key:"!! DARK PATTERNS",val:"-50% FILE DROP RATE",tint:a},overrides:{loot_drop_factor:.5}},{label:{key:"!! TABULA RASA",val:"NO STARTING UTILITIES",tint:a},overrides:{starting_mods:[]}},
{label:{key:"!! BREAKPOINT",val:"NO PICK",tint:a},overrides:{disable_arm:!0}},{label:{key:"!! EMBEDDING",val:"1 UTILITY SLOT",tint:a},overrides:{utility_slots:1}}];z.exports={setup_daily:(d,g)=>{g=Date.parse(g).valueOf();g=b.seeded_rand(g);let c=b.array_sample(1E3*g(),e),h=null,n=!0;for(;n;)h=b.array_sample(1E3*g(),f),n=Object.keys(h.overrides).some(p=>c.overrides[p]);d.daily_warps=[c,h];d.daily_server_overrides=d.daily_warps.map(p=>p.overrides).reduce((p,m)=>({...p,...m}),{})},server_intel:d=>d.map(g=>
({type:"security",...g.label}))}}),mc=R((x,z)=>{var {fabs:b}=sa()(),a=Na(),{math:e}=na();x=ra();var f=ic(),{parse_2_parts:d}=qb(),{add_item_to_inventory:g}=db(),c=[0,100,125,150],h=m=>{let v=m.daily_key;return m.flags["d3/"+v]?3:m.flags["d2/"+v]?2:m.flags["d1/"+v]?1:0};x.on("clicked/daily_redeem_btn",m=>{let v=m.daily_key;var w=h(m);3==w||m.daily_records[v]<c[w+1]||(m.dailys_completed[v]=!0,w+=1,1==w?(m.flags["d1/"+v]=!0,m.irl_cash+=2100):2==w?(m.flags["d2/"+v]=!0,g(m,"luna_badge")):3==w&&(m.flags["d3/"+
v]=!0,g(m,"sol_badge")))});var n="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),p=d("<b>|\n+---- preamble BEGIN schema NTN2.1/0\n| registration_txn     41c94ba6-ffba\n+---- preamble END\n\n+---- agent prompt BEGIN\n|\n|</b> <c>What's up, miners?!</c>\n\nAnother day another dollar, am I right? Well today is YOUR chance to win some cash and test your skills in the WARP.\n\nOur award-winning ASTRO fireware has cooked up something special today, visit <a>[[warp.astrolabe.ks]]</a> to get started!\n\n   <r>/~~~~~~~~~~~~~~~~~~~~~~~~~~~\\\n   | SIGTRACE | TODAY'S REWARD |\n   +~~~~~~~~~~+~~~~~~~~~~~~~~~~+\n   |    > 100 |  $2,100        |\n   |    > 125 |  1x Luna Badge |\n   |    > 150 |  1x Sol Badge  |\n   \\~~~~~~~~~~+~~~~~~~~~~~~~~~~/</r>\n\n<i>*By participating in the \"Daily WARP\", you authorize Astrolabe Consolidated Securities to collect, retain and repurpose your mining activities in perpetuity, for uses including but not limited to the training of ASTRO AI fireware products and services.</i>");
z.exports={is_daily:m=>m.startsWith("daily"),draw_mail_body:(m,v)=>(w,{dt:t})=>{var q=m.split("daily-")[1];let l=w.daily_records[q]||0;t=w.ticks+t;var r=q!=w.daily_key,A=h(w);q=l>=c[A+1];q=r?!1:q;r=r?"daily.expired":0==A?"daily.lvl1":1==A?"daily.lvl2":2==A?"daily.lvl3":"daily.complete";A={c:{tint:[...e.hsl2rgb(10*t,1,.8),1],subfamily:"Bold Italic"},b:{tint:[1,1,1,e.lerp(.23,.25,e.noise(111,2,1,t/10))]},i:{tint:[1,1,1,e.lerp(.23,.25,e.noise(111,2,1,(t+123)/10))],subfamily:"Italic"},r:{tint:[0,1,1,
e.lerp(.7,.9,e.noise(211,2,1,(t+123)/10))]},a:{tint:[1,1,0,e.lerp(.7,.9,e.noise(111,2,1,(t+123)/10))],overlap_id:"mail_link"}};return b.group(null,[b.text({parts:((y,C)=>y.map(B=>({...C[B.tag],text:B.text})))(p,A),font:"B612 Mono",size:2.8,tint:[1,1,1,1],margin:.9*v[0],line_height:1.4,align:["top","left"],subfamily:"Regular"}),b.text({parts:[{text:"Your record:\n"},{text:"SIGTRACE "+(""+Math.floor(l)).padStart(3,"0"),tint:[1,1,0,1]}],tint:[1,1,1,1],size:5,pos:[.5*v[0],-.47*v[1],0],align:["top","left"],
line_height:1.4}),b.group({pos:[.85*v[0],-.92*v[1],0]},[f({text:a["en."+r],size:[.5*v[0],.1*v[1]],oid:"daily_redeem_btn",enabled:q,overlap:w.rich_overlaps.daily_redeem_btn,time:t})])])},mail_subject:m=>{m=m.split("daily-")[1];var v=new Date(m);m=n[v.getUTCMonth()];v=v.getUTCDate();return`Daily WARP // ${m} ${v}`},mail_from:m=>"mixer@astrolabe.ks",record:(m,v)=>{v=v.split("daily-")[1];return m.daily_records[v]||0},is_expired:(m,v)=>v.split("daily-")[1]!=m.daily_key}}),Rb=R((x,z)=>{({u:x}=Fa());var {math:b}=
na(),{fabs:a}=sa()(),e=jc(),f=mc(),{parse_2_parts:d}=qb(),g=Na(),c=ra(),h=xa(),n=t=>q=>q.mail_selected==t,p=t=>q=>{q.run_server=t;h(q,"mode_desktop","addresses")};c.when(n("conn_test"),t=>{t("clicked/mail_link",p("connection_test"))});c.when(n("intro1"),t=>{t("clicked/mail_link",p("training"))});c.on("clicked/mail_link",t=>{t.mail_selected.startsWith("daily")&&p("daily")(t)});var m={};x.unique(Object.keys(g).filter(t=>t.startsWith("en.mail.")).map(t=>t.split(".")[2])).forEach(t=>{m[t]||(m[t]={});
var q="en.mail."+t;let l=g[q+".subject"],r=g[q+".from"];q=g[q+".body"];l&&(m[t].subject=l);r&&(m[t].from=r);q&&(m[t].body=d(q))});var v=t=>{t=parseInt(t.split("junk")[1],10);let q=b.seeded_rand(t),l="qwertyuiopasdfghjklzxcvbnm1234567890".split("");var r=(y,C)=>b.array_sample_n(1E3*q(),l,Math.floor(b.lerp(y+1,C+1,q())));t=r(4,6).join("");let A=r(6,9).join("");r=r(2,3).join("");return t+"@"+A+"."+r},w=(t,q)=>(l,{dt:r})=>{l=l.ticks+r;r=parseInt(t.split("junk")[1],10);let A=[];for(let J=0;J<b.lerp(600,
800,b.seeded_rand(r)());J++)A.push(b.array_sample(1E3*r+J,"!@         #$%^&*()-=_+qwertyuiopasdfghjklzxcvbnm".split("")));let y=A.join(""),C=b.noise(r,2,1,l/10),B=b.noise(r+1234,2,1,l/10);return a.group({pos:[0,0,2.2]},[a.shadow({tint:[1,1,1,.3],z:b.lerp(2,3,C),fab:()=>a.text({text:y,margin:100,font:"B612 Mono",align:["top","left"],size:3.5,line_height:1.4,tint:[C,B,1,1]})})])};z.exports={draw_mail:(t,q)=>(l,{dt:r})=>{if(e.is_gig(t))return e.draw_mail_body(t,q)(l,{dt:r});if(f.is_daily(t))return f.draw_mail_body(t,
q)(l,{dt:r});if(t.startsWith("junk"))return w(t,q)(l,{dt:r});if(m[t]){let A={b:{tint:[1,1,1,b.lerp(.2,.25,b.noise(111,2,1,(l.ticks+r)/10))]},i:{tint:[0,1,1,b.lerp(.7,1,b.noise(111,2,1,(l.ticks+r+123)/10))],subfamily:"Italic"},a:{tint:[1,1,0,b.lerp(.7,1,b.noise(111,2,1,(l.ticks+r+313)/10))],overlap_id:"mail_link"}};return a.text({parts:m[t].body.map(y=>({...A[y.tag],text:y.text})),font:"B612 Mono",align:["top","left"],margin:115,size:2.8,tint:[1,1,1,1],line_height:1.4})}return a.text({text:`This is an email with id ${t}`,
font:"B612 Mono",align:["center","center"],pos:[.5*q[0],-.5*q[1],0],size:4,tint:[1,1,1,1]})},mail_subject:t=>{if(e.is_gig(t))t=e.mail_subject(t);else if(f.is_daily(t))t=f.mail_subject(t);else if(t.startsWith("junk")){t=parseInt(t.split("junk")[1],10);let q=[];for(let l=0;l<b.lerp(15,25,b.seeded_rand(t)());l++)q.push(b.array_sample(1E3*t+l,"!@    #$%^&*()-=+hfauseklbnm,vcxzuipowe".split("")));t=q.join("")}else t=m[t]?m[t].subject:"unknown mail id";return t},mail_from:t=>e.is_gig(t)?e.mail_from(t):
f.is_daily(t)?f.mail_from(t):t.startsWith("junk")?v(t):m[t]?m[t].from:"unknown mail id"}}),Vf=R((x,z)=>{var {fabs:b,math:a}=wa();({themes:x}=Ha());var {mail_subject:e,mail_from:f}=Rb(),d=x.default;z.exports=({time:g,size:c,data:h,selected:n,hovered:p,oid:m})=>{let {id:v,status:w}=h,t=n?d.list_selected_text_col:p||"unread"==w?d.list_hover_text_col:d.list_text_col;h=n?d.list_selected_bg_col:p?d.list_hover_bg_col:d.list_bg_col;let q=e(v),l=f(v);return b.group({pos:[0,-c[1],0]},[b.rect_fill({size:c,tint:h,
overlap_id:m}),b.shadow({tint:[1,1,1,.2],z:-3,fab:()=>b.group({pos:[0,0,3.1]},[b.text({text:l,pos:[.1*c[0],.33*c[1],0],font:"B612 Mono",subfamily:"done"==w?"Italic":"unread"==w?"Bold Italic":"Italic",tint:"done"==w||"read"==w?a.v4.mul([1,1,1,.6],t):t,align:["center","left"],size:2.5}),b.text({text:q,pos:[.1*c[0],.6*c[1],0],font:"B612 Mono",subfamily:"done"==w?"Italic":"unread"==w?"Bold":"Regular",tint:"done"==w||"read"==w?a.v4.mul([1,1,1,.6],t):t,align:["center","left"],size:3}),"done"==w&&b.group({pos:[.9*
c[0],.35*c[1],0],scale:[.05*c[0],.05*c[0],1]},[b.line({from:[0,0,0],to:[1,1,0],width:.1,tint:[1,1,1,.3]}),b.line({from:[0,0,0],to:[-.5,.5,0],width:.1,tint:[1,1,1,.3]})]),"unread"==w&&b.text({text:"*",font:"B612 Mono",tint:[1,0,0,a.lerp(.2,.8,a.ease.exp_io(a.ranged_sin(g/15,0,1)))],size:6,pos:[.08*c[0],.1*c[1],.1],align:["bottom","center"]})])})])}}),Wf=R((x,z)=>{var {fabs:b}=wa(),{mail_subject:a,mail_from:e}=Rb();z.exports=({size:f,id:d})=>{let g=a(d);d=e(d);let c=f[0];f=f[1];return b.group(null,
[b.text({pos:[.05*c,0,0],text:g,font:"B612 Mono",subfamily:"Bold",tint:[1,1,1,1],size:4,align:["top","left"]}),b.text({pos:[.05*c,.4*-f,0],text:"from: "+d,font:"B612 Mono",tint:[1,1,1,.7],size:2.5,align:["top","left"],subfamily:"Italic"}),b.line({from:[0,.7*-f,0],to:[c,.7*-f,0],width:.5,tint:[1,1,1,.5]})])}}),Xf=R((x,z)=>{var {math:b}=na(),a=ra(),{fabs:e}=sa()(),{layout:f,l2v:d}=Ba(),{fab_window_frame:g,app_switch_duration:c,gigs_window_box:h}=Ha(),{fab_scroll_list:n}=ub(),p=Vf(),m=Wf(),{draw_mail:v}=
Rb(),{try_complete_gig:w}=rb();a.on("read_mail",(t,{id:q})=>{a.emit(t,"read_mail/"+q,{})});z.exports={tick:(t,q,l)=>{let r=l.some(A=>"mouse_down"==A.type);t=l.filter(A=>"scroll"==A.type).map(A=>.015*A.delta).reduce((A,y)=>A+y,0);l=q.mailbox.filter(A=>"pending"!=A.status&&"expired"!=A.status);q.mail_scroll_offset=b.clamp(0,Math.max(0,l.length-10),q.mail_scroll_offset+t);r&&q.cursor_overlaps.mail_link&&a.emit(q,"clicked",{oid:"mail_link"});q.mailbox.forEach(A=>{r&&q.cursor_overlaps[`mail_${A.id}`]&&
(q.mail_selected=A.id,"unread"==A.status&&(A.status="read",a.emit(q,"read_mail",{id:A.id})))});r&&q.cursor_overlaps.daily_redeem_btn&&a.emit(q,"clicked/daily_redeem_btn",{});r&&q.cursor_overlaps.complete_gig_btn&&(w(q,q.mail_selected),q.props[q.props_by_id.terminal].state.scenes.desktop.completed_gigs.push(q.mail_selected))},draw:(t,q,{dt:l})=>{t=t.state.scenes.desktop;let r=t.ticks+l;t=b.clamp(0,1,(r-t.app_switched_at)/c);let A=null!==q.mail_selected;return g(h,"MAIL",r,t,y=>{y=f([0,0],y);[,y]=y.hsplit_pct(.05);
let [C,B]=y.vsplit_pct(.4);return e.group(null,[e.group({pos:d(C.pos(0,0))},[n({size:C.size(),visible_count:10,offset:Math.floor(q.mail_scroll_offset),data:q.mailbox.filter(J=>"pending"!=J.status&&"expired"!=J.status),child_fab:p,cursor_overlaps:q.cursor_overlaps,selected_id:q.mail_selected,oid_prefix:"mail",time:r})]),A&&e.group({pos:d(B.pos(0,0),2.1),tint:[1,1,1,b.ranged_sin(r/10,.9,1)]},[m({time:r,size:B.size_pct(1,.1),id:q.mail_selected}),e.group({pos:[.05*B.width(),.1*-B.height(),0]},[e.shadow({tint:[1,
1,1,.2],z:-3,fab:()=>e.group({pos:[0,0,3]},[v(q.mail_selected,B.size_pct(1,.9))(q,{dt:l})])})])])])})}}}),Yf=R((x,z)=>{var {fabs:b,math:a,layout:e,l2v:f}=wa(),{addresses:d}=Za(),{insight_to_level:g,level_to_insight:c,server_insight_buffs:h}=Ta(),{u:n}=Fa();({themes:x}=Ha());var {server_intel:p}=lc(),m=x.default,v=m.minor_text_col,w=m.title_text_col;z.exports=({size:t,address:q,cursor_overlaps:l,insight:r,max_depth:A,warps:y,enabled:C})=>{let B=e([0,0],t).pad(8,8);t=d[q];if(!t)return!1;var J=D=>{let L=
D.req_insight&&g(r)<D.req_insight,M=D.or_depth&&A>D.or_depth;return L&&!M?{key:D.key,val:`req. Insight Lv${D.req_insight}`,locked:!0,hide_key:D.hide_key}:D};y="daily"==t.id?[...t.intel.filter(D=>"security"!==D.type),...p(y)]:t.intel;var F=n.group_by(D=>D.type,y);y=(F.header||[]).map(J);q=n.arr_pad({key:"--",val:"--"},6,(F.security||[]).map(J));J=(F.assets||[]).map(J);let I=h(r,t.seed);F=Object.keys(I).filter(D=>0<I[D]).map(D=>({dmg_pct:L=>`+${Math.floor(100*L)}% damage`,starting_mem:L=>`+${Math.floor(L)} starting MEMORY`,
bonus_exp_pct:L=>`+${Math.floor(100*L)}% EXP`,detection_delay_sec:L=>`+${Math.floor(L)}s detection delay`,detection_resist_pct:L=>`-${Math.floor(100*L)}% detection rate`})[D](I[D]));l=C?l.dialer_btn_connect?m.cta_hover_col:m.cta_col:m.minor_text_col;let G=a.v4.mul(l,[1,1,1,.3]),O=D=>{let L=Math.max(...D.map(M=>M.key.length));return D.map(M=>[{text:(M.locked&&M.hide_key?"--":M.key.toLowerCase()).padEnd(L+2," "),font:"B612 Mono",size:3,tint:v},{text:M.val+"\n",font:"B612 Mono",subfamily:M.locked?"Italic":
"Regular",size:3,tint:M.tint||(M.locked?v:w)}]).flat()},P=(D,L,M)=>b.group({pos:f(B.pos(0,D))},[b.text({align:["top","left"],parts:[{text:L,font:"B612 Mono",size:4,tint:w},{text:" ".padEnd(30-L.length,"/"),font:"B612 Mono",subfamily:"Italic",size:4,tint:m.minor_text_col}]}),b.text({pos:[0,-7,0],align:["top","left"],line_height:1.5,parts:O(M)})]);return b.group(null,[b.text({pos:f(B.pos(0,5)),align:["top","left"],parts:[{text:t.label+"\n\n",font:"B612 Mono",size:5,tint:w},{text:"".padEnd(30,"/"),font:"B612 Mono",
size:4,tint:m.minor_text_col}]}),b.text({pos:f(B.pos(0,22)),align:["top","left"],line_height:1.5,parts:O(y)}),P(39,"SECURITY",q),P(77,"ASSETS",J),b.group({pos:f(B.pos(B.size_pct(1,0)[0],5))},[b.text({align:["top","right"],parts:[{text:"Insight ",font:"B612 Mono",size:5,tint:w},{text:"Lv"+Math.floor(g(r)),font:"B612 Mono",subfamily:"Bold",size:5,tint:w}]})]),b.group({pos:f(B.pos(B.size_pct(1,0)[0],12))},[b.text({align:["top","right"],parts:[{text:`${Math.floor(r)}/${Math.floor(c(Math.floor(g(r))+1))}`,
font:"B612 Mono",size:3,tint:w}]})]),b.group({pos:f(B.pos(B.size_pct(1,0)[0],20))},F.map((D,L)=>b.text({pos:[0,-5*L,0],text:D,font:"B612 Mono",subfamily:"Italic",tint:[.2,.2,.9,1],size:3,align:["top","right"]}))),b.group({pos:f(B.pos_pct(1,1))},[C&&b.rect_fill({origin:[1,0],size:[60,14],tint:[1,0,0,0],overlap_id:"dialer_btn_connect"}),b.rect_stroke({pos:[-30,7,0],origin:[.5,.5],size:[60,14],tint:l,width:.5}),b.rect_stroke({pos:[-28.5,5.5,0],origin:[.5,.5],size:[60,14],tint:G,width:.5}),b.text({pos:[-30,
7,.1],text:"CONNECT >>>",font:"B612 Mono",size:4,align:["center","center"],tint:l})])])}}),Zf=R((x,z)=>{var {fab_window_frame:b,app_switch_duration:a,address_window_box:e,themes:f}=Ha(),{math:d}=na(),g=Ga(),{layout:c,ui_box:h,l2v:n}=Ba(),{fabs:p}=sa()(),{addresses:m}=Za(),v=Yf(),{u:w}=Fa(),t=Na(),q=f.default;z.exports={tick:(l,r,A)=>{let y=A.some(C=>"mouse_down"==C.type);A=Object.values(m).filter(C=>r.flags["sv/"+C.id]);A.map(C=>C.id).includes(r.run_server)||(r.run_server=null);A.forEach(C=>{y&&r.cursor_overlaps[`addr_${C.id}`]&&
(r.run_server=C.id)});y&&r.cursor_overlaps.dialer_btn_connect&&g.queue(l.state.auto,[[30,"(lerp desktop_reveal 1 0)"],[0,"(set desktop_reveal 0)"],[0,"(change_loudly mode_terminal connected)"],[0,"(change_loudly mode_connection connected)"]])},draw:(l,r,{dt:A})=>{l=l.state.scenes.desktop;let y=l.ticks+A;A=d.clamp(0,1,(y-l.app_switched_at)/a);let C=Object.values(m).filter(I=>r.flags["sv/"+I.id]),B=w.obj.map_vals(I=>I(r),(m[r.run_server]||{}).requirements||{}),J=Object.keys(B).filter(I=>!B[I]),F=J.map(I=>
t["en.server.requirements."+I]);return b(e,"SERVERS",y,A,I=>{I=c([0,0],I);let [G,O]=I.vsplit_pct(.35),[P,D]=G.hsplit_pct(.1),L=D.hsplit_n(12);return p.group(null,[p.group({pos:[0,0,.1]},[p.text({text:"Known Servers",pos:n(P.pos_pct(.1,.5)),font:"B612 Mono",size:4,tint:q.title_text_col,align:["center","left"]}),p.group(null,C.map((M,X)=>{let ea=`addr_${M.id}`;X=L[X];var V=M.label,H=r.cursor_overlaps[ea];let ca=(M=r.run_server==M.id)?q.list_selected_text_col:H?q.list_hover_text_col:q.list_text_col;
return p.group(null,[h({box:X,tint:M?q.list_selected_bg_col:H?q.list_hover_bg_col:q.list_bg_col,overlap_id:ea}),p.text({text:V,pos:n(X.pos_pct(.1,.5),.1),font:"B612 Mono",size:3,tint:ca,align:["center","left"]})])})),r.run_server&&p.group({pos:n(O.pos(0,0))},[v({size:O.size(),enabled:0==J.length,address:r.run_server,cursor_overlaps:r.cursor_overlaps,time:y,insight:r.insight[r.run_server]||0,max_depth:600,warps:r.daily_warps}),0<J.length&&p.group(null,[p.rect_fill({pos:[...O.size_pct(.5,-.4),.1],origin:[.5,
.5],size:O.size_pct(.8,.4),tint:[.1,0,0,.8]}),p.shadow({tint:[1,1,1,.3],z:-4,fab:()=>p.group({pos:[0,0,4]},[p.rect_stroke({width:.3,tint:[1,0,0,d.lerp(.6,.8,d.noise(111,2,1,y/20+100))],origin:[.5,.5],pos:[...O.size_pct(.5,-.4),.1],size:O.size_pct(.8,.4)}),p.rect_fill({pos:[...O.size_pct(.5,-.3),.17],size:O.size_pct(.7,.05),width:.3,tint:[1,.2,.2,d.lerp(.5,.8,d.noise(111,2,1,y/20+100))],origin:[.5,.5]}),p.text({pos:[...O.size_pct(.5,-.3),.2],text:t["en.server.unavailable"],size:4.5,font:"B612 Mono",
tint:[0,0,0,1],align:["center","center"]}),p.text({pos:[...O.size_pct(.5,-.4),.2],parts:F.map(M=>({text:M+"\n\n"})),size:4.5,font:"B612 Mono",tint:[1,.1,.1,d.ranged_sin(y/8,.5,1)*d.lerp(.7,1,d.noise(111,2,1,y/20+321))],align:["center","center"]})])})])])])])})}}}),nc=R((x,z)=>{({layout2:x}=wa());var {n:b,draw_layout:a}=x,{vsplit_pct:e,hsplit_pct:f}=x.helpers;z.exports=(d,g,c,h)=>a(b({layout:e(.1)},[b({draw:d}),b({layout:f(.4)},[b({layout:e(.9)},[b({draw:g}),b({draw:c})]),b({draw:h})])]))}),oc=R((x,
z)=>{({layout2:x}=wa());var {draw_layout:b,n:a}=x,{hsplit:e}=x.helpers;z.exports=(f,d,g)=>b(a({layout:e},f.map((c,h)=>c(d==h,g==h)).map(c=>a({draw:c}))))}),pc=R((x,z)=>{var {fabs:b}=wa();({themes:x}=Ha());var a=x.default;z.exports=(e,f)=>(d,g)=>c=>b.group(null,[b.rect_fill({size:c,origin:[0,1],tint:[0,0,0,0],overlap_id:f}),b.text({pos:[c[0]/2,-c[1]/2,0],text:e.toUpperCase(),font:"B612 Mono",subfamily:d?"Bold":"Regular",size:3,tint:g||d?a.list_selected_text_col:a.list_text_col,align:["center","center"]}),
d&&b.line({from:[.1*c[0],.8*-c[1],.1],to:[.9*c[0],.8*-c[1],.1],width:.5,tint:a.title_text_col})])}),Sb=R((x,z)=>{var {fabs:b,layout2:a,lru_cache:e}=wa(),{draw_layout:f,n:d}=a,{vstack:g,rh:c,rw:h,abs:n,hsplit_pct:p,bottom:m}=a.helpers,v=sb(),w=Na(),{firmware_info:t}=Xa(),{themes:q}=Ha(),l=q.default,r=(F,I,G,O)=>e.fetch(["ts",F,I,G,O].join("/"),()=>{let P=b.text({text:w[F]||F,font:I,margin:O,line_height:1.4,size:G,tint:[0,0,0,0]}).kids[0].kids[0].kids,D=1/0,L=1/0,M=-1/0,X=-1/0,ea=0,V=P.length;for(;ea<
V;){var H=P[ea].transform,ca=H.pos,U=H.scale;H=ca[0];let W=H+U[0];ca=ca[1];U=ca+U[1];H<D&&(D=H);W>M&&(M=W);ca<L&&(L=ca);U>X&&(X=U);ea++}return[Math.abs(M-D),Math.abs(X-L)]}),A=(F,I,G,O)=>P=>b.rect_fill({size:P,origin:[0,1],tint:[F,I,G,O]}),y=(F,I,G,O,P)=>D=>b.text({text:F,font:"B612 Mono",subfamily:P||"Regular",line_height:1.4,size:I,tint:G,align:["top",O||"left"]}),C=(F,I,G,O)=>{F=Object.keys(I).length;G=Object.keys(O).length;F=Array(Math.max(F,G)).fill("X").join("\n");let P=r(F,"B612 Mono",2.2)[1],
D={cpu_speed:{label:"CPU SPEED",val:M=>`+${M}`},bandwidth:{label:"UPLINK",val:M=>`+${M}`},security:{label:"SECURITY",val:M=>`+${M}`},cooling:{label:"COOLING",val:M=>`+${M}`},coherence:{label:"COHERENCE",val:M=>`+${M}`},read_rate:{label:"READER SPEED",val:M=>`+${M}%`},starting_cash:{label:"STARTING MEMORY",val:M=>`+${M.toLocaleString("en-US")}`},starting_time:{label:"TIME",val:M=>`+${M}s`},max_memory:{label:"MAX MEMORY",val:M=>`+${M.toLocaleString("en-US")}`},sigtrace:{label:"BASE SIGTRACE",val:M=>
`+${M}`},sigtrace_suppression:{label:"SIGTRACE SUPPRESSION",val:M=>`+${M}`},delta:{label:"STARTING DELTA",val:M=>`+${M}`},give_mod:{label:"HARDMOD",val:M=>t(M).label},utility_slots:{label:"UTILITY SLOTS",val:M=>`+${M}`}},L={label:"unknown",val:M=>`${M}`};F=M=>d({hpad:h(.08),h:n(P)},[d({draw:y(Object.keys(M).map(X=>(D[X]||L).label).join("\n"),2.2,q.title_text_col,null,"Italic")}),d({w:n(0),x:h(1),draw:y(Object.keys(M).map(X=>`${(D[X]||L).val(M[X])}`).join("\n"),2.2,l.title_text_col,"right","Bold Italic")})]);
return d({h:M=>P+.05*M[1],vpad:c(.05),hpad:c(.025),layout:p(.4),draw:A(1,1,1,.05)},[F(I),0<Object.keys(O).length?F(O):d({hpad:h(.08),h:n(P)},[d({draw:y("NOT FOUND",3,l.minor_text_col)})])])},B=(F,I)=>d({h:c(.05),layout:p(.4),pad:c(.032),draw:A(1,1,1,.1)},[d({hpad:h(.07)},[d({draw:y(`${F} specs`,2.5,l.title_text_col,null,"Regular")})]),d({hpad:h(.07)},[d({draw:y(`INSTALLED: ${I||"<none>"}`,2.5,l.title_text_col,null,"Regular")})])]),J=(F,I)=>{let G=(D,L,M)=>X=>b.text({pos:[X[0],-X[1]/2,0],text:D,font:"B612 Mono",
size:3,tint:L?I[M]?l.cta_hover_col:l.cta_col:l.minor_text_col,align:["center","right"]}),O=(D,L)=>d({h:n(6)},[d({draw:M=>b.rect_fill({size:M,origin:[0,1],overlap_id:D,tint:[0,0,0,0]})}),d({draw:G(L.label,L.enabled,D)})]),P=6*Object.keys(F).length;return d({h:n(P),y:m(c(1)),layout:g},Object.keys(F).map(D=>O(D,F[D])))};z.exports=({item:F,comparison_item:I,options:G,cursor_overlaps:O})=>{let P=F.title;var D=F.size;let L=`${F.rarity.toUpperCase()} ${F.category.toUpperCase()}`+(null==D?"":`, ${v(F.size)}`),
M=F.desc;D="equipment"==F.category?F.equip_slot.toUpperCase():null;F="equipment"==F.category?F.stat_bonuses:null;let X=I?I.title:null;I=I?I.stat_bonuses:{};let ea=d({h:c(.1),draw:U=>b.text({text:w[P]||P,pos:[U[0]/2,-U[1]/2,0],font:"B612 Mono",size:5,tint:l.title_text_col,align:["center","center"]})}),V=d({h:c(.07),draw:U=>b.text({text:"// "+(w[L]||L),pos:[U[0]/2,.3*-U[1],0],font:"B612 Mono",size:3,tint:l.minor_text_col,align:["center","center"]})}),H=d({draw:U=>b.text({text:w[M]||M,font:"B612 Mono",
size:3,tint:l.minor_text_col,margin:U[0],line_height:1.4,align:["top","left"]})}),ca=F&&I;return f(d({},[d({layout:g,hpad:c(.1)},[ea,V,ca?B(D,X):d({h:n(0)}),ca?C(D,F,X,I):d({h:n(0)}),d({vpad:c(.1)},[H])]),d({pad:c(.1)},[J(G,O)])]))}}),qc=R((x,z)=>{var {fabs:b,layout2:a}=wa(),{n:e,draw_layout:f}=a,{hsplit:d,hsplit_pct:g,rw:c}=a.helpers;({themes:x}=Ha());var h=x.default;z.exports=(n,p)=>{let m=w=>t=>b.text({pos:[t[0]/2,-t[1]/2,0],text:w,font:"B612 Mono",size:3,tint:h.title_text_col,align:["center",
"center"]}),v=(w,t,q)=>l=>b.group(null,[b.rect_fill({size:l,origin:[0,1],tint:[0,0,0,0],overlap_id:q}),b.text({text:w,pos:[l[0]/2,-l[1]/2,0],font:"B612 Mono",subfamily:t?"Bold":"Regular",size:2.5,tint:t?h.title_text_col:h.minor_text_col,align:["center","center"]}),t&&b.line({from:[.4*l[0],.7*-l[1],0],to:[.6*l[0],.7*-l[1],0],tint:h.title_text_col,width:.5})]);return f(e({layout:d},[e({layout:g(.4,.3),hpad:c(.15)},[e({draw:m("SORT:")}),e({draw:v("A-Z","sort_az"==n,"sort_az")}),e({draw:v("Cost","sort_cost"==
n,"sort_cost")})]),e({layout:g(.4,.3),hpad:c(.15)},[e({draw:m("ORDER:")}),e({draw:v("ASC","sort_asc"==p,"sort_asc")}),e({draw:v("DESC","sort_desc"==p,"sort_desc")})])]))}}),Tb=R((x,z)=>{na();var {fabs:b}=sa()(),{layout:a,ui_box:e,l2v:f}=Ba(),{items:d}=Ia();({themes:x}=Ha());var g=x.default;z.exports={fab_list_item:({show_value:c})=>({size:h,data:n,hovered:p,selected:m,oid:v})=>{let {id:w,count:t,badge:q}=n;n=d[w];h=a([0,0],h);let l=h.pad(0,0),r=m?g.list_selected_text_col:p?g.list_hover_text_col:g.list_text_col;
p=m?g.list_selected_bg_col:p?g.list_hover_bg_col:g.list_bg_col;m=n.title;return b.group(null,[e({box:h,tint:[0,0,0,0],overlap_id:v}),e({box:l,tint:p}),b.group({pos:f(h.pos_pct(.1,.5),.1)},[b.text({text:1==t?m:`${m} (x${t.toLocaleString("en-US")})`,font:"B612 Mono",tint:r,align:["center","left"],size:3})]),c&&b.text({text:`$${n.cost.toLocaleString("en-US")}`,pos:f(h.pos_pct(.9,.5),.1),font:"B612 Mono",subfamily:"Italic",tint:r,align:["center","right"],size:3}),!!q&&b.text({text:`${q}`,pos:f(h.pos_pct(.9,
.5),.1),font:"B612 Mono",subfamily:"Bold",tint:r,align:["center","right"],size:3})])}}}),$f=R((x,z)=>{var {math:b}=na(),{fab_window_frame:a,app_switch_duration:e,shop_window_box:f}=Ha(),d=nc(),g=oc();x=pc();var c=Sb(),h=qc(),{fab_scroll_list:n}=ub(),{fab_list_item:p}=Tb(),{items:m,available_items:v,CAT_CONSUMABLE:w,CAT_EQUIPMENT:t,SLOT_CPU:q,SLOT_MODEM:l,SLOT_FIREWALL:r,SLOT_COOLER:A,SLOT_TRINKET:y,SLOT_DRIVE:C}=Ia(),{add_item_to_inventory:B}=db(),J=[{oid:"tab_all",fab:x("All","tab_all"),filter:()=>
!0},{oid:"tab_consumable",fab:x("Consumable","tab_consumable"),filter:G=>G.category==w},{oid:"tab_cpu",fab:x("CPU","tab_cpu"),filter:G=>G.category==t&&G.equip_slot==q},{oid:"tab_modem",fab:x("Modem","tab_modem"),filter:G=>G.category==t&&G.equip_slot==l},{oid:"tab_firewall",fab:x("Firewall","tab_firewall"),filter:G=>G.category==t&&G.equip_slot==r},{oid:"tab_cooler",fab:x("Cooler","tab_cooler"),filter:G=>G.category==t&&G.equip_slot==A},{oid:"tab_drive",fab:x("Drive","tab_drive"),filter:G=>G.category==
t&&G.equip_slot==C},{oid:"tab_trinket",fab:x("Trinket","tab_trinket"),filter:G=>G.category==t&&G.equip_slot==y}],F={sort_az:(G,O)=>m[G].title<m[O].title?-1:1,sort_cost:(G,O)=>m[G].cost<m[O].cost?-1:1},I={sort_asc:G=>G,sort_desc:G=>(O,P)=>G(P,O)};z.exports={tick:(G,O,P)=>{let D=P.some(H=>"mouse_down"==H.type),L=G.state.scenes.desktop;J.forEach((H,ca)=>{D&&O.cursor_overlaps[H.oid]&&(L.shop_active_tab=ca,L.shop_scroll_offset=0)});var M=P.filter(H=>"scroll"==H.type).map(H=>.015*H.delta).reduce((H,ca)=>
H+ca,0);let X=v(G.state.inventory).reduce((H,ca)=>(H[ca]=!0,H),{}),ea=J[L.shop_active_tab].filter;P=L.shop_items.filter(H=>X[H]).filter(H=>ea(m[H]));var V=[...(new Set(P))];if(L.shop_scroll_offset=b.clamp(0,Math.max(0,V.length-20),L.shop_scroll_offset+M),D)M=L.shop_items.find(H=>D&&O.cursor_overlaps[`shop_item_${H}`]),void 0!==M&&(L.selected_shop_item=M);if(P.includes(L.selected_shop_item)||(L.selected_shop_item=null),D&&O.cursor_overlaps.sort_az?L.shop_sort_rule="sort_az":D&&O.cursor_overlaps.sort_cost&&
(L.shop_sort_rule="sort_cost"),D&&O.cursor_overlaps.sort_asc?L.shop_sort_order="sort_asc":D&&O.cursor_overlaps.sort_desc&&(L.shop_sort_order="sort_desc"),D&&O.cursor_overlaps.shop_buy_btn){let H=L.selected_shop_item;P=m[H];M=P.cost;if(M<=O.irl_cash&&(B(O,H),V=L.shop_items.findIndex(ca=>ca==H),L.shop_items.splice(V,1),O.irl_cash-=M,P.equip_slot))for(G=G.state.equip_slots[P.equip_slot],G.push(H);1<G.length;)G.shift()}},draw:(G,O,{dt:P})=>{let D=G.state.scenes.desktop;P=D.ticks+P;let L=b.clamp(0,1,(P-
D.app_switched_at)/e),M=v(G.state.inventory).reduce((fa,ba)=>(fa[ba]=!0,fa),{}),X=J[D.shop_active_tab].filter;var ea=D.shop_items.filter(fa=>M[fa]).filter(fa=>X(m[fa])).sort(I[D.shop_sort_order](F[D.shop_sort_rule]));let V=Object.values(ea.reduce((fa,ba)=>(null==fa[ba]&&(fa[ba]={id:ba,count:0}),fa[ba].count++,fa),{}));ea=D.shop_active_tab;let H=J.findIndex(fa=>O.cursor_overlaps[fa.oid]),ca=g(J.map(fa=>fa.fab),ea,H),U=fa=>n({size:fa,visible_count:20,offset:Math.floor(D.shop_scroll_offset),data:V,child_fab:p({show_value:!0}),
cursor_overlaps:O.cursor_overlaps,selected_id:D.selected_shop_item,oid_prefix:"shop_item"}),W=fa=>{let ba=D.selected_shop_item,S=null;if(ba&&"equipment"==m[ba].category){let k=m[ba].equip_slot;0<G.state.equip_slots[k].length&&(S=G.state.equip_slots[k][0])}return ba&&c({item:m[ba],comparison_item:m[S],options:{shop_buy_btn:{label:`Buy for $${m[ba].cost.toLocaleString("en-US")}`,enabled:O.irl_cash>=m[ba].cost}},cursor_overlaps:O.cursor_overlaps})(fa)},da=fa=>h(D.shop_sort_rule,D.shop_sort_order)(fa);
return a(f,"SHOP",P,L,fa=>d(ca,U,da,W)(fa))}}}),ag=R((x,z)=>{var {fabs:b,layout2:a,math:e}=wa(),{draw_layout:f,n:d}=a,{vstack:g,rh:c,abs:h,bottom:n}=a.helpers;sb();var p=Na();({themes:x}=Ha());var m=x.default,v=(t,q)=>{let l=(y,C,B)=>J=>b.text({pos:[J[0],-J[1]/2,0],text:y,font:"B612 Mono",size:3,tint:C?q[B]?m.cta_hover_col:m.cta_col:m.minor_text_col,align:["center","right"]}),r=(y,C)=>d({h:h(6)},[d({draw:B=>b.rect_fill({size:B,origin:[0,1],overlap_id:C.enabled?y:null,tint:[0,0,0,0]})}),d({draw:l(C.label,
C.enabled,y)})]),A=6*Object.keys(t).length;return d({h:h(A),y:n(c(1)),layout:g},Object.keys(t).map(y=>r(y,t[y])))},w=(t,q)=>q.split("\n").map((l,r)=>l.split("").map((A,y)=>{if(" "==A)return A;y=Math.floor(100*e.noise3d(4321,1,1,t/1E3,r/100,y/100));return String.fromCharCode((A.charCodeAt(0)+y)%-94+33)}).join("")).join("\n");z.exports=({item:t,options:q,cursor_overlaps:l,time:r,encrypted_dt:A,content:y})=>{let C=t.title,B=t.desc;t=y.text;var J=Math.floor(t.length*e.ease.i3(1-A));t=t.slice(0,J)+w(r,
t.slice(Math.floor(J),t.length));y={...y,text:t};t=d({h:c(.1),draw:F=>b.text({text:p[C]||C,pos:[F[0]/2,-F[1]/2,0],font:"B612 Mono",size:5,tint:m.title_text_col,align:["center","center"]})});J=d({h:c(.07),draw:F=>b.text({text:p[B]||B,pos:[F[0]/2,.3*-F[1],0],font:"B612 Mono",size:3,tint:m.minor_text_col,align:["center","center"]})});return f(d({},[d({layout:g,draw:F=>{let I=[],G=[0,0,0],O=[0,-F[1],0],P=[F[0],0,0],D=[F[0],-F[1],0],L=e.lerp(.4,e.lerp(.3,.5,e.noise(111,2,1,r/15)),A);F=ea=>.5>ea?e.v3.lerp(G,
O,e.clamp(0,1,2*ea)):e.v3.lerp(O,D,e.clamp(0,1,2*(ea-.5)));let M=ea=>(ea+=L,.5>ea?e.v3.lerp(G,P,e.clamp(0,1,2*ea)):e.v3.lerp(P,D,e.clamp(0,1,2*(ea-.5)))),X=({from:ea,to:V,width:H,tint:ca})=>{let U=e.v3.lerp(ea,V,.5);return b.group(null,[b.gradient_line({from:ea,to:U,tint_a:e.v4.mul(ca,[1,1,1,0]),tint_b:ca,width:H,steps:3}),b.gradient_line({from:U,to:V,tint_a:ca,tint_b:e.v4.mul(ca,[1,1,1,0]),width:H,steps:3})])};for(let ea=0;150>ea;ea++){let V=(12.451*ea+r/100)%1,H=ea/150>=A?.3:1;I.push(X({from:F(V),
to:M(V),width:.8,tint:[H,.3,.3,.7*e.lerp(0,.4,e.noise(3131,2,1,ea+r/10)*e.ease.bounce_io(1-e.clamp(0,1,Math.abs(.3-V)/e.lerp(.3,.7,A))))]}))}return b.group(null,I)},hpad:c(.1)},[t,J,d({vpad:c(.1)},[(F=>d({draw:I=>{let G=b.text({text:F.text,font:F.font,subfamily:F.styles.default.subfamily||"Regular",size:1.1*F.size,tint:e.v4.mul(e.v4.lerp(F.styles.default.tint,[1,0,0,1],.2),[1,1,1,e.noise(3132,2,1,r/10)*A]),margin:1.1*I[0],line_height:1.2727272727272725,align:["top","left"],pos:[1,1,.2]}),O=b.text({text:F.text,
font:F.font,subfamily:F.styles.default.subfamily||"Regular",size:F.size,tint:e.v4.mul(F.styles.default.tint,[1,1,1,e.lerp(.2,.4,e.noise(3132,2,1,r/10))*(1-A)]),margin:I[0],line_height:1.4/1.1,align:["top","left"],pos:[1,-1,.2]});I=b.text({text:F.text,font:F.font,subfamily:F.styles.default.subfamily||"Regular",size:F.size,tint:F.styles.default.tint,margin:I[0],line_height:1.4,align:["top","left"]});return b.group(null,[I,G,O])}}))(y)])]),d({pad:c(.1)},[v(q,l)]),d({draw:F=>{if(0==A)return!1;var I=e.quantize(100*
e.ease.o3(A),5)/100;I=Array(Math.floor(20*(1-I))).fill("_").join("")+Array(Math.floor(20*I)).fill("#").join("");let G=e.ease.seq([{len:.8,fn:e.ease.hold(1)},{len:.2,fn:e.ease.inv(e.ease.flickerf(e.ease.elastic_i))}])(1-A);return b.group({pos:[0,0,2]},[b.rect_fill({pos:[.05*F[0],.425*-F[1],0],size:[.9*F[0],.15*F[1]],tint:[.7,.7,0,e.ranged_sin(r/8,.8,.95)*G]}),b.text({pos:[F[0]/2+.5,.33*-F[1]-.5,.1],text:"content inaccessible",font:"Major Mono Display",subfamily:"Regular",size:6,tint:[0,0,0,.2],align:["center",
"center"]}),b.text({pos:[F[0]/2,.33*-F[1],.2],text:"content inaccessible",font:"Major Mono Display",subfamily:"Regular",size:6,tint:[0,0,0,1],align:["center","center"]}),b.text({pos:[F[0]/2+.5,.38*-F[1]+.5,.1],text:`ENCRYPTED BLOCKS // ${I}`,font:"B612 Mono",subfamily:"Regular",size:2.5,tint:[0,0,0,.2],align:["center","center"]}),b.text({pos:[F[0]/2,.38*-F[1],.2],text:`ENCRYPTED BLOCKS // ${I}`,font:"B612 Mono",subfamily:"Regular",size:2.5,tint:[0,0,0,.8],align:["center","center"]})])}})]))}}),bg=
R((x,z)=>{var {math:b}=na(),a=Ga(),e=nc(),f=oc();x=pc();var d=Sb(),g=ag(),c=qc(),{app_switch_duration:h,fab_window_frame:n,files_window_box:p}=Ha(),{items:m,CAT_LOOT:v,CAT_CONSUMABLE:w,CAT_EQUIPMENT:t,CAT_KEY:q,CAT_FILE:l}=Ia(),{fab_list_item:r}=Tb(),{fab_scroll_list:A}=ub(),y={file_test_1:{font:"B612 Mono",size:3,styles:{default:{subfamily:"Regular",tint:[1,1,1,1]}},text:"This is my test file\n\nit has some lines in it, don't forget\n\nanother line, another day\nforever"},file_test_2:{font:"B612 Mono",
size:4,styles:{default:{subfamily:"Italic",tint:[1,.2,1,1]}},text:"Another test file, super sneaky\n\none can only stop and wonder where it all\nwent wrong\n\nfor us"}},C=[{oid:"tab_all",fab:x("All","tab_all"),filter:F=>F.category!=l},{oid:"tab_loot",fab:x("Loot","tab_loot"),filter:F=>F.category==v},{oid:"tab_consumable",fab:x("Consumable","tab_consumable"),filter:F=>F.category==w},{oid:"tab_equipment",fab:x("Equipment","tab_equipment"),filter:F=>F.category==t},{oid:"tab_key",fab:x("Key","tab_key"),
filter:F=>F.category==q}],B={sort_az:(F,I)=>m[F].title<m[I].title?-1:1,sort_cost:(F,I)=>m[F].cost<m[I].cost?-1:1},J={sort_asc:F=>F,sort_desc:F=>(I,G)=>F(G,I)};z.exports={tick:(F,I,G)=>{let O=G.some(V=>"mouse_down"==V.type),P=F.state.scenes.desktop;C.forEach((V,H)=>{O&&I.cursor_overlaps[V.oid]&&(P.files_tab=H,P.files_scroll_offset=0)});var D=G.filter(V=>"scroll"==V.type).map(V=>.015*V.delta).reduce((V,H)=>V+H,0),L=F.state.inventory.filter(V=>C[P.files_tab].filter(m[V]));L=[...(new Set(L))];if(P.files_scroll_offset=
b.clamp(0,Math.max(0,L.length-20),P.files_scroll_offset+D),O&&I.cursor_overlaps.sort_az?P.files_sort_rule="sort_az":O&&I.cursor_overlaps.sort_cost&&(P.files_sort_rule="sort_cost"),O&&I.cursor_overlaps.sort_asc?P.files_sort_order="sort_asc":O&&I.cursor_overlaps.sort_desc&&(P.files_sort_order="sort_desc"),O)D=L.find(V=>O&&I.cursor_overlaps[`file_${V}`]),void 0!==D&&(P.selected_file=D);if(L.includes(P.selected_file)||(P.selected_file=null),O&&I.cursor_overlaps.files_use_btn){let V=P.selected_file;F.state.active_consumables.push(V);
D=F.state.inventory.findIndex(H=>H==V);F.state.inventory.splice(D,1)}if(O&&I.cursor_overlaps.files_equip_btn)for(D=P.selected_file,L=F.state.equip_slots[m[D].equip_slot],L.push(D);1<L.length;)L.shift();D=V=>{if(null!=V.equip_slot){var H=V.equip_slot;F.state.equip_slots[H]=F.state.equip_slots[H].filter(ca=>ca!=V.id)}};O&&I.cursor_overlaps.files_unequip_btn&&D(m[P.selected_file]);if(O&&I.cursor_overlaps.files_sell_1_btn){let V=P.selected_file;L=m[V];var M=F.state.inventory;if(!L.unique&&M.includes(V)){var X=
Math.floor(L.cost);let H=M.findIndex(ca=>ca==V);M.splice(H,1);I.irl_cash+=X;D(L)}}if(O&&I.cursor_overlaps.files_sell_all_btn){let V=P.selected_file;L=m[V];M=F.state.inventory;X=Math.floor(L.cost)*M.filter(H=>H==V).length;F.state.inventory=M.filter(H=>H!=V);I.irl_cash+=X;D(L)}if(O&&I.cursor_overlaps.files_transfer_btn&&(D=m[P.selected_file],F.state.kit_items.map(V=>m[V].size).reduce((V,H)=>V+H,0)+D.size<F.state.kit_capacity)){let V=P.selected_file;D=F.state.inventory;L=D.findIndex(H=>H==V);D.splice(L,
1);F.state.kit_items.push(V)}if(O&&I.cursor_overlaps.files_decrypt_btn&&a.queue(I.automator_state,[[0,`(set decrypting_file ${P.selected_file})`],[200,"(lerp inventory_decrypt_dt 0 1)"],[0,`(set_field decrypted_files ${P.selected_file} true)`],[0,"(set inventory_decrypt_dt 0)"]]),O&&I.cursor_overlaps.files_transfer_all_consumables_btn){let V=F.state.inventory;D=V.filter(H=>m[H].category==w);L=D.map(H=>m[H].size).reduce((H,ca)=>H+ca,0);F.state.kit_items.map(H=>m[H].size).reduce((H,ca)=>H+ca,0)+L<F.state.kit_capacity&&
D.forEach(H=>{let ca=V.findIndex(U=>U==H);V.splice(ca,1);F.state.kit_items.push(H)})}let ea=G.filter(V=>"key_down"==V.type).map(V=>V.key);C.forEach((V,H)=>{H=ea.includes(`${H+1}`);(O&&I.cursor_overlaps[`tab_${V}`]||H)&&(P.files_tab=V,P.files_scroll_offset=0,P.selected_file=null)})},draw:(F,I,{dt:G})=>{let O=F.state.scenes.desktop,P=O.ticks+G;G=b.clamp(0,1,(P-O.app_switched_at)/h);let D=C[O.files_tab];var L=F.state.inventory.filter(S=>D.filter(m[S])),M="tab_files"==D.oid?L:L.sort(J[O.files_sort_order](B[O.files_sort_rule]));
let X=Object.values(F.state.equip_slots).flat().reduce((S,k)=>(S[k]=!0,S),{}),ea=Object.values(M.reduce((S,k)=>{let u=X[k];return null==S[k]&&(S[k]={id:k,count:0,badge:u?"E":null}),S[k].count++,S},{})),V=null!==O.selected_file,H={};if(V){let S=O.selected_file;L=m[S];var ca=!L.unique&&L.category!=l,U=Math.floor(L.cost);let k=F.state.inventory.filter(E=>E==S).length,u=U*k;L.category==t&&(F.state.equip_slots[L.equip_slot].includes(S)?H.files_unequip_btn={label:`Remove from ${L.equip_slot.toUpperCase()} slot`,
enabled:!0}:H.files_equip_btn={label:`Equip in ${L.equip_slot.toUpperCase()} slot`,enabled:!0});if(ca&&1<k?(H.files_sell_1_btn={label:`Sell 1 for $${U.toLocaleString("en-US")}`,enabled:!0},H.files_sell_all_btn={label:`Sell all for $${u.toLocaleString("en-US")}`,enabled:!0}):ca&&1==k&&(H.files_sell_1_btn={label:`Sell for $${U.toLocaleString("en-US")}`,enabled:!0}),L.size)ca=F.state.kit_items.map(E=>m[E].size).reduce((E,Q)=>E+Q,0)+L.size<F.state.kit_capacity,H.files_transfer_btn={label:(ca?"":"[KIT FULL] ")+
(1<k?"Send 1 to KIT":"Send to KIT"),enabled:ca};L.category==w&&(ca=F.state.kit_items.map(E=>m[E].size).reduce((E,Q)=>E+Q,0),U=ca+L.size<F.state.kit_capacity,H.files_transfer_btn={label:(U?"":"[KIT FULL] ")+(1<k?"Send 1 to KIT":"Send to KIT"),enabled:U},M=M.filter(E=>m[E].category==w).map(E=>m[E].size).reduce((E,Q)=>E+Q,0),H.files_transfer_all_consumables_btn={label:"Send ALL CONSUMABLES to KIT",enabled:ca+M<F.state.kit_capacity});L.category==l&&!I.decrypted_files[S]&&(0<I.inventory_decrypt_dt?H.files_decrypt_btn=
{label:"Decrypting file...",enabled:!1}:30>=L.encryption_level?H.files_decrypt_btn={label:"Decrypt file",enabled:!0}:H.files_decrypt_btn={label:`[INSIGHT RANK ${L.encryption_level}] Decrypt file`,enabled:!1})}L=O.files_tab;M=C.findIndex(S=>I.cursor_overlaps[S.oid]);let W=f(C.map(S=>S.fab),L,M),da=S=>A({size:S,visible_count:20,offset:Math.floor(O.files_scroll_offset),data:ea,child_fab:r({show_value:!1}),cursor_overlaps:I.cursor_overlaps,selected_id:O.selected_file,oid_prefix:"file"}),fa=S=>{let k=
O.selected_file,u=null;if(k&&m[k].category==l)return g({item:m[k],options:H,cursor_overlaps:I.cursor_overlaps,scroll_offset:Math.floor(O.files_detail_scroll_offset),time:P,encrypted_dt:I.decrypted_files[k]?0:I.decrypting_file!=O.selected_file?1:1-I.inventory_decrypt_dt,content:y[k]})(S);if(k&&"equipment"==m[k].category){let E=m[k].equip_slot;0<F.state.equip_slots[E].length&&(u=F.state.equip_slots[E][0])}return V&&d({item:m[k],comparison_item:m[u],options:H,cursor_overlaps:I.cursor_overlaps})(S)},
ba=S=>"tab_files"!=D.oid&&c(O.files_sort_rule,O.files_sort_order)(S);return n(p,"INVENTORY",P,G,S=>e(W,da,ba,fa)(S))}}}),cg=R((x,z)=>{({layout2:x}=wa());var {n:b,draw_layout:a}=x,{hsplit_pct:e}=x.helpers;z.exports=(f,d)=>a(b({layout:e(.4)},[b({draw:f}),b({draw:d})]))}),dg=R((x,z)=>{var {math:b}=na(),a=cg(),e=Sb(),{app_switch_duration:f,fab_window_frame:d,files_window_box:g}=Ha(),{items:c}=Ia(),{fab_list_item:h}=Tb(),{fab_scroll_list:n}=ub();z.exports={tick:(p,m,v)=>{let w=v.some(A=>"mouse_down"==
A.type);var t=p.state.scenes.desktop,q=v.filter(A=>"scroll"==A.type).map(A=>.015*A.delta).reduce((A,y)=>A+y,0);v=p.state.kit_items;let l=[...(new Set(v))];if(t.kit_scroll_offset=b.clamp(0,Math.max(0,l.length-20),t.kit_scroll_offset+q),w)q=l.find(A=>w&&m.cursor_overlaps[`item_${A}`]),void 0!==q&&(t.kit_selected_item=q);v.includes(t.kit_selected_item)||(t.kit_selected_item=null);let r=t.kit_selected_item;w&&m.cursor_overlaps.kit_use_btn&&(p.state.active_consumables.push(r),t=p.state.kit_items.findIndex(A=>
A==r),p.state.kit_items.splice(t,1));w&&m.cursor_overlaps.kit_sell_1_btn&&(t=p.state.kit_items,!c[r].unique&&t.includes(r)&&(v=Math.floor(c[r].cost),q=t.findIndex(A=>A==r),t.splice(q,1),m.irl_cash+=v));w&&m.cursor_overlaps.kit_sell_all_btn&&(t=p.state.kit_items,v=Math.floor(c[r].cost)*t.filter(A=>A==r).length,p.state.kit_items=t.filter(A=>A!=r),m.irl_cash+=v);w&&m.cursor_overlaps.kit_transfer_btn&&(t=p.state.kit_items,v=t.findIndex(A=>A==r),t.splice(v,1),p.state.inventory.push(r));if(w&&m.cursor_overlaps.kit_transfer_all_btn)for(t=
p.state.kit_items,v=t.findIndex(A=>A==r);0<=v;)t.splice(v,1),p.state.inventory.push(r),v=t.findIndex(A=>A==r)},draw:(p,m,{dt:v})=>{let w=p.state.scenes.desktop;v=w.ticks+v;let t=b.clamp(0,1,(v-w.app_switched_at)/f),q=Object.values(p.state.kit_items.reduce((B,J)=>(null==B[J]&&(B[J]={id:J,count:0}),B[J].count++,B),{})),l=null!==w.kit_selected_item,r=B=>n({size:B,visible_count:20,offset:Math.floor(w.kit_scroll_offset),data:q,child_fab:h({show_value:!1}),cursor_overlaps:m.cursor_overlaps,selected_id:w.kit_selected_item,
oid_prefix:"item"}),A=B=>{let J={};return 1==p.state.kit_items.filter(F=>F==w.kit_selected_item).length?J.kit_transfer_btn={label:"Send to INVENTORY",enabled:!0}:(J.kit_transfer_btn={label:"Send 1 to INVENTORY",enabled:!0},J.kit_transfer_all_btn={label:"Send all to INVENTORY",enabled:!0}),l&&e({item:c[w.kit_selected_item],options:J,cursor_overlaps:m.cursor_overlaps})(B)};var y=p.state.kit_items.map(B=>c[B].size).reduce((B,J)=>B+J,0)/p.state.kit_capacity*100;let C=Math.floor(p.state.kit_capacity/1024/
1024);y=`using ${y.toFixed(1)}% of ${C}MB`;return d(g,`KIT  /  ${y}`,v,t,B=>a(r,A)(B))}}}),eg=R((x,z)=>{var {math:b}=na(),a=Na(),{fabs:e}=sa()(),{layout:f,l2v:d}=Ba(),{fab_window_frame:g,app_switch_duration:c,codex_window_box:h}=Ha(),{insight_to_level:n,level_to_insight:p}=Ta(),m=Ib();z.exports={tick:(v,w,t)=>{},draw:(v,w,{dt:t})=>{v=v.state.scenes.desktop;let q=v.ticks+t;t=b.clamp(0,1,(q-v.app_switched_at)/c);let l=w.insight,r=Object.values(l).map(n).map(J=>Math.floor(J)).reduce((J,F)=>J+F,0).toString(),
A=Object.keys(m),y=Object.keys(l).filter(J=>!A.includes(J)).map(J=>l[J]).map(n).map(J=>Math.floor(J)).reduce((J,F)=>J+F,0),C=w.used_upgrades,B=A.filter(J=>l[J]).map(J=>{var F=l[J],I=Math.floor(n(F)),G=I+1;I=p(I);G=p(G);F=b.unlerp(I,G,F);return{label:a[`en.weapons.${J}.title`],insight_level:`Lv${Math.floor(n(l[J]))}`,insight_dt:F,upgrade_count:Object.keys(m[J]).length,used_upgrade_count:Object.keys(m[J]).filter(O=>C[O]).length}});for(w={label:"--",insight_level:"--",insight_dt:0,upgrade_count:0,used_upgrade_count:0,
dim:!0};8>B.length;)B.push(w);return g(h,"VENUS",q,t,J=>{let F=f([0,0],J);return e.group(null,[e.group({pos:d(F.pos(0,0))},[e.text({text:"INSIGHT RANK",font:"B612 Mono",size:4,pos:[.92*J[0],.25*-J[1],0],tint:[1,1,1,1],align:["top","right"]}),e.text({text:r,font:"Major Mono Display",size:26,pos:[.935*J[0],.25*-J[1],0],tint:[1,1,1,1],align:["bottom","right"]}),e.text({pos:[.05*J[0],.1*-J[1],0],font:"B612 Mono",size:2.5,tint:[1,1,1,.7],margin:.5*J[0],line_height:1.3,parts:[{text:"AI MODULE [VENUS] m2.55\n\n",
subfamily:"Bold",tint:[1,1,1,1]},{text:"AI module VENUS learns with you, using insight to devise new upgrades and exploits. Gain insight by revisiting servers and mining data with different utilities.",subfamily:"Italic"}]}),e.line({from:[.03*J[0],.07*-J[1],0],to:[.03*J[0],.23*-J[1],0],tint:[1,1,1,.3],width:.5}),e.group({pos:[0,.02*-J[1],0]},[e.group({pos:[.05*J[0],.28*-J[1],0]},[e.text({text:"TOTAL SERVER INSIGHT",tint:[1,1,1,1],font:"B612 Mono",size:4,align:["center","left"]}),e.text({pos:[.6*J[0],
0,0],text:`Lv${y}`,tint:[1,1,1,1],font:"B612 Mono",size:5,align:["center","right"]})]),e.line({from:[.03*J[0],.26*-J[1],0],to:[.03*J[0],.3*-J[1],0],tint:[1,1,1,.3],width:.5}),e.group({pos:[.05*J[0],.38*-J[1],0]},[e.text({text:"UTILITY INSIGHT",tint:[1,1,1,1],font:"B612 Mono",size:4,align:["center","left"]})]),e.line({from:[.03*J[0],.36*-J[1],0],to:[.03*J[0],.93*-J[1],0],tint:[1,1,1,.3],width:.5}),e.group({pos:[.05*J[0],.43*-J[1],0]},B.map((I,G)=>e.group({pos:[0,-9*G,0]},[e.text({text:I.label,size:3,
font:"B612 Mono",align:["center","left"],tint:I.dim?[1,1,1,.2]:[1,1,1,1]}),e.text({pos:[.6*J[0],0,0],text:I.insight_level,size:3.5,font:"B612 Mono",align:["center","right"],tint:I.dim?[1,1,1,.2]:[1,1,1,1]}),e.rect_fill({pos:[0,-4,0],size:b.v2.mul([.6*J[0],5],[1,.25]),tint:[...b.hsl2rgb(168,0,.25),b.lerp(.37,.5,b.noise(23*G,1,1,q/20))],origin:[0,.5]}),e.rect_fill({pos:[0,-4,.1],size:b.v2.mul([.6*J[0],5],[I.insight_dt,.1]),tint:[...b.hsl2rgb(168,0,1),b.lerp(.7,.9,b.noise(32*G,1,1,q/20))],origin:[0,
.5]}),e.text({pos:[.65*J[0],0,0],rot:[0,0,.12],text:`${I.used_upgrade_count}/${I.upgrade_count} UPGRADES`,tint:I.dim?[1,1,1,.2]:I.used_upgrade_count==I.upgrade_count?[1,1,0,1]:[1,1,1,1],size:3.5,align:["center","left"]})])))])])])})}}}),fg=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),{layout:e,l2v:f}=Ba(),{fab_window_frame:d,app_switch_duration:g,codex_window_box:c}=Ha(),h=Ha(),n=Ab(),p=m=>{m/=60;let v=Math.floor(m/60/60%24),w=Math.floor(m/60/60/24);return[0<w&&`${w}d`,0<v&&`${v}h`,`${Math.floor(m/
60%60)}m`,`${Math.floor(m%60)}s`].filter(t=>t).join(" ")};z.exports={tick:(m,v,w)=>{let t=m.state.scenes.desktop,q=w.some(l=>"mouse_up"==l.type);w=w.some(l=>"mouse_down"==l.type);v.cursor_overlaps.copy_save_btn&&w&&(v.cmds.push({type:"export_save"}),t.copied_save_at=t.ticks);v.cursor_overlaps.paste_save_btn&&w&&v.cmds.push({type:"import_save"});v.cursor_overlaps.bg_carousel_left_btn&&w&&(t.carousel_index=Math.max(0,(t.carousel_index||0)-1));v.cursor_overlaps.bg_carousel_right_btn&&w&&(t.carousel_index=
Math.min(t.bg_options.length-1,(t.carousel_index||0)+1));v.cursor_overlaps.bg_carousel_select_btn&&w&&(m.state.wallpaper=t.bg_options[t.carousel_index]);m=v.cursor_intersections;v.cursor_held&&m.volume_music_slider&&(v.volume_music=2*m.volume_music_slider[0]);v.cursor_held&&m.volume_sfx_slider&&(v.volume_sfx=2*m.volume_sfx_slider[0]);(w||q)&&m.volume_music_slider&&v.cmds.push({type:"audio/play",name:"plonk",params:{bus:"terminal_music",volume:.6,detune:w?0:300}});(w||q)&&m.volume_sfx_slider&&v.cmds.push({type:"audio/play",
name:"plonk",params:{bus:"terminal_sfx",volume:.6,detune:w?0:300}})},draw:(m,v,{dt:w})=>{let t=m.state.scenes.desktop,q=t.ticks+w;m=b.clamp(0,1,(q-t.app_switched_at)/g);let l={"terminal-release":"df2ec2b-outer","registered-agent":"8589d3a provisional","ai-module":"VENUS_1.1b","service-lifetime":p(v.ticks).toUpperCase()},r=({label:F,sublabel:I,oid:G,pos:O,size:P,clicked_dt:D,clicked_label:L})=>{var M=h.themes.default.cta_col;let X=h.themes.default.cta_hover_col;M=v.cursor_overlaps[G]?X:M;let ea=8*
(.5-Math.abs(Math.pow(D,1)-.5));return a.group({pos:O},[a.rect_fill({origin:[.5,.5],size:P,tint:[1,0,0,0],overlap_id:G}),a.rect_stroke({origin:[.5,.5],size:P,tint:M,width:.4}),a.text({text:F,font:"B612 Mono",size:4,align:""==I?["center","center"]:["bottom","center"],tint:M}),a.text({pos:[0,-3,0],text:I,font:"B612 Mono",size:2.5,align:["center","center"],tint:M}),0<D&&a.group({pos:[0,0,.1]},[a.rect_fill({origin:[.5,.5],size:[P[0]*b.quantize(b.clamp(0,1,ea),.25),.8*P[1]],tint:b.v4.mul(X,[1,1,1,.8*b.ranged_sin(q,
.9,1)])}),a.text({text:L,pos:[0,0,.1],size:4,font:"B612 Mono",tint:[0,0,0,.9*ea],align:["center","center"]})])])},A=({label:F,oid:I,size:G})=>{let O=v.cursor_overlaps[I]?h.themes.default.cta_hover_col:h.themes.default.cta_col;return a.group(null,[a.rect_fill({size:G,origin:[.5,.5],tint:[0,0,0,0],overlap_id:I}),a.text({pos:[0,0,.11],text:F,font:"B612 Mono",subfamily:"Bold",tint:O,align:["center","center"],size:7})])},y=({index:F,size:I,options:G})=>a.group({pos:[0,.6*-I[1],0]},[...[-2,-1,0,1,2].map(O=>
{if(0>O+F||O+F>G.length-1)return!1;var P=G[b.mod(Math.floor(O+(F+.5)),G.length)];P=n[P];let D=Math.pow(b.ease.io2(b.clamp(0,1,1-Math.abs(O-(F+.5)%1+.5)/2)),2);return a.group({pos:[.3*(O+.5-(F+.5)%1)*I[0],0,.1],scale:[D,D,1],rot:[0,0,0]},[a.texture(P.image,{scale:[.108,.108,1],tint:[.3,.3,.3,1]}),a.texture(P.image,{scale:[.1,.1,1],pos:[0,0,.1]}),a.rect_fill({pos:[0,0,.15],origin:[.5,.5],size:[55,15],tint:[0,0,0,.7*b.clamp(0,1,b.unlerp(.5,1,D))],rot:[0,0,0]}),a.text({font:"B612 Mono",line_height:1.4,
pos:[-23,0,.2],rot:[0,0,0],size:b.lerp(0,2.5,b.clamp(0,1,b.unlerp(.5,1,D))),tint:[1,1,1,Math.pow(b.ease.elastic_o(D),1)],align:["bottom","left"],parts:[{text:`"${P.title.toUpperCase()}"
`,subfamily:"Bold",tint:h.themes.default.title_text_col},{text:P.author,subfamily:"Regular",tint:h.themes.default.list_text_col}]})])}),a.group({pos:[-.4*I[0],-0*I[1],.5]},[A({label:"<<",size:[.1*I[0],.1*I[0]],oid:"bg_carousel_left_btn"})]),a.group({pos:[.4*I[0],-0*I[1],.5]},[A({label:">>",size:[.1*I[0],.1*I[0]],oid:"bg_carousel_right_btn"})]),a.group({pos:[0,-.3*I[1],.5]},[a.rect_fill({size:[.4*I[0],.1*I[0]],origin:[.5,.5],tint:[.2,.2,0,.6]}),a.group({pos:[0,0,.1]},[r({label:"INSTALL",sublabel:"",
oid:"bg_carousel_select_btn",size:[.4*I[0],.1*I[0]]})])]),a.text({text:"TERMINAL BACKGROUND",font:"B612 Mono",size:3,tint:[1,1,1,.9],align:["center","center"],pos:[0,30,1]})]),C=t.carousel_index||0,B=null==t.copied_save_at?0:b.clamp(0,1,1-(q-t.copied_save_at)/100),J=({size:F,min:I,max:G,value:O,oid:P})=>a.group({pos:[0,-F[1],0]},[a.rect_fill({pos:[0,.5*F[1],-.1],size:[F[0],2*F[1]],origin:[0,.5],tint:[1,0,0,0],overlap_id:P}),a.rect_fill({size:[F[0],.5],origin:[0,0],tint:[1,1,1,1]}),a.rect_fill({pos:[0,
F[1],0],size:[F[0]*b.clamp(0,1,b.unlerp(I,G,O)),2],origin:[0,1],tint:[1,1,1,1]})]);return d(c,"SETTINGS",q,m,F=>{let I=e([0,0],F),G={font:"B612 Mono",subfamily:"Italic",size:2.7,tint:h.themes.default.list_text_col,align:["top","right"]};return a.shadow({tint:[1,1,1,.3],z:-4,fab:()=>a.group({pos:f(I.pos(0,0),4)},[a.group(null,Object.keys(l).map((O,P)=>a.group({pos:f(I.pos_pct(.2,.05+.04*P))},[a.text({...G,text:O}),a.text({text:"  "+l[O],font:"B612 Mono",size:2.7,tint:h.themes.default.title_text_col,
align:["top","left"]})]))),a.text({...G,pos:f(I.pos_pct(.2,.25)),text:"volume-music"}),a.group({pos:f(I.pos_pct(.215,.25))},[J({size:[.25*F[0],4],min:0,max:2,value:v.volume_music,oid:"volume_music_slider"})]),a.text({...G,pos:f(I.pos_pct(.2,.32)),text:"volume-sfx"}),a.group({pos:f(I.pos_pct(.215,.32))},[J({size:[.25*F[0],4],min:0,max:2,value:v.volume_sfx,oid:"volume_sfx_slider"})]),r({clicked_dt:B,clicked_label:"EXPORT SAVE",label:"EXPORT SAVE",sublabel:"",oid:"copy_save_btn",pos:f(I.pos_pct(.75,
.9)),size:I.size_pct(.4,.1)}),r({label:"IMPORT SAVE",sublabel:"",oid:"paste_save_btn",pos:f(I.pos_pct(.25,.9)),size:I.size_pct(.4,.1)}),a.group({pos:f(I.pos_pct(.75,0))},[y({time:q,index:C,size:I.size_pct(.5,.5),options:t.bg_options||[]})])])})})}}}),gg=R((x,z)=>{var {fabs:b}=sa()(),a=Na();({u:x}=Fa());var {math:e}=na(),f=ra(),{app_switch_duration:d,fab_window_frame:g,files_window_box:c}=Ha(),{parse_2_parts:h}=qb(),{fab_scroll_list:n}=ub(),p=x.unique(Object.keys(a).filter(l=>l.startsWith("en.manual.")).map(l=>
l.split(".")[2])).reduce((l,r)=>(l[r]={id:r,title:a["en.manual."+r+".title"],body:h(a["en.manual."+r+".body"])},l),{}),m=l=>Object.keys(p).filter(r=>l.flags["mea/"+r]),v=l=>Object.keys(p).filter(r=>l.flags["mer/"+r]),w=l=>{let r=m(l),A=v(l).reduce((y,C)=>(y[C]=!0,y),{});return r.filter(y=>!A[y])};f.on("opened_manual",l=>{let r=w(l);0!=r.length&&f.emit(l,"manual_read",{entry_id:r[0]})});f.on("manual_add",(l,{entry_id:r})=>{l.flags["mea/"+r]=!0});f.on("manual_read",(l,{entry_id:r})=>{l.manual_selected=
r;l.flags["mer/"+r]=!0;f.emit(l,"read_manual/"+r,{})});var t=({time:l,size:r,data:A,oid:y,hovered:C,selected:B})=>b.group(null,[b.rect_fill({size:r,tint:[1,0,0,0],overlap_id:y,origin:[0,1]}),b.text({text:A.title.toUpperCase(),font:"B612 Mono",subfamily:A.read?"Regular":"Bold",tint:[1,1,1,C?1:A.read?B?.5:.2:.9],size:3.5,pos:[.1*r[0],r[1]/-2,0],align:["center","left"]}),!A.read&&b.text({text:"*",font:"B612 Mono",tint:[1,0,0,e.lerp(.2,.8,e.ease.exp_io(e.ranged_sin(l/15,0,1)))],size:6,pos:[.08*r[0],-.9*
r[1],.1],align:["bottom","center"]})]),q=(l,r,A)=>{let y=e.lerp(.7,.9,e.noise(132,2,1,r/20)),C=p[l.manual_selected||"1"],B={i:{tint:[1,1,1,.15]},t:{subfamily:"Bold"},b:{tint:[0,1,1,1]}};return b.shadow({tint:[1,1,1,.3],z:-3,fab:()=>b.group({pos:[0,0,3],tint:[1,1,1,y]},[b.text({parts:C.body.map(J=>({...B[J.tag],text:J.text})),margin:.9*A[0],size:3.5,tint:[1,1,1,1],font:"B612 Mono",line_height:1.4,align:["top","left"]})])})};z.exports={tick:(l,r,A)=>{let y=A.some(C=>"mouse_down"==C.type);r.manual_selected=
r.manual_selected||"1";r.flags["mer/"+r.manual_selected]=!0;l=A.filter(C=>"scroll"==C.type).map(C=>.015*C.delta).reduce((C,B)=>C+B,0);A=Object.keys(p).filter(C=>r.flags["mea/"+C]);(r.manual_scroll_offset=e.clamp(0,Math.max(0,A.length-20),r.manual_scroll_offset+l),y)&&(l=Object.keys(p).find(C=>y&&r.cursor_overlaps["manual_entry_"+C]))&&f.emit(r,"manual_read",{entry_id:l})},draw:(l,r,{dt:A})=>{l=l.state.scenes.desktop;let y=l.ticks+A;A=e.clamp(0,1,(y-l.app_switched_at)/d);let C=Object.values(p).filter(J=>
r.flags["mea/"+J.id]),B=J=>n({size:J,visible_count:20,offset:Math.floor(r.manual_scroll_offset),data:C.map(F=>({...F,read:r.flags["mer/"+F.id]})),child_fab:t,cursor_overlaps:r.cursor_overlaps,selected_id:r.manual_selected,oid_prefix:"manual_entry",time:y});return g(c,"OPERATOR'S MANUAL",y,A,J=>b.group({},[b.group({},[B([.3*J[0],J[1]])]),b.group({pos:[.3*J[0],0,0]},[q(r,y,[.7*J[0],J[1]])])]))}}}),hg=R((x,z)=>{var b=ra(),a=Ga(),e=xa(),{math:f}=na(),{u:d}=Fa(),{fabs:g}=sa()(),{l2v:c}=Ba(),h=Qf(),n=Qb(),
p=Rf(),m=Sf(),v=Uf(),{fab_clover:w}=Fb(),{available_gigs:t}=rb(),{items:q}=Ia(),l=kc(),{frame_body_box:r}=Ha(),A=dc(),{setup_daily:y}=lc();x=Xf();var C=Zf(),B=$f(),J=bg(),F=dg(),I=eg(),G=fg(),O=gg(),{is_daily:P,is_expired:D,record:L}=mc(),M=V=>{V=V.props[V.props_by_id.terminal].state.scenes.desktop;V.app_switched_at=V.ticks};b.on("changed/mode_desktop/to_addresses",M);b.on("changed/mode_desktop/to_files",M);b.on("changed/mode_desktop/to_shop",M);b.on("changed/mode_desktop/to_mail",M);b.on("changed/mode_desktop/to_kit",
M);b.on("changed/mode_desktop/to_codex",M);b.on("changed/mode_desktop/to_settings",M);b.on("changed/mode_desktop/to_manual",M);b.on("changed/mode_desktop/to_manual",V=>{b.emit(V,"opened_manual",{})});var X={home:{tick:()=>{},draw:()=>!1},addresses:C,files:J,shop:B,mail:x,kit:F,codex:I,settings:G,manual:O};a.register("lerp_popup",(V,H)=>(ca,U,W)=>{let da=V.desktop_popups.find(fa=>fa.id==ca);da&&(da.show_dt=f.lerp(U,W,H))});a.register("kill_popup",V=>H=>{let ca=V.desktop_popups.find(U=>U.id==H);ca&&
(ca.dead=!0)});b.on("popup_opened",V=>{e(V,"mode_desktop","home")});b.on("dismissed_popup",(V,{id:H})=>{b.emit(V,"dismissed_popup/"+H,{});a.queue(V.automator_state,[[10,"(lerp_popup "+H+" 1 0)"],[0,"(kill_popup "+H+")"]])});var ea=V=>{let H=f.seeded_rand(V+1E3);return f.array_weighted_sample(V,[[.1,()=>`***   REGISTRATION ${btoa(1234*V+"")} ${f.array_sample(V+1E3*H(),["RENEWED","EXPIRED","INCALCULABLE"])}  ***   `],[.4,()=>""],[.2,()=>"child resume"],[.2,()=>`top=${V%16}`],[.2,()=>`forked ${V%143}`],
[.2,()=>`addr 0x${(143*V).toString(16)} ${JSON.stringify({[f.array_sample(V+1E3*H(),["kl","pop","ba"])]:(43125*V).toString(36)})}`],[.1,()=>`=========${f.array_sample(V+1E3*H(),["===","======","="])}===== gate begins ===================`],[.2,()=>`connection refused: ${f.array_sample(V+1E3*H(),["ERR_NTCP","ERR_SIGOP","network unavailable"])}: ${f.array_sample(V+1E3*H(),["addr:312.65.3","addr:811.90.2","addr:085.02.7"])}`],[.2,()=>`escalating to ${f.array_sample(V+1E3*H(),["AUTH","HOPS","GREEN"])} environment, ${f.array_sample(V+
1E3*H(),["encode failed","oracle unreachable","incomplete token"])}`],[.3,()=>`prefetch mismatch: found ${f.array_sample(V+1E3*H(),["TYPE_UNSPECIFIED","DLQ_COMPRESSION","MEM_SAFE"])} for usr ${V}`],[.3,()=>`undetectable error: packet 0x${(1200*V).toString(16)} collapsed: err 0x${(123*V).toString(14)}`],[.3,()=>`[warn] unproccessable result, found ${f.array_sample(V+1E3*H(),["TYPE_UNSPECIFIED","DLQ_COMPRESSION","MEM_SAFE"])} for connected client on port ${V}`],[.5,()=>`[${f.array_sample(V+1E3*H(),
["info","warn","error"])}]  ${f.array_sample(V+1E3*H(),["streamer","message consumer","remote function","scheduled task"])} ${f.array_sample(V+1E3*H(),["halted","killed","started","resumed"])}`],[.5,()=>`[[  ${f.array_sample(V+1E3*H(),["header frame","event prop","establishing keepalive","blob decode"])} ${f.array_sample(V+1E3*H(),["duration","freemem","latency"])}: ${f.ranged_sin(V,23,145).toFixed(5)}`],[.5,()=>`[[    outside trace detected in ${f.array_sample(V+1E3*H(),["header frame","event prop",
"establishing keepalive","blob decode"])} ${f.array_sample(V+1E3*H(),["duration","freemem","latency"])}: ${f.ranged_sin(V,23,145).toFixed(5)}`]])()};z.exports={init:()=>({ticks:0,app_switched_at:0,shop_scroll_offset:0,selected_shop_item:null,shop_items:null,shop_active_tab:0,shop_sort_rule:"sort_az",shop_sort_order:"sort_asc",files_scroll_offset:0,selected_file:null,files_tab:0,files_sort_rule:"sort_az",files_sort_order:"sort_asc",available_gigs:t([]),completed_gigs:[],read_gigs:{},gigs_scroll_offset:0,
selected_gig:null,kit_scroll_offset:0,kit_selected_item:null,mail_notifications:0,addresses_notifications:0,files_notifications:0,shop_notifications:0,kit_notifications:0,bg_options:["tree"],carousel_index:0}),tick:(V,H,ca)=>{let U=ca.some(ba=>"mouse_down"==ba.type);var W=V.state.scenes.desktop;W.ticks+=1;0<H.desktop_popups.filter(ba=>"pending"!=ba.status).length||("to_addresses to_files to_shop to_mail to_kit to_codex to_settings to_manual".split(" ").forEach(ba=>{U&&H.cursor_overlaps[ba]&&(b.emit(H,
"clicked",{oid:ba}),e(H,"mode_desktop",{to_addresses:"addresses",to_files:"files",to_shop:"shop",to_mail:"mail",to_kit:"kit",to_codex:"codex",to_settings:"settings",to_manual:"manual"}[ba]))}),U&&H.cursor_overlaps.close&&(b.emit(H,"clicked",{oid:"close"}),e(H,"mode_desktop","home")));"vent_1_btn_1 vent_1_btn_2 vent_1_btn_3 vent_2_btn_1 vent_2_btn_2 vent_2_btn_3".split(" ").forEach(ba=>{U&&H.cursor_overlaps[ba]&&b.emit(H,"clicked",{oid:ba})});let [da,fa]=d.partition(ba=>"pending"==ba.status&&ba.deliver_at<=
H.ticks,H.mailbox);if(0<da.length){let ba=da.map(S=>{let {deliver_at:k,...u}=S;return{...u,status:"unread"}});H.mailbox=[...ba,...fa]}if(H.mailbox.forEach(ba=>{let S=ba.id;P(S)&&D(H,S)&&(0<L(H,S)||(ba.status="expired"))}),W.mail_notifications=H.mailbox.filter(ba=>"unread"==ba.status).length,(!V.state.kit_capacity||5==V.state.kit_capacity)&&(V.state.kit_capacity=8388608),H.flags.onboarded&&H.ticks%100){W=A(new Date);let ba=`daily-${W}`;H.mailbox.some(S=>S.id==ba)||H.mailbox.unshift({id:ba,status:"unread"});
null!=H.daily_server_overrides&&W==H.daily_key||y(H,W);H.daily_key=W}H.desktop_spooky_mode&&(H.desktop_frame_offset[0]=.2>f.noise(111,1,1,H.ticks/20)?2:0,H.desktop_fg_tint=[f.ranged_sin(H.ticks/2,.8,1),.4,.4,1],H.irl_cash=123456789123*H.ticks%1E9);X[H.mode_desktop].tick(V,H,ca);V=H.desktop_popups.filter(ba=>"pending"!=ba.status);(V=V[V.length-1])&&U&&H.cursor_overlaps["popup_cta_"+V.id]&&b.emit(H,"dismissed_popup",{id:V.id});H.desktop_popups.filter(ba=>"pending"==ba.status).filter(ba=>ba.opened_at==
H.ticks).forEach(ba=>{ba.status="open";b.emit(H,"popup_opened",{id:ba.id})});H.desktop_popups=H.desktop_popups.filter(ba=>!ba.dead)},draw:(V,H,{dt:ca,gl:U})=>{var W=V.state.scenes.desktop;let da=H.ticks+ca;var fa=H.desktop_reveal;let ba=f.lerp(.7,1,f.ease.exp_io(fa));fa=f.lerp(0,1,f.ease.exp_io(fa));let S=r.pad(5,5);var k=S.split_grid(6,9),u=V.state.kit_items.map(Y=>q[Y].size).reduce((Y,ja)=>Y+ja,0),E=Y=>Object.keys(H.flags).filter(ja=>ja.startsWith(Y)).length;E=E("mea/")-E("mer/");W=g.group({pos:[0,
0,.1]},[n({enabled:H.flags["a/mail"],oid:"to_mail",copy:"MAIL",box:k[0],hovered:H.cursor_overlaps.to_mail,time:da,badge:W.mail_notifications||void 0}),n({enabled:H.flags["a/addresses"],oid:"to_addresses",copy:"SERVERS",box:k[1],hovered:H.cursor_overlaps.to_addresses,time:da,badge:W.addresses_notifications||void 0}),n({enabled:H.flags["a/files"],oid:"to_files",copy:"INVENTORY",box:k[2],hovered:H.cursor_overlaps.to_files,time:da,badge:W.files_notifications||void 0}),n({enabled:H.flags["a/shop"],oid:"to_shop",
copy:"SHOP",box:k[3],hovered:H.cursor_overlaps.to_shop,time:da,badge:W.shop_notifications||void 0}),p({enabled:H.flags["a/kit"],oid:"to_kit",copy:"KIT",box:k[6],hovered:H.cursor_overlaps.to_kit,time:da,badge:W.kit_notifications||void 0,content_size:u,capacity:V.state.kit_capacity}),m({enabled:H.flags["a/codex"],oid:"to_codex",copy:"VENUS",box:k[5],hovered:H.cursor_overlaps.to_codex,time:da,insight:H.insight,badge:void 0}),n({enabled:H.flags["a/settings"],oid:"to_settings",copy:"SETTINGS",box:k[7],
hovered:H.cursor_overlaps.to_settings,time:da,badge:void 0}),n({enabled:H.flags["a/manual"],oid:"to_manual",copy:"MANUAL",box:k[45],hovered:H.cursor_overlaps.to_manual,time:da,badge:E})]);let Q=H.desktop_popups.filter(Y=>"pending"!=Y.status);k=f.noise(313,1,.1,da/220)*Math.PI*4;u=Math.pow(f.noise(131,1,.1,da/120),2);E=.2*(f.noise(111,2,1,da/10)-.5);var T=.2*(f.noise(222,2,1,da/10)-.5);let [aa,ia]=f.v2.add(f.polar_to_cart([k,u]),[E,T]);k=f.ease.elastic_o(1-Math.pow(f.ranged_sin(da/20,0,1),30));u=Y=>
{var ja=g.rect_fill,N=f.lerp(0,0,f.noise(Y,2,1,f.quantize(da/(Y%5+1),.8))),Z=f.lerp;var ka=2*Y;ka=f.noise(ka,2,1,f.quantize(da/(ka%5+1),.8));return ja.call(g,{pos:[N,Z.call(f,-180,180,ka),.3],size:[330,f.lerp(2,20,f.seeded_rand(Y)())],tint:[0,0,0,.7],origin:[.5,.5]})};let K=Y=>Y+35*Math.sin(.01*Y)+6*Math.sin(.07*Y)+2*Math.sin(.2*Y);E=K(1E3*H.desktop_remote_reboot);let ha=[];for(T=0;T<80*E/1E3;T++)ha.push(13*T);T=100*H.desktop_glitch;E=[];for(let Y=0;Y<T;Y++)E.push(g.rect_fill({pos:[0,(f.quantize(da+
Y,7)+123*Y)%300-150,0],rot:[0,0,Y%3*.03],size:[300,Y%7+.5],tint:[0,0,0,f.lerp(.5,.8,H.desktop_glitch)],origin:[.5,.5]}));T=H.mode_desktop;return g.group({rot:V.state.rotation,pos:[0,160,0]},[g.group({pos:H.desktop_frame_offset,scale:[ba,fa,1],rot:[-.1,0,0],tint:[1,1,1,f.lerp(0,1,fa)]},[H.desktop_spooky_mode&&g.group({pos:[0,0,-5],scale:[1,k,1],tint:[1,1,1,k*f.lerp(.4,.8,f.noise(121,2,1,da))]},[g.texture("assets/gfx/misc/eye.png",{scale:[.35,.35,1],tint:[0,0,1,.1],pos:[5*aa,5*ia,0]}),g.texture("assets/gfx/misc/eye.png",
{scale:[.37,.37,1],tint:[0,1,0,.1],pos:[15*aa,15*ia,.1]}),g.texture("assets/gfx/misc/eye.png",{scale:[.4,.4,1],tint:[1,0,0,.1],pos:[25*aa,25*ia,.2]}),...[123,234,345,456,567,678,789,890,987,876,765,654,543,432,321].map(u)]),h(V.state.wallpaper,(new Date).toLocaleTimeString("en-GB"),da,H.desktop_fg_tint,H.desktop_spooky_mode),g.group({tint:H.desktop_fg_tint},[W,g.text({pos:c(S.bottom_right(),.05),font:"Major Mono Display",text:`AccounT bAlAnce // $${Math.floor(H.irl_cash).toLocaleString("en-US",{minimumIntegerDigits:9})}`,
size:4,tint:[1,1,1,.1],align:["bottom","right"]}),g.text({pos:c(S.bottom_right(),.1),font:"Major Mono Display",text:`AccounT bAlAnce    $${Math.floor(H.irl_cash).toLocaleString("en-US").padStart(11," ")}`,size:4,tint:[1,1,1,.2],align:["bottom","right"]}),g.text({pos:c(S.bottom_right(),3.05),font:"Major Mono Display",text:`AccounT bAlAnce // $${Math.floor(H.irl_cash).toLocaleString("en-US",{minimumIntegerDigits:9})}`,size:4,tint:[1,1,1,.5],align:["bottom","right"]}),g.text({pos:c(S.bottom_right(),
3.1),font:"Major Mono Display",text:`AccounT bAlAnce    $${Math.floor(H.irl_cash).toLocaleString("en-US").padStart(11," ")}`,size:4,tint:[1,1,1,1],align:["bottom","right"]}),g.group({pos:[0,0,3]},[X[T].draw(V,H,{dt:ca,gl:U})]),g.group({pos:c(S.pos_pct(1,1),4),scale:[.8,.8,1]},[l.draw(H,{dt:ca})])])]),0<H.desktop_boot_loader&&g.group({pos:H.desktop_boot_loader_offset,tint:f.v4.mul(H.desktop_boot_loader_tint,[1,1,1,f.clamp(0,1,f.unlerp(0,.1,H.desktop_boot_loader))*f.lerp(.6,.8,f.noise(222,2,1,da/20))])},
[g.shadow({tint:[1,1,1,.3],z:-10,fab:()=>g.group({pos:[0,0,10]},[w({pos:[0,30,0],scale:[3,3,1],time:da,tint:[1,1,1,1],width:.05,count:100}),g.rect_fill({pos:[-50,-30,0],size:[100,5],tint:[1,1,1,.05]}),g.rect_fill({pos:[-50,-30,1],size:[f.quantize(K(1E3*H.desktop_boot_loader)/10,6),5],tint:[1,1,1,.5]})])})]),0<ha.length&&g.group(null,[g.group({rot:[0,0,.05]},(()=>{let Y=[];for(let ja=0;30>ja;ja++)for(let N=0;20>N;N++){let Z=f.lerp(-180,180,f.unlerp(0,29,ja)),ka=f.lerp(-130,130,f.unlerp(0,19,N)),la=
4*f.ease.exp_io(f.noise(333,2,1,da/130+(ja+30*N)));Y.push(g.rect_fill({pos:[Z,ka,0],size:[.5,.5],tint:[0,1,1,.1]}));Y.push(g.rect_fill({pos:[Z,ka,la],size:[.5,.5],tint:[0,1,1,.15]}))}return Y})()),g.shadow({tint:[0,1,.2,.6],z:-2,fab:()=>g.group({pos:[0,0,2]},[g.text({parts:ha.map((Y,ja)=>({text:(.2>f.noise(333,2,1,da/10+10*ja)?" ":"")+ea(Y).toLowerCase()+"\n",tint:[0,1,1,f.lerp(.5,.65,f.noise(222,2,1,f.quantize(da/(10+.01*ja)+10*ja,.5)))]})),font:"Major Mono Display",size:3,pos:[-150,100,0]})])})]),
g.group({rot:[-.1,0,0],pos:[0,0,4]},E),g.group({rot:[-.1,0,0],tint:H.desktop_fg_tint},[g.group({pos:[0,0,10]},Q.map((Y,ja)=>{let N={default:{tint:[1,1,1,.4]},b:{tint:[H.desktop_spooky_mode?.5:1,1,1,f.ease.exp_io(f.lerp(.4,1,f.noise(111,2,1,da/20)))],subfamily:"Italic"}};var Z=da-Y.opened_at;Z=null==Y.show_dt?f.clamp(0,1,Z/10):Y.show_dt;let ka="vents_1"==Y.id?1==H.popup_vent_1_open_1&&1==H.popup_vent_1_open_2&&1==H.popup_vent_1_open_3:"vents_2"==Y.id?0==H.popup_vent_2_open_1&&0==H.popup_vent_2_open_2&&
0==H.popup_vent_2_open_3:"vent_stuck"==Y.id?H.flags.closed_vent:1==Z,la=H.cursor_overlaps["popup_cta_"+Y.id]&&ja==Q.length-1;return g.group({pos:[Y.pos[0],Y.pos[1]+f.lerp(-2,0,f.ease.io3(Z)),3.2*ja],tint:[1,1,1,f.ease.io3(Z)]},[g.rect_fill({size:Y.size,tint:[0,0,0,.9],origin:[.5,.5]}),g.shadow({tint:[1,1,1,.3],z:-3,fab:()=>g.group({pos:[0,0,3.1]},[g.rect_stroke({size:Y.size,origin:[.5,.5],width:.3,tint:[1,1,1,1]}),g.line({from:[.5*-Y.size[0],0,.04],to:[.5*Y.size[0],.5*Y.size[1],.04],width:.4,tint:[1,
1,1,.1]}),g.line({from:[.5*-Y.size[0],0,.04],to:[.5*Y.size[0],-.5*Y.size[1],.04],width:.4,tint:[1,1,1,.1]}),g.line({from:[.5*Y.size[0],0,.04],to:[.5*-Y.size[0],.5*Y.size[1],.04],width:.4,tint:[1,1,1,.1]}),g.line({from:[.5*Y.size[0],0,.04],to:[.5*-Y.size[0],-.5*Y.size[1],.04],width:.4,tint:[1,1,1,.1]}),g.text({text:"MeRcY\nAlERT",font:"Kvar SQ",size:24,tint:[1,1,1,.04],pos:[0,.1*Y.size[1],.04],align:["center","center"],line_height:.7}),g.text({pos:[0,.5*Y.size[1]-8,.05],text:Y.header,font:"B612 Mono",
size:3.5,tint:[1,1,1,1],align:["top","center"]}),g.text({pos:[.5*-Y.size[0]+8,.5*Y.size[1]-16,.05],parts:Y.body.map(ma=>({text:ma.text,...(N[ma.tag]||N.default)})),line_height:1.4,font:"B612 Mono",size:3,tint:[1,1,1,1],align:["top","left"]}),"vents_1"==Y.id&&g.group({pos:[0,-11,.05]},[v({time:da,oid_1:"vent_1_btn_1",oid_2:"vent_1_btn_2",oid_3:"vent_1_btn_3",open_1:H.popup_vent_1_open_1,open_2:H.popup_vent_1_open_2,open_3:H.popup_vent_1_open_3,enabled_1:0==H.popup_vent_1_open_1,enabled_2:1==H.popup_vent_1_open_1&&
0==H.popup_vent_1_open_2,enabled_3:1==H.popup_vent_1_open_2&&0==H.popup_vent_1_open_3,overlaps:H.cursor_overlaps})]),"vents_2"==Y.id&&g.group({pos:[0,-11,.05]},[v({time:da,oid_1:"vent_2_btn_1",oid_2:"vent_2_btn_2",oid_3:"vent_2_btn_3",open_1:H.popup_vent_2_open_1,open_2:H.popup_vent_2_open_2,open_3:H.popup_vent_2_open_3,enabled_1:1==H.popup_vent_2_open_1,enabled_2:0==H.popup_vent_2_open_1&&1==H.popup_vent_2_open_2,enabled_3:0==H.popup_vent_2_open_2&&1==H.popup_vent_2_open_3,obstructed:H.popup_vent_2_obstructed,
overlaps:H.cursor_overlaps})]),g.group({pos:[0,.5*-Y.size[1]+8,la?1:.05],tint:[1,1,1,ka?1:.5]},[ka&&g.rect_fill({pos:[0,0,0],tint:[1,0,0,0],origin:[.5,.5],size:[40,8],overlap_id:"popup_cta_"+Y.id}),g.rect_stroke({pos:[0,0,0],tint:[1,1,1,1],origin:[.5,.5],size:[40,8],width:.3}),g.text({text:Y.cta,font:"B612 Mono",size:3,align:["center","center"],pos:[0,0,0],tint:[1,1,1,1]})])])})])}))])])}}}),ig=R((x,z)=>{var {math:b}=na(),{fabs:a}=sa()(),{layout:e}=Ba(),f=(c,h)=>[c[0],-c[1],h||0],d=({pos:c,size:h,
tint:n,z:p,overlap_id:m})=>a.rect_fill({pos:f(c,p),size:h,origin:[0,1],tint:n,overlap_id:m}),g=({box:c,z:h,tint:n,overlap_id:p})=>d({pos:c.pos(0,0),z:h,size:c.size(),tint:n,overlap_id:p});z.exports={fab_safe_mode:({size:c,time:h,input:n,reveal:p})=>{var m=e(b.v2.mul_scalar(c,-.5),c);c=g({box:m,z:-.01,tint:[.05,.05,.05,1]});let v=a.text({pos:f(m.pos_pct(.5,.5),-.005),size:70,font:"Major Mono Display",text:"X",align:["center","center"],tint:[1,0,0,.02]}),w=[];for(var t=0;100>t;t++){var q=b.ranged_cos(h*
t*12.34,0,1);q=a.rect_fill({pos:f(m.pos_pct(0,q),.01),size:m.size_pct(1,.001),tint:[1,1,1,.04]});w.push(q)}let l=b.v4.lerp([1,0,0,.3],[1,0,0,0],b.noise(4321,1,1,h/10));var r=({pos:J,size:F,font:I,subfamily:G,text:O,tint:P,align:D,line_height:L})=>(.02>b.seeded_rand(Math.floor(h/4))()&&(J[0]+=1),a.group(null,[a.text({pos:[.9*J[0],1.05*J[1],-.002],tint:l,size:F,font:I,text:O,align:D,subfamily:G,line_height:L}),a.text({pos:J,size:F,font:I,text:O,tint:P,align:D,subfamily:G,line_height:L})]));t=r({pos:f(m.pos_pct(.1,
.2)),size:6,font:"Major Mono Display",text:"MeMFAuLT iNteRrupt",tint:b.v4.lerp([1,1,1,1],[1,1,1,.7],b.noise(1234,1,1,h/10))});q=r({pos:f(m.pos_pct(.03,.16)),size:20,font:"Major Mono Display",text:"|",align:["top","left"],tint:b.v4.lerp([1,1,1,1],[1,1,1,.7],b.noise(1234,1,1,h/10))});var A="watchdog process oom\n\n;;;;;;;trap sigterm;;.;;.;;.;;;retry\n;;;;trap sigterm;;.;;.;;.;;.;;.;;;;retry\n;;;;trap sigkill;;.;;.;;.;;;;;success\n\n;;;;;;".split(";");r=r({pos:f(m.pos_pct(.1,.27)),size:1.75,line_height:1.6,
font:"Major Mono Display",text:"sector scan failed (0x1bff4344fe00)\n\n"+A.slice(0,A.length*p).join(""),tint:b.v4.lerp([1,1,1,.7],[1,1,1,.5],b.noise(2345,1,1,h/10))});var y=m.pad(20,20);m=a.group(null,[g({box:y,z:.011,tint:[.25,.25,.4,.6]}),g({box:e(y.pos_pct(.02,.02),y.size()),z:.012,tint:[.2,.25,.5,.4]})]);A=a.text({pos:f(y.pos_pct(.5,.175),.02),size:5,font:"Major Mono Display",text:"manual recovery\n",tint:[1,1,1,1],align:["center","center"]});let C=a.text({pos:f(y.pos_pct(.2,.3),.02),size:2.5,
line_height:1.4,font:"Major Mono Display",text:"uh oh, it looks like we've encountered a problem! please enter recovery code:",margin:.6*y.width(),tint:[1,1,1,1],align:["top","left"]}),B=d({pos:y.pos_pct(.2,.5),z:.02,size:y.size_pct(.6,.15),tint:[.25,.25,.4,1]});n=a.text({pos:f(y.pos_pct(.3,.57),.025),size:6,font:"Major Mono Display",tint:[1,1,1,1],text:n+(0==Math.floor(h/20)%2?"":"|"),align:["center","left"]});y=a.text({pos:f(y.pos_pct(.2,.8),.02),size:1.75,line_height:1.4,font:"Major Mono Display",
text:"lost your recovery key? doordial 1131 to request a new key, free of charge to platinum subscribers",margin:.6*y.width(),tint:[1,1,1,1],align:["top","left"]});return a.group(null,[c,v,a.group(null,w),q,t,r,1==p&&a.group(null,[m,A,C,B,n,y])])}}}),jg=R((x,z)=>{Fa();var {math:b}=na(),{fabs:a}=sa()(),{fab_safe_mode:e}=ig();z.exports={init:()=>({secret:"355628",input:"",reveal_start:null}),tick:(f,d,g,c)=>{let h=f.state.scenes.safe_mode;null==h.reveal_start&&(h.reveal_start=d.ticks+200);d.ticks>h.reveal_start+
600&&(d.flags.can_stand=!0);let n=p=>g.some(m=>"key_down"==m.type&&m.key==p);"1234567890".split("").forEach(p=>{n(p)&&(h.input+=p)});n("Enter")&&h.input==h.secret;n("Backspace")&&(h.input=h.input.slice(0,h.input.length-1))},draw:(f,d,{dt:g})=>{let c=f.state.scenes.safe_mode;d=d.ticks+g;g=0<c.reveal_start?b.clamp(0,1,(d-c.reveal_start)/600):0;return a.group({rot:f.state.rotation},[a.group({scale:[.8,.8,1],rot:[-.1,0,0]},[a.group({pos:[0,200,0]},[a.group({scale:[2.75,2.75,1]},[e({size:[4/3*120,120],
time:d,reveal:g,input:c.input})])])])])}}}),kg=R((x,z)=>{var {fabs:b,math:a}=wa(),{fab_clover:e}=Fb();z.exports=({size:f,time:d,alpha:g,title:c,reveal_dt:h,failed:n})=>{g=a.ease.elastic_i(g);var p=n?[1,.7,.6,.3*g]:[.7,.9,1,.3*g];let m=n?[1,0,0,.14*g]:[1,1,1,.07*g],v=[];var w=Math.floor(f[0]/20),t=Math.floor(f[1]/20);for(var q=0;q<w;q++)for(var l=0;l<t;l++)for(let r=0;2>r;r++)v.push(b.rect_fill({pos:[a.lerp(-.5,.5,q/(w-1))*f[0]+r,a.lerp(-.5,.5,l/(t-1))*f[1]+r,a.lerp(-.5,.5,r*a.lerp(5,8,a.ease.elastic_io(a.noise3d(4141,
2,1,q,l,d/150))))],size:a.v2.mul_scalar([1,1],a.lerp(0,.5,a.noise4d(4321,2,1,q,l,r,d/100))),tint:p}));p=[];w=Math.floor(f[0]/3);t=Math.floor(f[1]/3);for(q=0;q<t;q++)l=a.lerp(-.5,.5,(q+d/90)%t/(t-1))*f[1],p.push(b.line({from:[-f[0]/2,l,0],to:[f[0]/2,l,0],width:0==q%20?.6:0==q%10?.5:0==q%5?.4:.2,tint:[1,1,1,.04*g]}));for(t=0;t<w;t++)q=a.lerp(-.5,.5,(t+d/240)%w/(w-1))*f[0],p.push(b.line({from:[q,-f[1]/2,0],to:[q,f[1]/2,0],width:0==t%20?.6:0==t%10?.5:0==t%5?.4:.2,tint:[1,1,1,.04*g]}));c=c.slice(0,a.lerp(0,
1,a.ease.elastic_i(h))*(c.length+1));t=a.seeded_rand(1E3*Math.floor(d/2));.98>t()||(w=Math.floor(t()*c.length),c=c.split(""),t=.5>t()?(c[w]||"").toUpperCase():" ",c=(c[w]=t,c.join("")));w=[.7,.2,.2,a.lerp(.18,.22,a.noise(333,2,1,d/10))*a.ease.io2(a.ease.domain(.7,1,g))];t=[0,.5,.4,a.lerp(.1,.15,a.noise(333,2,1,d/10))*a.ease.io2(a.ease.domain(.7,1,g))];q=[1,.4,.4,a.lerp(.4,.2,h)*g];l=[0,.4,.3,a.lerp(.6,.3,h)*g];q=n?q:l;return b.group(null,[b.texture("assets/gfx/terminal/backgrounds/reef.png",{pos:[0,
0,-30],scale:[.8,.5,1],tint:m}),!!n&&b.text({parts:[{text:"   operation\n",size:12.5,font:"Major Mono Display",tint:w},{text:"failed",size:25,font:"Major Mono Display",tint:w}],pos:[40,40,-25]}),!n&&b.text({parts:[{text:"     operation\n",size:12.5,font:"Major Mono Display",tint:t},{text:"success",size:25,font:"Major Mono Display",tint:t}],pos:[20,40,-25]}),e({pos:[.4*f[0],.4*f[1],-8],scale:[1,1,1],time:d,tint:q}),b.text({text:c,font:"Major Mono Display",size:15,pos:[-f[0]/2,f[1]/2,-5],tint:[.8,.9,
1,a.lerp(.1,.2,a.noise(333,2,1,d/10))],align:["top","left"]}),b.group({pos:[0,0,-1]},p),b.group(null,v),b.text({parts:[{text:c[0]||"",font:"Major Mono Display",size:15,tint:[1,1,.3,1]},{text:c.slice(1)||"",font:"Major Mono Display",size:15,tint:[1,1,1,a.lerp(.8,1,a.noise(555,2,1,d/10))]}],pos:[-f[0]/2,f[1]/2,0],align:["top","left"]}),b.line({from:[-f[0]/2+3.5,f[1]/2-15,0],to:[-f[0]/2+3.5,f[1]/2-128,0],width:.6*a.ease.domain(.9,1,a.ease.io3(h)),tint:[1,1,.3,.8*g*a.lerp(.7,1,a.noise(333,2,1,d/10))]}),
b.line({from:[-f[0]/2+3.5,f[1]/2-130,0],to:[-f[0]/2+3.5,f[1]/2-140,0],width:.6*a.ease.domain(.9,1,a.ease.io3(h)),tint:[1,1,.3,.8*g*a.lerp(.7,1,a.noise(333,2,1,d/10))]})])}}),lg=R((x,z)=>{var {fabs:b,math:a}=wa(),{address_by_digits:e,format_address_digits:f}=Za(),d=tb();z.exports=({size:g,show_dt:c,time:h,slide_time:n,cursor_overlaps:p,address_digits:m,uptime:v,uptime_record:w,depth:t,depth_record:q,data_mined:l,data_mined_record:r,stat_count:A,stat_count_record:y,utility_upgrades:C,utility_upgrades_record:B})=>
{let J=e(m),F={badge:"new record"},I={};v/=60;v=`${Math.floor(v/60)}:${(v%60).toFixed(3).padStart(6,"0")}`;m=[{key:"remote host",val:`${J.label} (${f(m)})`},{key:"connection uptime",val:v,...(w?F:I)},{key:"",val:""},{key:"mining depth",val:`${t} ds.`,...(q?F:I)},{key:"",val:""},{key:"total data mined",val:Math.floor(l).toLocaleString("en-US")+" b",...(r?F:I)},{key:"system upgrades",val:`${A}`,...(y?F:I)},{key:"utility upgrades",val:`${C}`,...(B?F:I)},{key:"",val:""},{key:"associate evaluation",val:"[hidden]",
light:!0},{key:"",val:""},{key:"recommendation",val:"feedback.minor_incentive"}];let G=m.slice(0,m.length*a.ease.domain(.7,1,c));c=O=>G.map((P,D)=>[{text:(0<D?"\n":"")+P.key.padEnd(30," "),font:"Major Mono Display",size:4,tint:[1,1,1,O]},{text:P.val,font:"Major Mono Display",size:4,tint:[1,1,1,(P.light?.4:1)*O]},!!P.badge&&{text:"  <"+P.badge+">",font:"Major Mono Display",size:4,tint:[1,1,.3,a.ease.bounce_o(a.ranged_sin(h/5+D,.3,1)*O)]}]).flat().filter(P=>0!=P);return b.group(null,[b.text({pos:[-g[0]/
2,g[1]/2,0],align:["top","left"],parts:c(a.lerp(.13,.18,a.noise(535,2,1,h/10))),line_height:1.6}),b.text({pos:[-g[0]/2,g[1]/2,8],align:["top","left"],parts:c(.9),line_height:1.6}),b.group({pos:[g[0]/2*.9,-g[1]/2*.9,0]},[d({size:[60,10],text:"next>>",oid:"debrief_next_btn",overlap:p.debrief_next_btn,show_dt:a.clamp(0,1,a.unlerp(60,90,n))})])])}}),mg=R((x,z)=>{var {fabs:b,math:a}=wa(),{u:e}=Fa(),f=tb(),d=sb(),{items:g}=Ia(),c=(m,v)=>(null==m[v]&&(m[v]=0),m[v]+=1,m),h=([m,v])=>({type:"item",name:m.toLowerCase(),
count:v}),n=m=>e.arr_pad({type:"empty"},10,Object.entries(m).map(h)),p=(m,v,w)=>m.map((t,q)=>"empty"==t.type?[{text:"-- - -- . -",tint:[1,1,1,a.lerp(.25,.3,a.noise(313,1,1,w/10))*v],font:"Major Mono Display",size:4}]:[{text:t.name.padEnd(25," "),tint:[1,1,1,a.lerp(.9,1,a.noise(414,1,1,w/10))*v],font:"Major Mono Display",size:4},1<t.count&&{text:`x${t.count}`,tint:[1,1,0,v],font:"Major Mono Display",size:4}]).map((t,q)=>b.text({parts:t.filter(l=>l),pos:[0,-7*q,0]}));z.exports=({size:m,show_dt:v,cursor_overlaps:w,
slide_time:t,time:q,kit_contents:l,failed:r})=>{var A=l.map(D=>g[D].title),y=l.map(D=>g[D].size).reduce((D,L)=>D+L,0),C=l.map(D=>g[D].cost).reduce((D,L)=>D+L,0);let B=r?0:a.clamp(0,300,30*l.length);var J=a.ease.o2(a.clamp(0,1,(t-150)/B)),F=Math.floor(J*l.length),I=A.slice(F);A=A.slice(0,F);I=I.reduce(c,{});A=A.reduce(c,{});F=J*l.length%1;F=a.quantize(F+a.lerp(0,.5*a.noise(131,1,.5,q/30),1-Math.abs(F-.5)/.5),.1);let G=a.clamp(0,1,a.unlerp(50,130,t));v=a.ease.bounce_o(a.ease.domain(.5,1,v));let O=a.ease.flicker(a.ease.elastic_io(a.clamp(0,
1,a.unlerp(130,160,t))));y=0==y?0:a.lerp(0,y,a.quantize(J,.1/l.length));l=0==C?0:a.lerp(0,C,a.quantize(J,.1/l.length));C=[140,32];J=b.group(null,[b.rect_fill({size:C,pos:[0,0,-.1],tint:[.6,0,0,0]}),b.text({pos:[5,C[1]-5,0],text:"operation failed\nno data recovered\n\nerr: e_sigtrace_eject",tint:[1,.8,.8,.7],size:6,font:"Major Mono Display",align:["top","left"]}),b.rect_stroke({size:C,width:.5,tint:[1,.8,.8,.7]})]);let P=a.lerp(.7,.9,a.noise(13,2,1,q/10))*a.lerp(.6,1,a.ease.exp_io(a.ranged_sin(q/10,
0,1)));return b.group(null,[b.group({pos:[0,.47*m[1],0]},[b.rect_stroke({pos:[-m[0]/2-1,-.5,0],size:[100,4],tint:[1,1,1,.1*v],width:.5,origin:[0,0]}),b.text({pos:[-m[0]/2,0,0],text:"RECOVERED FROM KIT",tint:[1,1,1,.2*v],size:3,font:"B612 Mono"}),b.rect_stroke({pos:[-m[0]/2-1,-.5,6],size:[100,4],tint:[1,1,1,.5*v],width:.5,origin:[0,0]}),b.text({pos:[-m[0]/2,0,6],text:"RECOVERED FROM KIT",tint:[1,1,1,.8*v],size:3,font:"B612 Mono"}),b.rect_stroke({pos:[.1*-m[0]-1,-.5,0],size:[100,4],tint:[1,1,1,.1*v],
width:.5,origin:[0,0]}),b.text({pos:[.1*-m[0],0,0],text:"TRANSFERED TO TERMINAL",tint:[1,1,1,.2*v],size:3,font:"B612 Mono"}),b.rect_stroke({pos:[.1*-m[0]-1,-.5,6],size:[100,4],tint:[1,1,1,.5*v],width:.5,origin:[0,0]}),b.text({pos:[.1*-m[0],0,6],text:"TRANSFERED TO TERMINAL",tint:[1,1,1,.8*v],size:3,font:"B612 Mono"})]),b.group({pos:[0,.4*m[1],0]},[b.rect_fill({pos:[-m[0]/2,0,-.1],size:[a.lerp(0,100,F),4],tint:[1,1,0,.2]}),b.group({pos:[-m[0]/2,0,0]},p(n(I),.2,q).slice(0,10*a.ease.o2(G))),b.group({pos:[.1*
-m[0],0,0]},p(n(A),.2,q).slice(0,10*a.ease.i2(G))),b.group({pos:[-m[0]/2,0,6]},p(n(I),1,q).slice(0,10*a.ease.o2(G))),b.group({pos:[.1*-m[0],0,6]},p(n(A),1,q).slice(0,10*a.ease.i2(G)))]),b.group({pos:[0,.25*-m[1],0]},[b.text({parts:[{text:"total transfered ",size:4,font:"Major Mono Display",tint:[1,1,1,.2*O]},{text:d(Math.floor(y)).toLowerCase(),size:4,font:"Major Mono Display",tint:[1,1,0,.2*O]}],pos:[-m[0]/2,0,0]}),b.text({parts:[{text:"est. value",size:4,font:"Major Mono Display",tint:[1,1,1,.2*
O]},{text:` $${Math.floor(l)}`,size:4,font:"Major Mono Display",tint:[1,1,0,.2*O*a.ranged_sin(q/3,.6,1)]}],align:["bottom","right"],pos:[.28*m[0],0,0]})]),b.group({pos:[0,.25*-m[1],6]},[b.text({parts:[{text:"total transfered ",size:4,font:"Major Mono Display",tint:[1,1,1,1*O]},{text:d(Math.floor(y)).toLowerCase(),size:4,font:"Major Mono Display",tint:[1,1,0,1*O]}],pos:[-m[0]/2,0,0]}),b.text({parts:[{text:"est. value",size:4,font:"Major Mono Display",tint:[1,1,1,1*O]},{text:` $${Math.floor(l).toLocaleString()}`,
size:4,font:"Major Mono Display",tint:[1,1,0,1*O*a.ranged_sin(q/3,.6,1)]}],align:["bottom","right"],pos:[.28*m[0],0,0]})]),r&&b.group({pos:[-C[0]/2*1.6,-C[1]/2*-.3,6.1]},[b.group({tint:[1,.1,.1,.3*P],pos:[0,0,0]},[J]),b.group({tint:[1,1,1,P],pos:[0,0,6]},[J])]),b.group({pos:[m[0]/2*.9,-m[1]/2*.9,0]},[f({size:[60,10],text:"next>>",oid:"debrief_next_btn",overlap:w.debrief_next_btn,show_dt:a.clamp(0,1,a.unlerp(150+B+60,150+B+90,t))})])])}}),ng=R((x,z)=>{var {fabs:b,math:a}=wa(),e=Na(),{u:f}=Fa(),d=tb(),
{level_to_insight:g,insight_to_level:c,split_insight_rewards:h,server_insight_buffs:n,server_buff_to_str:p,utility_insight_buffs:m,utility_buff_to_str:v}=Ta(),{addresses:w}=Za(),t=Ib(),q=r=>{let A=0,y=0;r=r.map(C=>{let B=b.group({pos:[0,-y,0]},[C]);return y+=C.size[1],A=Math.max(A,C.size[0]),B});return b.group(null,r,[A,y])},l=r=>b.group(null,[b.text({...r,tint:a.v4.mul(r.tint,[1,1,1,.2])}),b.text({...r,pos:a.v4.add(r.pos||[0,0,0],[0,0,6])})]);z.exports=({size:r,show_dt:A,cursor_overlaps:y,time:C,
failed:B,insight_rewards:J,previous_insight:F,reward_idx:I,reward_dt:G,show_modal_dt:O,show_next_btn:P})=>{var D=h(J);J=JSON.parse(JSON.stringify(J));J.forEach(ba=>{ba.reward=0;ba.starting_level=Math.floor(c(ba.current))});D.slice(0,I).filter(ba=>"level"!==ba.type).forEach(ba=>{let S=J.find(k=>k.id==ba.id);S.current=ba.current+ba.reward;S.reward+=ba.reward});let L=D[I];I=J.find(ba=>ba.id==L.id);let M=[.5*r[0],15],X=B?0:168,ea=B?.4:.25,V=B?.6:.5,H=0;B=J.slice(0,Math.floor(J.length*a.clamp(0,1,1.5*
A))).map(ba=>{var S=ba.id==L.id&&"level"!=L.type?a.ease.linear(G)*L.reward:0;let k=Math.floor(ba.reward+S);var u=ba.current+S;S=Math.floor(c(u));u-=g(S);let E=g(S+1)-g(S),Q=S>ba.starting_level;return H+=S-ba.starting_level,b.group(null,[b.rect_fill({pos:[0,0,0],size:a.v2.mul(M,[1,.25]),tint:[...a.hsl2rgb(X,1,ea),a.lerp(.07,.1,a.noise(23+ba.current,1,1,C/20))],origin:[0,.5]}),b.rect_fill({pos:[0,0,.1],size:a.v2.mul(M,[u/E,.1]),tint:[...a.hsl2rgb(X,1,V),a.lerp(.25,.3,a.noise(32+ba.current,1,1,C/20))],
origin:[0,.5]}),l({pos:[0,.25*M[1],.3],text:ba.type.toUpperCase(),font:"B612 Mono",size:2.5,tint:[1,1,1,a.lerp(.7,.8,a.noise(313,2,1,C/10))],align:["bottom","left"]}),l({pos:[0,0,.3],text:ba.label.toLowerCase(),font:"Major Mono Display",size:4,tint:[1,1,1,a.lerp(.8,1,a.noise(313,2,1,C/20))],align:["center","left"]}),l({pos:[1.05*M[0],0,0],parts:[{text:"lv",size:4},{text:S+(Q?"+":""),size:6+S-ba.starting_level}],font:"Major Mono Display",tint:Q?[1,1,.3,a.ranged_sin(C/5,.5,1)]:[1,1,1,a.lerp(.7,.9,a.noise(313,
2,1,C/20))],align:["center","left"]}),0<k&&l({pos:[M[0],.25*M[1],.3],text:`+${k.toLocaleString()}`,font:"B612 Mono",size:2.5,tint:[1,1,.3,a.lerp(.6,.8,a.noise(321,1,1,C/20))],align:["bottom","right"]})],M)});F=Object.values(F).map(ba=>Math.floor(c(Math.max(0,ba)))).reduce((ba,S)=>ba+S,0);F=Math.floor(F+H).toString().padStart(3,"0");let ca=a.ease.io3(O);O=a.lerp(5,10,a.ease.io3(O));D=[];if("address"==I.type){var U=w[I.id];let ba=Math.floor(c(Math.floor(I.current)))+1;var W=n(I.current,U.seed);W=n(g(ba)+
1,U.seed).slice(W.length);D.push(...W.map(p));U.intel.some(S=>S.req_insight==ba)&&D.push("NEW INTEL AVAILABLE")}else if("utility"==I.type){let ba=Math.floor(c(I.current))+1;U=m(g(ba-1),123);U=m(g(ba)+1,123).slice(U.length);D.push(...U.map(v));U=Object.values(t[I.id]).filter(S=>S.insight_level==ba).map(S=>`NEW UPGRADE "${e[`en.synth.${S.id}.title`]}" AVAILABLE`);D.push(...U)}let da=[.4*r[0],.06*r[1]];D=q(f.arr_pad("-- -",4,D).map((ba,S)=>{S=a.ease.exp_io(a.noise(321+S,2,1,C/10)*a.ranged_sin(C/5+2*
S,0,1));return b.group(null,[b.text({pos:[0,0,.1],text:ba,font:"B612 Mono",size:3.5,tint:[.6,.6,1,a.lerp(.7,.9,S)*ca],align:["center","center"]})],da)}));let fa=a.ease.domain(.8,1,A);A=(ba,S,k,u)=>{var E=b.text;var Q=Math.floor(240/S);u=Math.floor(k+u);let T=[];for(let aa=0;aa<Q;aa++)T[aa]="VENUS_HAS_ATTAINED_A_GREATER_LEVEL_OF_INSIGHT_//_"[(aa+u)%49];Q=T.join("");return E.call(b,{text:Q,pos:[-k%1*S*(2/3),ba,.1],size:S,tint:[1,1,1,.07*ca],font:"B612 Mono",align:["bottom","center"]})};return b.group(null,
[b.group({pos:[-r[0]/2,r[1]/2-M[1]/2,.1]},[q(B)]),b.group({pos:[r[0]/2*.9,-r[1]/2*.9,0]},[d({size:[60,10],text:"next>>",oid:"debrief_next_btn",overlap:y.debrief_next_btn,show_dt:P})]),b.group(null,[l({text:"insight rank",font:"Major Mono Display",size:8,pos:[.33*r[0],.13*r[1],0],tint:[1,1,1,a.lerp(.6,.8,a.noise(424,2,1,C/20))*fa],align:["center","center"]}),b.group({pos:[.23*r[0],.3*r[1],0],scale:[1,1,1]},F.split("").map((ba,S)=>l({text:ba,font:"Major Mono Display",size:36,pos:[26*S,0,0],tint:"0"==
ba?[.6,.6,.6,a.lerp(.25,.4,a.noise(323,2,1,C/10))*fa]:[1,1,1,a.lerp(.6,.8,a.noise(323,2,1,C/20))*fa],align:["center","center"]})))]),b.group({pos:[0,O,10]},[b.rect_fill({pos:[0,.4*r[1],0],size:[.7*r[0],.58*r[1]+D.size[1]],tint:[0,0,0,.9*ca],origin:[.5,1]}),A(.25*r[1],3,C/5,234),A(.29*r[1],2.5,C/7,567),A(.1*r[1],3,C/15,234),A(.29*r[1]-D.size[1]-.4*r[1],2.7,C/7,123),A(.29*r[1]-D.size[1]-.24*r[1],2.5,C/7,123),A(.29*r[1]-D.size[1]-.1*r[1],3,C/12,345),A(.29*r[1]-D.size[1]-.3*r[1],2.6,C/5,456),b.text({parts:[{text:I.label.toLowerCase(),
tint:[1,1,1,.8*ca]},{text:` lv${Math.floor(c(I.current)+1)}+`,tint:[1,1,.3,ca*a.ranged_sin(C/5,.5,1)]}],pos:[0,.22*r[1],1],size:6,font:"Major Mono Display",align:["top","center"]}),b.group({pos:[0,.08*r[1],1]},[D]),b.group({pos:[0,.08*r[1]-D.size[1]-.1*r[1],1]},[1==ca&&b.rect_fill({size:[.4*r[0],.1*r[1]],tint:[1,1,1,0*ca],origin:[.5,.5],overlap_id:"debrief_insight_modal_next_btn"}),b.rect_stroke({size:[.4*r[0],.1*r[1]],tint:[1,1,1,.5*ca],origin:[.5,.5],width:.4}),b.text({size:4,tint:[1,1,1,1*ca],
align:["center","center"],text:"confirm",font:"Major Mono Display"})])])])}}),og=R((x,z)=>{var {fabs:b,math:a}=wa(),e=tb(),f=c=>b.group(null,[b.text({...c,tint:a.v4.mul(c.tint,[1,1,1,.2])}),b.text({...c,pos:a.v4.add(c.pos||[0,0,0],[0,0,6])})]),d=(c,h,n)=>{let p=2*Math.PI,m=[...a.v2.polar(.25*p/3,h),0],v=[...a.v2.polar(1.25*p/3,h),0];h=[...a.v2.polar(2.25*p/3,h),0];return b.group(null,[b.line({from:m,to:a.v3.lerp(m,v,a.clamp(0,1,3*c)),width:.4,tint:n}),c>1/3&&b.line({from:v,to:a.v3.lerp(v,h,a.clamp(0,
1,3*(c-1/3))),width:.4,tint:n}),c>2/3&&b.line({from:h,to:a.v3.lerp(h,m,a.clamp(0,1,3*(c-2/3))),width:.4,tint:n})])},g=(c,h,n)=>b.group(null,[d(c,h,a.v4.mul(n,[1,1,1,.2])),b.group({pos:[0,0,5]},[d(c,h,n)])]);z.exports=({size:c,show_dt:h,cursor_overlaps:n,time:p,slide_time:m,xp_reward:v,current_xp:w})=>{var t=m/60;m=[["labor value",`${Math.floor(a.lerp(0,v,a.clamp(0,1,a.unlerp(1,1.5,t)))).toLocaleString()} tmp`],["lifetime value",`${Math.floor(a.lerp(w,v+w,a.clamp(0,1,a.unlerp(2,6,t)))).toLocaleString()} tmp`]].map(([y,
C],B)=>b.group({pos:[-c[0]/2,.2*-c[1]-8*B,0]},[f({text:y,font:"Major Mono Display",size:5,tint:[1,1,1,.9*h],align:["top","left"]}),f({text:C,font:"Major Mono Display",size:5,tint:[1,1,.3,.9*h],align:["top","right"],pos:[150,0,0]})]));w+=a.ease.io3(a.clamp(0,1,a.unlerp(2,6,t)))*v;v=Math.floor(Math.pow(w/317,.53));let q=a.unlerp(317*Math.pow(v,1/.53),317*Math.pow(v+1,1/.53),w);w=Math.floor(v/20);t="abcdefghijklmnopqrstuvwxyz"[w];let l=Math.floor(v)%20,r=(v%20+q)/20,A=y=>a.lerp(.5,.6,a.noise(y,2,1,p/
20));v=a.ease.flicker(a.ease.elastic_io(a.clamp(0,1,a.unlerp(.5,1,h))));return b.group(null,[...m,b.group({rot:[0,0,-.15],pos:[.15*-c[0],.2*c[1],0]},[...a.range(0,20).map(y=>d(1,4*(y+1),[1,1,1,a.ease.bounce_io(h)*(0==y%6?.15:0==y%2?.07:0)])),...a.range(0,20).map(y=>g(a.clamp(0,1,20*r-y),4*(y+1),[1,1,1,A(111)*a.clamp(0,1,h*(y+1))])),g(1,84,[1,1,1,A(321)*v]),0<w&&g(1,88,[1,0,0,A(213)*v]),1<w&&g(1,92,[1,1,.3,A(321)*v]),2<w&&g(1,96,[0,1,1,A(123)*v]),3<w&&g(1,100,[1,0,1,A(444)*v]),4<w&&g(1,104,[1,0,0,
A(213)*v]),5<w&&g(1,108,[1,1,.3,A(321)*v]),6<w&&g(1,112,[0,1,1,A(123)*v]),7<w&&g(1,116,[1,0,1,A(444)*v])]),b.group({pos:[.5*c[0],.1*c[1],0]},[f({text:"employee rank",font:"Major Mono Display",size:12,tint:[1,1,1,a.lerp(.7,.9,a.noise(32,2,1,p/10))*a.clamp(0,1,a.unlerp(.8,1,h))],align:["top","right"]}),f({text:`${t}${l.toString().padStart(2,"0")}`,font:"Major Mono Display",size:35,tint:[1,1,1,a.lerp(.7,.9,a.noise(32,2,1,p/10))*a.clamp(0,1,a.unlerp(.8,1,h))],align:["bottom","right"]})]),b.group({pos:[c[0]/
2*.9,-c[1]/2*.9,0]},[e({size:[60,10],text:"next>>",oid:"debrief_next_btn",overlap:n.debrief_next_btn,show_dt:h})])])}}),pg=R((x,z)=>{var {fabs:b,math:a}=wa(),e=Ab(),f=tb(),d=a.array_shuffle(1234,"PelicanPresley33;santaclara-plan;philometre ~ aus.PY;worldOFworlds;M.PIazza;Arnel Delixette BIGDOG;Dr.M.LEWANDOWSKA;Kumari_BL_215;perispouse;Neman Other;Quality Hospital;luminant rains;Evers Laoscott;Private Promblem;VJ Rendall-Mound;Karat Raiser".split(";")),g=[{text:"You're doing great!"},{text:"You're a true inspiration!"},
{text:"Great work out there!"},{text:"Keep it up!"},{text:"You're really making a difference!"},{text:"You can do anything!"},{text:"we're better off inside",font:"Ibarra Real Nova",size:5},{text:"Amazing! Is there anything you can't do?"},{text:"Unstoppable!"},{text:"Sensational work!"},{text:"call it quits",font:"Ibarra Real Nova"},{text:"Incredible progress!"}].map(n=>({...n,text:`"${n.text}"`})),c=Object.keys(e).reduce((n,p,m)=>(n[p]={from:d[m%d.length],note:g[m%g.length]},n),{});x=n=>p=>(p.tint=
a.v4.mul(p.tint||[1,1,1,1],[1,1,1,.2]),p.pos=a.v3.add(p.pos||[0,0,0],[0,0,-8]),p.parts&&p.parts.forEach((m,v)=>{m.tint&&(m.tint=a.v4.mul(m.tint,[1,1,1,.2]))}),n(p));x(b.rect_stroke);var h=x(b.text);z.exports=({show_dt:n,background:p,time:m,cursor_overlaps:v})=>{let w=e[p];var t=c[p];p=[100,170];let q=a.lerp(.82,1,a.noise(3131,2,1,m/10)),l=a.lerp(.82,1,a.noise(1313,2,1,m/10));var r=a.lerp(.82,1,a.noise(2323,2,1,m/10));a.ease.flicker(a.ease.elastic_io(a.clamp(0,1,a.unlerp(0,.5,n))));let A={pos:[-.4*
p[0],.42*p[1],0],font:"B612 Mono",size:3,align:["top","left"],parts:[{text:"KUDOS RECEIVED!",tint:[1,1,1,1*l]}]};r={pos:[-.4*p[0],.35*p[1],0],font:"B612 Mono",size:4,line_height:1.4,margin:.8*p[0],tint:[1,1,1,r],align:["top","left"],parts:[t.note]};t={pos:[.4*p[0],.25*p[1],0],font:"B612 Mono",size:3,align:["top","right"],tint:[1,1,0,1*q],text:t.from};let y={pos:[-.4*p[0],.05*p[1],0],font:"B612 Mono",size:3,align:["top","left"],tint:[1,1,1,1*l],text:"FLAIR AWARDED!"},C={pos:[0*p[0],-.05*p[1],0],font:"B612 Mono",
size:3,line_height:1.4,align:["center","center"],tint:[1,1,0,1*l],text:`"${w.title}"
  by ${w.author}`},B={pos:[-.4*p[0],-.2*p[1],0],font:"B612 Mono",size:2.5,line_height:1.4,align:["top","left"],tint:[1,1,1,.8*l],margin:.8*p[0],text:"USER INFO: Visit the system settings menu to install your new flair."},J=[];for(var F=0;140>F;F++){var I=a.seeded_rand(1234*F);let G=a.lerp(-1*p[0],p[0],I()),O=a.lerp(-.225*p[1],.225*p[1],I()),P=a.lerp(0,.5,a.noise(123*F,2,1,m/20)),D=a.array_sample(1234*I(),[[1,1,0],[1,0,1],[0,1,1]]);J.push(b.rect_fill({pos:[G,O,-.15],size:[P,P],rot:[0,0,Math.PI/2],
tint:[D[0],D[1],D[2],I()*n],origin:[.5,.5]}))}F={pos:[-.6*p[0],-.2*p[1],0],font:"Major Mono Display",text:"*",tint:[1,1,0,a.quantize(a.ranged_sin(m/20,0,1),.25)*n],size:12,align:["center","center"]};I={pos:[-.68*p[0],-.1*p[1],0],font:"Major Mono Display",text:"*",tint:[1,1,0,a.quantize(a.ranged_sin(m/20-Math.PI/2,0,1),.25)*n],size:16,align:["center","center"]};m={pos:[-.85*p[0],0*p[1],0],font:"Major Mono Display",text:"*",tint:[1,1,0,a.quantize(a.ranged_sin(m/20-Math.PI,0,1),.25)*n],size:20,align:["center",
"center"]};return b.group({pos:[0,a.lerp(-50,20,a.ease.o3(a.clamp(0,1,a.unlerp(0,.4,n)))),0]},[h(JSON.parse(JSON.stringify(A))),h(JSON.parse(JSON.stringify(r))),h(JSON.parse(JSON.stringify(t))),h(JSON.parse(JSON.stringify(y))),h(JSON.parse(JSON.stringify(C))),h(JSON.parse(JSON.stringify(B))),h(JSON.parse(JSON.stringify(F))),h(JSON.parse(JSON.stringify(I))),h(JSON.parse(JSON.stringify(m))),b.group({scale:[-1,1,1]},[h(JSON.parse(JSON.stringify(F))),h(JSON.parse(JSON.stringify(I))),h(JSON.parse(JSON.stringify(m)))]),
b.rect_fill({size:[2*p[0],.45*p[1]],pos:[0,-.08*p[1],-.2],origin:[.5,.5],tint:[1,1,0,l*q*a.clamp(0,1,a.unlerp(.7,1,a.ease.circular_io(n)))*.05]}),b.group({pos:[0,-.08*p[1],0]},J),b.texture(w.image,{scale:[.1,.1,1],pos:[0,-.07*p[1],-.1],rot:[0,0,.1],origin:[.5,.5],tint:[1,1,1,.4*a.clamp(0,1,a.unlerp(.7,1,a.ease.flicker(a.ease.elastic_io(n))))]}),b.text(A),b.text(r),b.text(t),b.text(y),b.text(C),b.text(B),b.text(F),b.text(I),b.text(m),b.group({scale:[-1,1,1]},[b.text(F),b.text(I),b.text(m)]),b.group({pos:[.5*
p[0],-.45*p[1],0]},[f({size:[p[0],.08*p[1]],text:"acknowledge",oid:"debrief_next_btn",overlap:v.debrief_next_btn,show_dt:a.clamp(0,1,a.unlerp(.8,1,n))})])])}}),qg=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),e=ra(),f=Ga(),{split_insight_rewards:d}=Ta(),{weapon_metadata:g}=zb(),{items:c,CAT_LOOT:h}=Ia(),{has_item:n}=db(),{addresses:p}=Za(),m=kg(),v=lg(),w=mg(),t=ng(),q=og(),l=pg();f.register("emit",(A,y)=>C=>{e.emit(A,C,{})});f.register("clear_kit",A=>()=>{let y=A.props[A.props_by_id.terminal].state;
A.run_failed&&(y.kit_items=[])});e.on("changed/mode_terminal/to_debrief",A=>{let y=A.props[A.props_by_id.terminal].state;f.remove(A.automator_state,"debrief");let C=B=>[[0,`(set debrief_slide ${B})`],[0,`(emit enter_slide_${B})`],[80,"(lerp debrief_show_dt 0 1)"],[0,"(set debrief_clicked_next false)"],[0,"(wait_until debrief_clicked_next)"],[50,"(lerp debrief_show_dt 1 0)"],[0,"(set debrief_transitioned_at (get ticks))"],[0,`(emit exit_slide_${B})`]];f.queue(A.automator_state,[[200,"(lerp debrief_bg_in 0 1)"],
[0,"(set debrief_transitioned_at (get ticks))"],...C("summary"),[0,"(clear_kit)"],...C("transfer"),...(n(y,"ai_module")?C("insight"):[]),...C("evaluation"),[100,"(lerp debrief_bg_in 1 0)"],[130,"(lerp_volume debrief_bg 0.4 0)"],[0,"(stop debrief_bg)"],[0,"(stop bg_noise)"],...(y.bg_reward?[[0,`(set debrief_reward ${y.bg_reward})`],[80,"(lerp debrief_show_reward_modal_dt 0 1)"],[0,"(set debrief_clicked_next false)"],[0,"(wait_until debrief_clicked_next)"],[50,"(lerp debrief_show_reward_modal_dt 1 0)"],
[0,"(emit debrief_reward_accepted)"],[50,"(wait)"]]:[]),[0,"(change_loudly mode_terminal desktop)"]],"debrief");f.queue(A.automator_state,[[0,"(play debrief 0 true debrief_bg)"],[0,"(play bye_boot_2 0 true bg_noise 600)"],[200,"(lerp_volume debrief_bg 0 0.4)"]])});e.on("debrief_reward_accepted",A=>{A.props[A.props_by_id.terminal].state.scenes.desktop.bg_options.push(A.debrief_reward)});var r=A=>Object.keys(A.insight_rewards).filter(y=>0<A.insight_rewards[y]).map(y=>{let C=null==g[y]?"address":"utility";
return{id:y,type:C,label:"address"==C?`${p[y].label} (${y})`:g[y].title,current:Math.floor(Math.max(0,A.insight[y]||0)),reward:A.insight_rewards[y]}});e.on("enter_slide_insight",A=>{let y=d(r(A)).map((C,B)=>"level"==C.type?[[10,"(lerp debrief_show_insight_modal_dt 0 1)"],[0,"(wait_until debrief_insight_modal_clicked_next)"],[10,"(lerp debrief_show_insight_modal_dt 1 0)"]]:[[0,`(set debrief_insight_reward_part ${B})`],[Math.min(180,Math.max(1,Math.floor(C.reward/2))),"(lerp debrief_insight_reward_dt 0 1)"]]).flat();
y.unshift([150,"(wait)"]);y.push([30,"(lerp debrief_show_insight_next_btn 0 1)"]);f.queue(A.automator_state,y,"insight")});e.on("exit_slide_insight",A=>{Object.keys(A.insight_rewards).forEach(y=>{null==A.insight[y]&&(A.insight[y]=0);A.insight[y]+=A.insight_rewards[y]})});e.on("exit_slide_evaluation",A=>{let y=A.props[A.props_by_id.terminal].state;A.employee_xp+=y.uptime/60+.01*y.total_cash_collected});e.on("changed/mode_terminal/to_debrief",A=>{A.debrief_show_insight_next_btn=0;A.debrief_show_insight_modal_dt=
0;A.debrief_insight_reward_part=0;A.debrief_insight_reward_dt=0;A.debrief_slide=null});e.on("changed/mode_terminal/from_debrief",A=>{let y=A.props[A.props_by_id.terminal].state;var C={uptime:y.uptime,depth:y.depth,data_mined:y.total_cash_collected,stat_upgrade_count:y.system_stats_upgrade_count,synth_upgrade_count:y.utility_upgrade_count};A.brag.total_runs=(A.brag.total_runs||0)+1;Object.entries(C).forEach(([B,J])=>{let F=`total_${B}`;B=`max_${B}`;A.brag[F]=(A.brag[F]||0)+J;A.brag[B]=Math.max(A.brag[B]||
0,J)});C=y.kit_items.filter(B=>c[B].category==h);y.kit_items=y.kit_items.filter(B=>c[B].category!=h);y.inventory.push(...C)});z.exports={tick:(A,y,C)=>{A=C.some(B=>"mouse_down"==B.type);y.debrief_clicked_next=A&&y.cursor_overlaps.debrief_next_btn;y.debrief_insight_modal_clicked_next=A&&y.cursor_overlaps.debrief_insight_modal_next_btn;130>y.ticks-y.debrief_transitioned_at&&(y.debrief_time_offset+=10);y.cmds.push({type:"audio/set_volume",handle:"bg_noise",volume:a.lerp(0,.2,Math.pow(y.debrief_show_dt,
2))})},draw:(A,y,{dt:C})=>{let B=y.debrief_show_dt,J=[260,130],F=y.ticks+C;A=F-y.debrief_transitioned_at;let I=null==y.debrief_transitioned_at?0:Math.max(0,A-50),G=y.cursor_overlaps,O=y.props[y.props_by_id.terminal].state,P=O.uptime/60+.01*O.total_cash_collected;A={summary:()=>v({size:J,cursor_overlaps:G,slide_time:I,show_dt:B,time:F,address_digits:p[y.run_server].digits,uptime:O.uptime,uptime_record:O.uptime>(y.brag.max_uptime||0),depth:O.depth,depth_record:O.depth>(y.brag.max_depth||0),data_mined:O.total_cash_collected,
data_mined_record:O.total_cash_collected>(y.brag.max_data_mined||0),stat_count:O.system_stats_upgrade_count,stat_count_record:O.system_stats_upgrade_count>(y.brag.max_stat_upgrade_count||0),utility_upgrades:O.utility_upgrade_count,utility_upgrades_record:O.utility_upgrade_count>(y.brag.max_synth_upgrade_count||0)}),transfer:()=>w({size:J,cursor_overlaps:G,slide_time:I,show_dt:B,time:F,kit_contents:O.kit_items,failed:y.run_failed}),insight:()=>t({size:J,cursor_overlaps:G,slide_time:I,show_dt:B,time:F,
failed:y.run_failed,previous_insight:y.insight,insight_rewards:r(y),reward_idx:y.debrief_insight_reward_part,reward_dt:y.debrief_insight_reward_dt,show_modal_dt:y.debrief_show_insight_modal_dt,show_next_btn:y.debrief_show_insight_next_btn}),evaluation:()=>q({size:J,show_dt:B,cursor_overlaps:y.cursor_overlaps,time:F,xp_reward:P,current_xp:y.employee_xp,slide_time:I})}[y.debrief_slide]||(()=>!1);return b.group({pos:[0,160,0],rot:[-.15,.05,0]},[m({size:[300,180],time:y.ticks+y.debrief_time_offset+C,
alpha:y.debrief_bg_in,title:{summary:"connection closed_",transfer:"data>collection_",insight:"insight(venus)_",evaluation:"evaluation"}[y.debrief_slide]||"",reveal_dt:B,failed:!!y.run_failed}),b.group({pos:[10,-10,0]},[A()]),0<y.debrief_show_reward_modal_dt&&b.group({pos:[0,0,0]},[l({show_dt:y.debrief_show_reward_modal_dt,background:y.debrief_reward||"",time:F,cursor_overlaps:y.cursor_overlaps})])])},init:()=>({})}}),rc=R((x,z)=>{z.exports={preroll:$e(),booting:bf(),connected:Pf(),desktop:hg(),safe_mode:jg(),
debrief:qg()}}),rg=R((x,z)=>{var b=rc(),{init_system_stats:a}=fb(),{field_world_size:e}=eb(),f=Ga(),d=Db();z.exports={initial_state:g=>({passable:!1,firmware_modal_reveal:0,firmware_modal_dismiss:0,auto:f.init(),scenes:Object.keys(b).reduce((c,h)=>({...c,[h]:b[h].init()}),{}),rotation:g.rot,draw_display:!0,receive_input:!1,receive_modal_input:!1,paused:!1,connected_at:null,disconnected_at:null,uptime:0,total_cash_collected:0,system_stats_upgrade_count:0,utility_upgrade_count:0,time_left:null,depth:0,
cash:0,crypto:0,multibuy:"x1",system_stats:a(),firmware_draw:[],firmware_hand:[],force_unlocked_firmware:[],active_weapons:[],reward_filename:null,reward_dl_time:0,reward_dl_start:0,reader_augment_at:null,reader_shorts:[],reader_trails:[],reader_x:e[0]/2+.1,reader_y:e[1]-60+.01,reader_angle:.3*Math.PI,reader_2_x:e[0]/2+.1,reader_2_y:e[1]-60+.01,reader_2_angle:.3*Math.PI,reader_3_x:e[0]/2+.1,reader_3_y:e[1]-60+.01,reader_3_angle:.3*Math.PI,weapons:Object.keys(d).reduce((c,h)=>({...c,[h]:d[h].init()}),
{}),seed:Date.now(),squish:0,prev_squish:0,inventory:[],equip_slots:{cpu:[],modem:[],firewall:[],cooler:[],trinket:[],drive:[]},active_consumables:[],kit_items:[],kit_capacity:8388608,wallpaper:"tree",system_temp:null,system_temp_history:[],system_temp_recent_max:null,system_temp_avg:null,xp_gain_pct:0,max_memory_bonus:0})}}),sg=R((x,z)=>{var {math:b}=na(),a=Ga();({initial_state:x}=rg());var {fabs:e}=sa()(),f=rc(),d=[0,90,80];z.exports={init:x,tick:(g,c,h,n)=>{a.tick(g.state.auto,c);f[c.mode_terminal].tick(g,
c,h,n)},draw:(g,c,{dt:h,gl:n})=>e.group({pos:d,scale:[.6,.6,.6]},[f[c.mode_terminal].draw(g,c,{dt:h,gl:n})]),focus:g=>{var c=b.v3.add([0,96,0],d);let h=b.v3.rotate([0,0,1],[0,0,0],[-.1,0,0]),n=b.v3.add(c,b.v3.mul_scalar(h,108));c=b.v3.add(c,b.v3.mul_scalar(h,107));return{facing:Math.floor(4*(1-g.state.rotation[1]/(2*Math.PI)))%4,cam_pos:b.v3.rotate(n,[0,0,0],g.state.rotation),cam_look:b.v3.rotate(c,[0,0,0],g.state.rotation)}}}}),tg=R((x,z)=>{var {math:b}=na(),{world_map:a}=Mb();z.exports={init:e=>
({height:200,pos:e.pos,pos_prev:e.pos,facing:e.facing||0,facing_prev:e.facing||0,move_duration:20,moved_at:0,move_buffer:null}),tick:(e,f,d,g)=>{if(null===f.focus&&!f.interacting_with_prop&&(d=d.filter(n=>"key_down"==n.type).reduce((n,p)=>(n[p.key]=!0,n),{}),g=f.ticks-e.state.moved_at<e.state.move_duration,d.a&&(e.state.move_buffer="a"),d.d&&(e.state.move_buffer="d"),d.w&&(e.state.move_buffer="w"),d.s&&(e.state.move_buffer="s"),!g)){var c=g=!1;d=e.state.facing;var h=e.state.pos;if("a"==e.state.move_buffer&&
(c=!0,d=b.mod(e.state.facing-1,4)),"d"==e.state.move_buffer&&(c=!0,d=b.mod(e.state.facing+1,4)),"w"==e.state.move_buffer&&(g=!0,h=b.v2.add(e.state.pos,[[0,-1],[1,0],[0,1],[-1,0]][e.state.facing])),"s"==e.state.move_buffer&&(g=!0,h=b.v2.sub(e.state.pos,[[0,-1],[1,0],[0,1],[-1,0]][e.state.facing])),c&&(e.state.move_buffer=null,e.state.moved_at=f.ticks,e.state.facing_prev=e.state.facing,e.state.facing=d,e.state.pos_prev=e.state.pos,e.state.pos=h),g)f.walked=!0,e.state.move_buffer=null,g={"#":!0,t:!0,
k:!0,b:!0,g:!0}[a.glyphs[h.join(",")]],c=(c=f.props.find(n=>n.pos[0]==h[0]&&n.pos[1]==h[1]))&&c.state&&c.state.passable,!1!==c&&(!g||c)&&(e.state.moved_at=f.ticks,e.state.pos_prev=e.state.pos,e.state.pos=h,e.state.facing_prev=e.state.facing,e.state.facing=d)}},draw:()=>!1}}),ug=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),e=(g,c)=>b.group(null,[b.box({pos:[0,0,.5],scale:[3,3,1],col:[.1,.1,.1,1]}),b.group({pos:[0,0,1.01]},[g]),b.rect_fill({pos:[0,0,1],size:[3,3],origin:[.5,.5],overlap_id:c,tint:[0,
0,0,0]})]),f=()=>{var g=(w,t)=>b.text({text:w,font:"B612 Mono",pos:[t[0],t[1],0],size:2,tint:[.6,.6,.6,1],align:["center","center"]});let c=g("A",[.15,-.3]),h=g("B",[.15,-.3]),n=g("C",[.15,-.3]),p=g("D",[.15,-.3]);g=g("E",[.15,-.3]);let m=b.text({text:"GO",font:"B612 Mono",pos:[0,0,0],size:1.5,tint:[.6,.6,.6,1],align:["center","center"]}),v=b.text({text:"NO",font:"B612 Mono",pos:[0,0,0],size:1.5,tint:[.6,.6,.6,1],align:["center","center"]});return b.group(null,[b.group({pos:[0,-0,0]},[e(c,"keypad_a")]),
b.group({pos:[4,-0,0]},[e(h,"keypad_b")]),b.group({pos:[8,-0,0]},[e(n,"keypad_c")]),b.group({pos:[0,-4,0]},[e(p,"keypad_d")]),b.group({pos:[4,-4,0]},[e(g,"keypad_e")]),b.group({pos:[0,-12,0]},[e(v,"keypad_reset")]),b.group({pos:[8,-12,0]},[e(m,"keypad_enter")])])},d=(g,c,h)=>{let n=[0,1,2,3,4,5,6,7,8,9].map(p=>b.rect_fill({pos:[0,a.lerp(-2,2,p/10),.54],size:[11,.1],tint:[1,1,1,a.lerp(0,.1,a.noise(100*p,1,.5,c.ticks+h))],origin:[.5,.5]}));return b.group(null,[b.box({scale:[11,4,1],col:[.1,.1,.1,1]}),
b.text({text:g.state.keypad_value.toUpperCase(),font:"B612 Mono",pos:[0,-.4,.51],size:2,tint:[1,.95,.95,1],align:["center","center"]}),...n])};z.exports={init:g=>({rotation:g.rot,key:g.key,keypad_value:"",opened_at:null,passable:!1}),tick:(g,c,h,n)=>{null==g.state.opened_at&&((h=h.some(p=>"mouse_down"==p.type))&&c.cursor_overlaps.keypad_a&&(g.state.keypad_value+="a"),h&&c.cursor_overlaps.keypad_b&&(g.state.keypad_value+="b"),h&&c.cursor_overlaps.keypad_c&&(g.state.keypad_value+="c"),h&&c.cursor_overlaps.keypad_d&&
(g.state.keypad_value+="d"),h&&c.cursor_overlaps.keypad_e&&(g.state.keypad_value+="e"),g.state.keypad_value=g.state.keypad_value.slice(0,6),h&&c.cursor_overlaps.keypad_reset&&(g.state.keypad_value=""),h&&c.cursor_overlaps.keypad_enter&&g.state.keypad_value==g.state.key&&(g.state.opened_at=c.ticks,g.state.passable=!0))},draw:(g,c,{dt:h})=>{var n=null==g.state.opened_at?0:a.clamp(0,1,a.unlerp(0,120,c.ticks-g.state.opened_at));n=a.lerp(0,Math.PI/2*.9,a.ease.io3(n));let p=c.tile_size[0],m=.8*c.tile_size[1],
v=.5*p;return b.group({rot:g.state.rotation,pos:[0,0,-p/2+20]},[b.group({pos:[-v/2,0,0],rot:[0,n,0]},[b.box({pos:[v/2,m/2,0],col:[.15,.14,.13,1],scale:[v,m,15]}),b.group({pos:[.75*v,.5*m,7.5],scale:[2,2,1]},[d(g,c,h),b.group({pos:[-4,-5,0]},[f()])])])])}}}),vg=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),e=({listen_for_overlap:d,size:g,hover:c,active:h,overlap_id:n})=>{c=c&&h?[.15,.15,.15]:h?[.3,.3,.3]:[.2,.2,.2];let p=a.v3.mul_scalar(c,.5);h=h?3:5;return b.group(null,[b.rect_fill({size:g,tint:[0,
0,0,0],origin:[.5,.5],overlap_id:d?n:null}),b.box({pos:[0,0,0],rot:[0,0,0],scale:[g[0],g[1],h],col:[...p,1],origin:[.5,.5],holes:{south:!0,north:!0}}),b.box({pos:[0,0,0],rot:[0,0,0],scale:[g[0],g[1],h],col:[...c,1],origin:[.5,.5],holes:{eest:!0,west:!0,up:!0,down:!0}})])},f=({size:d,margin:g,codes:c,oid_prefix:h,overlaps:n,active:p,listen_for_overlap:m,depth:v})=>{let w=d[0]/4,t=2*w,q=[t-g,t-g],l=c.filter(C=>1==C[0]).map(C=>C.slice(1)),r=c.filter(C=>2==C[0]).map(C=>C.slice(1)),A=c.filter(C=>3==C[0]).map(C=>
C.slice(1));c=c.filter(C=>4==C[0]).map(C=>C.slice(1));let y=(C,B)=>{B=h+B;return 0==C.length?e({size:q,overlap_id:B,hover:n[B],active:p,listen_for_overlap:m}):f({size:[t,t],margin:g,codes:C,overlaps:n,oid_prefix:B,active:0==C[0].length,listen_for_overlap:m,depth:v+1})};return 3<v?e({size:[d[0]-g,d[1]-g],overlap_id:"",hover:n[h],active:p,listen_for_overlap:!1}):b.group(null,[b.group({pos:[w,w,0]},[y(l,"1")]),b.group({pos:[w,-w,0]},[y(r,"2")]),b.group({pos:[-w,-w,0]},[y(A,"3")]),b.group({pos:[-w,w,
0]},[y(c,"4")])])};z.exports={fab_door_dialer:({size:d,codes:g,overlaps:c})=>b.group({rot:[0,0,Math.PI/4]},[b.rect_fill({size:d,origin:[.5,.5],tint:[0,0,0,0],overlap_id:"door_dialer"}),b.rect_fill({size:d,origin:[.5,.5],pos:[-.05*d[0],-.05*d[0],-.01],tint:[.15,.15,.15,1]}),b.rect_fill({size:d,origin:[.5,.5],pos:[.05*d[0],.05*d[0],-.01],tint:[.15,.15,.15,1]}),f({size:d,margin:.007*d[0],codes:g,overlaps:c,active:!1,oid_prefix:"door_dialer_btn_",listen_for_overlap:c.door_dialer,depth:0})])}}),wg=R((x,
z)=>{var {fabs:b}=sa()(),{math:a}=na(),{fab_door_dialer:e}=vg(),f=({size:d,label:g,overlap_id:c})=>b.group(null,[b.rect_fill({size:d,tint:[0,0,0,0],origin:[.5,.5],overlap_id:c}),b.box({pos:[0,0,0],rot:[0,0,Math.PI/4],scale:[d[0],d[1],3],col:[.15,.15,.15,1]}),b.text({text:g,pos:[0,0,1.51],size:4,tint:[.8,.8,.8,1],font:"Major Mono Display",align:["center","center"]})]);z.exports={init:d=>({opened_at:null,passable:!1,codes:[]}),tick:(d,g,c,h)=>{let n=c.some(p=>"mouse_down"==p.type);(n&&g.cursor_overlaps.door_dialer_reset_btn&&
(d.state.codes=[]),n&&g.cursor_overlaps.door_dialer_enter_btn)&&d.state.codes.map(p=>p.join("")).sort().join("/");if(n&&g.cursor_overlaps.door_dialer_btn_1)d.state.codes.push([1]);else if(n&&g.cursor_overlaps.door_dialer_btn_2)d.state.codes.push([2]);else if(n&&g.cursor_overlaps.door_dialer_btn_3)d.state.codes.push([3]);else if(n&&g.cursor_overlaps.door_dialer_btn_4)d.state.codes.push([4]);else{let p={},m=[];d.state.codes.forEach(v=>{for(let w=0;w<v.length;w++){let t=v.slice(0,w+1),q=t.join("");if(p[q])continue;
p[q]=!0;let l="door_dialer_btn_"+q,r=d.state.codes.find(y=>y.join("")==q),A=null!=r;A||(r=t);n&&g.cursor_overlaps[l+"1"]&&3>=r.length?(r.push(1),A||m.push(r)):n&&g.cursor_overlaps[l+"2"]&&3>=r.length?(r.push(2),A||m.push(r)):n&&g.cursor_overlaps[l+"3"]&&3>=r.length?(r.push(3),A||m.push(r)):n&&g.cursor_overlaps[l+"4"]&&3>=r.length&&(r.push(4),A||m.push(r))}});d.state.codes=[...d.state.codes,...m]}},draw:(d,g,{})=>{var c=null==d.state.opened_at?0:a.clamp(0,1,a.unlerp(0,120,g.ticks-d.state.opened_at));
c=a.lerp(0,Math.PI/2*.9,a.ease.io3(c));let h=g.tile_size[0],n=.8*g.tile_size[1],p=.7*h,m=[70,70],v=Math.sqrt(Math.pow(m[0]/2,2)+Math.pow(m[1]/2,2));var w=[10,10];w=Math.sqrt(Math.pow(w[0]/2,2)+Math.pow(w[1]/2,2));return b.group({rot:d.state.rotation,pos:[0,0,h/2-20]},[b.group({pos:[-p/2,0,0],rot:[0,c,0]},[b.box({pos:[p/2,n/2,0],col:[.09,.06,.05,1],scale:[p,n,15]}),b.group({pos:[.5*p,.5*n,7.5]},[e({size:m,codes:d.state.codes,overlaps:g.cursor_overlaps}),b.group({pos:[v,2*-w,0]},[f({size:[10,10],label:">",
overlap_id:"door_dialer_enter_btn"})]),b.group({pos:[v-1.5*w,3.5*-w,0]},[f({size:[10,10],label:"X",overlap_id:"door_dialer_reset_btn"})])])])])}}}),xg=R((x,z)=>{var {fabs:b}=sa()();na();z.exports={init:a=>({text:a.text,show:!1}),tick:(a,e,f,d)=>{!a.state.show&&a.show_on(e)&&(a.state.show=!0)},draw:(a,e,{})=>b.group(null,[a.state.show&&b.text({pos:[0,100,0],size:10,tint:[1,1,1,1],text:a.state.text,font:"B612 Mono"})])}}),yg=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na();z.exports={init:({model:e,rot:f,
scale:d,offset:g,passable:c})=>({model:e,rot:f,scale:d||[1,1,1],offset:g||[0,0,0],passable:!1!==c}),tick:()=>{},draw:(e,f,{})=>b.gltf({model:e.state.model,scale:a.v3.multiply([250,250,250],e.state.scale),rot:e.state.rot,pos:e.state.offset})}}),zg=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na();z.exports={init:()=>({passable:!1}),tick:()=>{},draw:(e,f,{dt:d})=>{d=f.ticks+d;e=[];for(f=0;50>f;f++){var g=a.ranged_sin(12.34*f,-60,60)+a.ranged_sin(f+d/20,-2,2),c=a.ranged_sin(43.21*f,-60,60)+a.ranged_sin(f+
d/20,-2,2),h=(a.ranged_sin(6.66*f,0,250)+d/a.lerp(3,6,f/50))%250,n=2*(1-h/250);e.push(b.rect_fill({pos:[g,h+100,c],size:[n,n],rot:[f,f,f],origin:[.5,.5],tint:[0,0,0,.7]}));e.push(b.rect_fill({pos:[g,h+100,c],size:[n,n],rot:[f+Math.PI/2,f+Math.PI/2,f+Math.PI/2],origin:[.5,.5],tint:[0,0,0,.7]}))}f=[];for(g=0;6>g;g++)c=160*a.noise(1234,1,.2,712.34*g+d/50)-80,h=200*a.noise(2234,1,.2,712.34*g+d/101)-80-40,n=160*a.noise(3234,1,.2,712.34*g+d/52)-80,f.push(b.rect_fill({pos:[c,h+200,n],size:[2,2],tint:[0,
0,0,1],origin:[.5,.5],rot:[0,0,g]})),f.push(b.rect_fill({pos:[c,h+200,n],size:[2,2],tint:[0,0,0,1],origin:[.5,.5],rot:[0,Math.PI/2,g]}));d=[];for(g=0;20>g;g++){c=a.ranged_sin(12.34*g,-20,20);h=a.ranged_sin(43.21*g,-20,20);n=g/10+.1;let p=a.ranged_sin(6.66*g,200,300);d.push(b.rect_fill({pos:[c,n,h],size:[p,p],origin:[.5,.5],tint:[.01,0,0,.1],rot:[Math.PI/2,0,g]}))}return b.group(null,[b.group(null,d),b.gltf({model:"db",pos:[0,0,0],rot:[0,.85*-Math.PI,0],scale:[125,125,125],tint:[1,1,1,1]}),b.group(null,
e),b.group(null,f)])}}}),Ag=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na();z.exports={init:()=>({}),tick:()=>{},draw:(e,f,{dt:d})=>b.group(null,[b.gltf({model:"note",pos:[0,a.ranged_sin((f.ticks+d)/40,120,130),0],rot:[-Math.PI/2*1.1,0,Math.PI/2*1.1],scale:[100,100,100],skip_lighting:!0,tint:[.5,.45,.4,1]})])}}),Bg=R((x,z)=>{z.exports={init:()=>({}),tick:()=>{},draw:(b,a,{})=>!1}}),sc=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=e=>(e=a.ease.io3(e),b.group(null,[b.texture("assets/gfx/ui/lid.png",{scale:[.05,
.05,1],pos:[0,a.lerp(.5,-.5,e),0],origin:[.5,0]}),b.texture("assets/gfx/ui/lid.png",{scale:[.05,.05,1],pos:[0,a.lerp(-.5,.5,e),-.01],origin:[.5,0],rot:[0,0,Math.PI]})]))}),Cg=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=(e,f,d)=>{let g=e[0]/3,c=e[1]/2,h=.15*g,n=(p,m,v,w)=>{let t=a.hsl2rgb(0,1,a.lerp(.2,1,a.ease.elastic_io(w))),q=a.hsl2rgb(0,1,a.lerp(.2,1,a.ease.elastic_io(1-w)));w=a.hsl2rgb(0,1,.5*a.lerp(.2,1,a.ease.elastic_io(1-w)));let l=[g-h,c-h];var r=b.group;p*=a.lerp(.99,1.01,0);m*=a.lerp(.99,
1.01,0);return r.call(b,{pos:[-e[0]/2+g/2+p*g,e[1]/2-c/2-m*c,-.001]},[b.rect_fill({size:l,origin:[.5,.5],tint:[...t,d]}),b.rect_stroke({pos:[0,0,-.1],size:l,origin:[.5,.5],tint:[...w,d],width:.03*c}),b.text({pos:[.05*g,0,-.1],text:v,font:"Ibarra Real Nova",size:.5*c,tint:[...q,d],align:["center","center"]})])};return b.group({pos:[0,Math.sin(f/23)*e[1]*.02,0],rot:[0,0,-.05]},[n(1,0,"W",0),n(0,1,"A",0),n(1,1,"S",a.ranged_sin(f/20,0,1)),n(2,1,"D",0)])}}),Dg=R((x,z)=>{var {fabs:b,math:a}=wa();z.exports=
(e,f,d)=>{let g=e[0]/3,c=e[1]/2;var h=.15*g,n=b.group;d={pos:[0,Math.sin(f/23)*e[1]*.02,0],tint:[1,1,1,d],rot:[0,0,-.05]};var p=a.ranged_sin(f/18,0,1);f=a.hsl2rgb(10,1,a.lerp(.2,1,a.ease.elastic_io(p)));let m=a.hsl2rgb(10,1,a.lerp(.2,1,a.ease.elastic_io(1-p)));p=a.hsl2rgb(10,1,.5*a.lerp(.2,1,a.ease.elastic_io(1-p)));h=[g-h,c-h];var v=b.group,w=0*a.lerp(.99,1.01,0),t=.5*a.lerp(.99,1.01,0);e=v.call(b,{pos:[-e[0]/2+g/2+w*g,e[1]/2-c/2-t*c,-.001]},[b.rect_fill({size:h,origin:[.5,.5],tint:[...f,1]}),b.rect_stroke({pos:[0,
0,-.1],size:h,origin:[.5,.5],tint:[...p,1],width:.03*c}),b.text({pos:[.05*g,0,-.1],text:"E",font:"Ibarra Real Nova",size:.5*c,tint:[...m,1],align:["center","center"]})]);return n.call(b,d,[e,b.text({text:"Interact",font:"Ibarra Real Nova",tint:[1,1,1,1],size:.75*c,align:["center","left"]})])}}),Eg=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),{grid_walk:e}=cc();x=Bb();var f=sc();ra();x.create_pool("steps","grass_step_1 grass_step_2 grass_step_3 grass_step_4 grass_step_5 grass_step_6 grass_step_7 grass_step_8".split(" "));
var d={x:{type:"wall"},p:{type:"player_start"},c:{type:"path"},f:{type:"flower"},F:{type:"oflower"},".":{type:"floor"},h:{type:"head"},t:{type:"target"}};x=";. . . . . . x x x . . . . . x x x . . . . . . . . . . . . . . . . . .;x x x x x x . c . x x x x x . . . x x x x . . . . . . . . . . . . . .;x . . . . . . c . . . . . . . . . . . . x . . . . . . . . . . . . . .;x . p . c c c c c c c c c c c c c c c . x . . . . . . . . . . . . . .;x . . . . . . . . . . . . . . c . . . . x . . . . . . . . . . . . . .;x x x x x x x x x x x x x x . c . x x x x . . . . . . . . . . . . . .;. . . . x . . . x . . . . x . c . x . . . . . . . . . . . . . . . . .;. . . . x . t . x . . . . x . c . x . . . . . . . . . . . . . . . . .;. . . . x . c . x x x x x x . c . x x x x x x x x x x x x x x x x x x;. . . . x . c . . . . . . . . c . . . . x x x x x x x x x . . . F . x;. . . . x . c c c c c c c c c c c c c c c c c c c c c c c c c . h . x;. . . . x . . . . . . . . . . . . . . . x x x x x x x x x . . . f . x;. . . . x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x;".split(";").filter(q=>
0<q.length);var g=x.reduce((q,l,r)=>l.split(" ").reduce((A,y,C)=>({...A,[C+","+r]:y}),q),{}),c=x[0].split(" ").length,h=x.length,n=x.map(q=>q.split(" ").map(l=>"x"==l?"#":".").join("")),p=x.reduce((q,l,r)=>l.split(" ").reduce((A,y,C)=>({...A,[y]:[...(A[y]||[]),[C,r]]}),q),{}),m={};x=()=>b.texture("assets/gfx/dreams/grass.png",{pos:[0,-50,0],scale:[.2734375,.2734375,.2734375],rot:[Math.PI/2,0,0],origin:[.5,.5],tint:[.9,1,.8,1]});var v=q=>(l,r,A,y)=>b.group({rot:[0,0,-.14*Math.PI]},[b.ikaros("assets/gfx/dreams/hand.png",
{pos:[0,a.ranged_sin(l/20-.6,-5,5),0],scale:[.5*q,.5,.5],rot:[0,.5*Math.PI,0],origin:[.5,.5],tint:[0,0,0,.2]}),b.ikaros("assets/gfx/dreams/hand.png",{pos:[-5,a.ranged_sin(l/20-.3,-5,5),0],scale:[.5*q,.5,.5],rot:[0,.5*Math.PI,0],origin:[.5,.5],tint:[0,0,0,.2]}),b.ikaros("assets/gfx/dreams/hand.png",{pos:[-10,a.ranged_sin(l/20,-5,5),0],scale:[.5*q,.5,.5],rot:[0,.5*Math.PI,0],origin:[.5,.5],tint:y?[1,1,1,1]:[1,1,1,.7]})]),w={wall:{back:(q,l,r)=>{null==m[l+","+r]&&(q={},"x"==g[l+1+","+r]||(q.right="assets/gfx/dreams/stone.png"),
"x"==g[l-1+","+r]||(q.left="assets/gfx/dreams/stone.png"),"x"==g[l+","+(r+1)]||(q.front="assets/gfx/dreams/stone.png"),"x"==g[l+","+(r-1)]||(q.back="assets/gfx/dreams/stone.png"),m[l+","+r]=q);l=m[l+","+r];return 0==Object.keys(l).length?!1:b.pixel_box({scale:[.2734375,.390625,.2734375],tint:[.9,1,.9,1],sides:l})}},floor:{back:x},player_start:{back:x},flower:{fore:v(1),back:x},oflower:{fore:v(-1),back:x},path:{back:()=>b.texture("assets/gfx/dreams/grass.png",{pos:[0,-50,0],scale:[.2734375,.2734375,
.2734375],rot:[Math.PI/2,0,0],origin:[.5,.5]})},head:{back:x,fore:(q,l,r,A,y)=>{q={top:"assets/gfx/dreams/stone.png",left:"assets/gfx/dreams/stone.png",right:"assets/gfx/dreams/stone.png",front:"assets/gfx/dreams/stone.png",back:"assets/gfx/dreams/stone.png"};return b.group(null,[b.pixel_box({pos:[0,-50,0],scale:[.1,.2,.1],sides:q}),b.pixel_box({pos:[0,-50,0],scale:[.13,.15,.13],tint:[.9,.9,.9,1],sides:q}),!y&&b.texture("assets/gfx/dreams/alpha_head.png",{pos:[0,-10,0],scale:[.06,.06,.06],rot:[0,
.5*Math.PI,0]})])}},target:{back:x}},t=(q,l)=>(r,{gl:A})=>{r=a.m4.make_camera_vp_matrices(q);return b.group({matrix:r.ivp},[b.group({scale:[1,A.canvas.width/A.canvas.height,1]},[l])])};z.exports={init:()=>{let q=Object.keys(g).find(l=>"p"==g[l]).split(",").map(l=>parseInt(l));return{done:!1,ticks:0,accel:[0,0],prev_pos:q,next_pos:q,facing_accel:0,prev_facing:-.5,facing:-.5,started_moving_at:0,pushed_btn_at:null,prev_shoegaze:0,next_shoegaze:0,holding_up:!1,holding_down:!1,holding_left:!1,holding_right:!1}},
tick:(q,l,r)=>{0==q.ticks&&r.cmds.push({type:"audio/play",name:"alpha_amb",params:{handle:"bg",loop:!0}});400>q.ticks&&r.cmds.push({type:"audio/set_volume",handle:"bg",volume:a.clamp(0,1,q.ticks/400)});q.ticks+=1;let A=l.filter(I=>"key_down"==I.type).map(I=>I.key),y=l.filter(I=>"key_up"==I.type).map(I=>I.key),C={up:"w",down:"s",left:"a",right:"d"},B=q.holding_up||q.holding_down;Object.keys(C).forEach(I=>{let G=C[I];A.includes(G)&&(q["holding_"+I]=!0,B||(q.started_moving_at=q.ticks));y.includes(G)&&
(q["holding_"+I]=!1)});(q.holding_up||q.holding_down)&&0==(q.ticks-q.started_moving_at)%40&&r.cmds.push({type:"audio/play_pool",pool_name:"steps",params:{seed:q.ticks,volume:.5}});q.prev_facing=q.facing;q.holding_left&&(q.facing_accel-=.01);q.holding_right&&(q.facing_accel+=.01);q.facing_accel*=.8;q.facing+=q.facing_accel;q.prev_pos=q.next_pos;l=.008+a.ranged_sin((q.ticks-q.started_moving_at)/40*2*Math.PI,-.003,.002);q.holding_up&&(q.accel=a.v2.add(q.accel,a.v2.polar(q.facing,l)));q.holding_down&&
(q.accel=a.v2.add(q.accel,a.v2.polar(q.facing,-l)));q.accel=a.v2.mul_scalar(q.accel,.8);q.next_pos=a.v2.add(q.next_pos,q.accel);q.prev_shoegaze=q.next_shoegaze;q.holding_up&&(q.next_shoegaze+=.1);q.next_shoegaze*=.99;l=1.5>a.v2.distance(q.next_pos,p.h[0]);if(null==q.pushed_btn_at&&l&&A.includes("e")&&(r.cmds.push({type:"audio/play",name:"alpha_gasp",params:{volume:1.3}}),q.pushed_btn_at=q.ticks),q.pushed_btn_at&&20>=q.ticks-q.pushed_btn_at)l=a.clamp(0,1,1-(q.ticks-q.pushed_btn_at)/20),r.cmds.push({type:"audio/set_volume",
handle:"bg",volume:l}),0==l&&r.cmds.push({type:"audio/stop",handle:"bg"});q.pushed_btn_at&&200==q.ticks-q.pushed_btn_at&&(q.done=!0);let J=q.next_pos[0]+.5,F=q.next_pos[1]+.5;r=[];for(l=Math.floor(J-2);l<J+2;l++)for(let I=Math.floor(F-2);I<F+2;I++){let G=g[l+","+I];"x"!=G&&"f"!=G&&"F"!=G&&"h"!=G||r.push([l,I])}r.some(I=>{var G=[1,1];I=a.v2.sub([J,F],a.v2.add(I,a.v2.mul_scalar(G,.5)));G=a.v2.sub([Math.abs(I[0]),Math.abs(I[1])],a.v2.mul_scalar(G,.5));return 0>Math.min(Math.max(G[0],G[1]),0)+a.v2.length(a.v2.max(G,
[0,0]))-.2})&&(q.next_pos=q.prev_pos)},draw:(q,{dt:l,gl:r})=>{var A=q.ticks+l,y=a.ease.io3(a.clamp(0,1,1-q.ticks/300));let C=a.ease.exp_io(a.ranged_sin(A/30+Math.PI/2,0,1)*a.clamp(0,1,1-A/200));var B=a.lerp(-5E-4,5E-4,a.noise(313,1,1,A/40)),J=a.lerp(-.004,.004,a.noise(222,1,1,A/40));let F=a.v2.mul_scalar(a.v2.lerp(q.prev_pos,q.next_pos,l),70);B=a.lerp(q.prev_facing,q.facing,l)+B;var I=a.v2.add(F,a.v2.polar(B,1)),G=a.lerp(q.prev_shoegaze,q.next_shoegaze,l);let O=1.5>a.v2.distance(q.next_pos,p.h[0]);
var P=r.canvas.width/r.canvas.height;y=b.camera({pos:[F[0],0,F[1]],look_at:[I[0],J+y-a.lerp(0,.6,a.clamp(0,1,G/50)),I[1]],aspect:P,fov:45,roll:a.lerp(-.002,.002,a.noise(4234,1,1,A/60))});P=e({origin:[F[0]+35,F[1]+35],ray_count:1E3,ray_spread:2.3*Math.atan(Math.tan(45*.0174533/2)*r.canvas.width/r.canvas.height),angle:B,grid_size:[70,70],occlusion_map:n});let D=!!q.mean_mode;J={time:A,fog_on:!0,noise_on:!1,fog_near:-200*a.clamp(0,1,A/100),fog_far:a.lerp(700,800,a.noise(4321,2,1,A/20))*(D?.8:1),fog_color:D?
[.05,0,0]:[1,1,1]};I=b.group;G=b.rect_fill({pos:[c/2*70,50,h/2*70],size:[70*c,70*h],tint:D?[.05,0,0,1]:[1,1,1,1],origin:[.5,.5],rot:[Math.PI/2,0,0]});var L=null!=q.pushed_btn_at;let M=[];for(var X=0;X<c;X++)for(var ea=0;ea<h;ea++)if(P[ea][X]){var V=M,H=V.push;var ca=X;var U=ea,W=w[d[g[X+","+ea]].type].back;ca=W?b.group({pos:[70*ca,0,70*U]},[W(A,ca,U,D,L)]):!1;H.call(V,ca)}for(X=0;X<c;X++)for(ea=0;ea<h;ea++)P[ea][X]&&(V=M,H=V.push,ca=X,U=ea,ca=(W=w[d[g[X+","+ea]].type].fore)?b.group({pos:[70*ca,0,
70*U]},[W(A,ca,U,D,L)]):!1,H.call(V,ca));A=b.group(null,M);return{settings:J,tree:I.call(b,{pos:[0,0,0]},[y,G,A,!!q.pushed_btn_at&&b.group({pos:[F[0],0,F[1]],rot:[0,-B+Math.PI/2,0]},[b.group({pos:[0,0,15]},[b.texture("assets/gfx/dreams/alpha_head.png",{pos:[-5,-10,0],scale:[.025,.025,.025],rot:[1,0,.2],tint:[.5,.5,.5,1]})])]),t(y,b.group(null,[.01<C&&f(C),O&&!q.pushed_btn_at&&b.text({text:"[E] Pick Up",font:"Ibarra Real Nova",size:.07,tint:[.6,0,0,1],align:["center","center"],pos:[0,-.4,0]})]))(null,
{dt:l,gl:r})])}}}}),Fg=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),e=Ga();z.exports={init:()=>({done:!1,ticks:0,auto:e.init(),active_part:0,part_change:0,part_spins:[4,6,2,5],awaiting_input:!0,done_at:null}),tick:(f,d)=>{f.ticks+=1;let g=c=>d.filter(h=>"key_down"==h.type).some(h=>h.key==c);return f.awaiting_input&&(0!==f.part_change&&(f.part_spins[f.active_part]+=f.part_change,f.part_change=0,8==f.part_spins[f.active_part]&&(f.part_spins[f.active_part]=0),0==f.part_spins[f.active_part]&&(f.active_part+=
1),f.active_part==f.part_spins.length&&(f.awaiting_input=!1,f.done_at=f.ticks,e.queue(f.auto,[[200,"(wait)"],[0,"(set done true)"]]))),f.awaiting_input&&((g("a")||g("ArrowLeft"))&&e.queue(f.auto,[[0,"(set awaiting_input false)"],[100,"(lerp part_change 0 1)"],[0,"(set awaiting_input true)"]]),(g("d")||g("ArrowRight"))&&e.queue(f.auto,[[0,"(set awaiting_input false)"],[100,"(lerp part_change 0 -1)"],[0,"(set awaiting_input true)"]]))),e.tick(f.auto,f),f},draw:(f,{dt:d,gl:g})=>{let c=f.ticks+d;d=b.camera({pos:[0,
0,100],look_at:[0,0,0],aspect:g.canvas.width/g.canvas.height,fov:45,roll:0});g=f.part_spins.map((h,n)=>{if(n!=f.active_part)return h;n=a.noise(321,1,1,c/10);let p=1-Math.abs(Math.abs(f.part_change)-.5)/.5;return h+Math.sign(f.part_change)*a.ease.o3(Math.abs(f.part_change))+a.lerp(-.1,.1,n)*p});return{settings:{time:c,fog_on:!0,noise_on:!0,fog_near:-300,fog_far:500,fog_color:[.02,0,0]},tree:b.group({pos:[0,0,0]},[d,...[0,1,2,3,4,5,6,7,8].map(h=>b.texture("assets/gfx/dreams/lock_suit.png",{pos:[60-
5*f.active_part,a.ranged_sin(1.98*h,-3,3),35*h-300+10*f.active_part],scale:[.07,.07,.07],tint:[.5,.5,.5,1]})),...[0,1,2,3,4,5,6,7,8].map(h=>b.texture("assets/gfx/dreams/lock_suit.png",{pos:[-(60-5*f.active_part),a.ranged_sin(1.77*h,-3,3),35*h-300+10*f.active_part],scale:[-.07,.07,.07],tint:[.5,.5,.5,1]})),...g.map((h,n)=>{if(n>f.active_part)return!1;let p=`assets/gfx/dreams/lock_${n+1}.png`;return b.group({pos:[0,0,31]},[b.texture(p,{pos:[a.lerp(-.05,.05,a.noise(4321*n,1,1,c/10)),a.lerp(-.05,.05,
a.noise(1234*n,1,1,c/10)),n/10],rot:[0,0,h*Math.PI*2/8],tint:f.active_part==n?[.8,0,0,1]:[.5,0,0,1],scale:[.05+a.lerp(-.001,.001,a.noise(333*n,1,1,c/20))+a.lerp(-.01,0,1-n/3),.05+a.lerp(-.001,.001,a.noise(222*n,1,1,c/20))+a.lerp(-.01,0,1-n/3),.05]}),b.texture(p,{pos:[a.lerp(-.05,.05,a.noise(4321*n,1,1,c/10+2)),a.lerp(-.05,.05,a.noise(1234*n,1,1,c/10+2)),(n+.5)/10],rot:[0,0,h*Math.PI*2/8],tint:[0,0,0,0],scale:[.05+a.lerp(-.001,.001,a.noise(333*n,1,1,c/20+2))+a.lerp(-.01,0,1-n/3),.05+a.lerp(-.001,.001,
a.noise(222*n,1,1,c/20+2))+a.lerp(-.01,0,1-n/3),.05]})])}),b.texture("assets/gfx/dreams/lock_key.png",{pos:[0,a.lerp(25,0,null==f.done_at?0:a.ease.i3(a.clamp(0,1,(c-f.done_at)/100))),30],scale:[.05,.05,.05]}),...g.map((h,n)=>b.texture("assets/gfx/dreams/lock_smoke.png",{rot:[0,0,h/8*Math.PI*2+10*n],pos:[0,0,40+n],scale:[.04,.04,.04],tint:[1,1,1,a.ranged_sin(c/5+n*Math.PI/2,.02,.15)]}))])}}}}),Gg=R((x,z)=>{Rc();Sc();Zd();Fe();Ge();He();var {math:b}=na(),{u:a}=Fa(),e=ra(),{metrics:f}=wb(),{fabs:d}=
sa()(),g=Ga(),c=$a();Ie();var {world_map:h,map_props:n,map_lights:p,map_models:m}=Mb(),{grid_walk:v}=cc(),w=Na(),{item_by_id:t}=Ia(),q=dc(),l=Ke(),r=xa();ec();x=sg();var A=tg(),y=ug(),C=wg(),B=xg(),J=yg(),F=zg(),I=Ag(),G=Bg(),{available_gigs:O}=rb(),{load:P}=Nb(),D=sc(),L=Cg(),M=Dg(),{parse_2_parts:X}=qb(),ea={alpha:Eg(),lockheart:Fg()};e.on("finished_run/won",(K,{server:ha})=>{if("daily"==ha){ha=K.daily_records[K.daily_key];var Y=K.sigtrace_at_severance;(!ha||ha<Y)&&(K.daily_records[K.daily_key]=
Y)}});g.register("change_loudly",K=>(ha,Y)=>{r(K,ha,Y)});g.register("interp_prop",(K,ha)=>(Y,...ja)=>{let N=ja[ja.length-2],Z=ja[ja.length-1];Y=K.props[K.props_by_id[Y]].state;let ka=ja.slice(0,-2).reduce((la,ma)=>la[ma],Y);return{get:()=>ka[Z],set:la=>{ka[N]=ka[Z];ka[Z]=la}}});g.register("prop",(K,ha)=>(Y,...ja)=>{Y=K.props[K.props_by_id[Y]].state;let N=ja.slice(0,-1).reduce((ka,la)=>ka[la],Y),Z=ja[ja.length-1];return{get:()=>N[Z],set:ka=>{N[Z]=ka}}});g.register("gain_xp",(K,ha)=>Y=>{K.currency_exp+=
Y;e.emit(K,"gain_xp",{amount:Y})});g.register("get_loot",(K,ha)=>Y=>{K.props.find(ja=>"terminal"==ja.type).state.kit_items.push(Y);e.emit(K,"get_loot",{item:Y})});g.register("give_item",K=>ha=>{K.props[K.props_by_id.terminal].state.inventory.push(ha)});g.register("notify",(K,ha)=>(Y,ja,N)=>{K.notifications.push({at:K.ticks,title:w[Y],body:w[ja],lifetime:N})});g.register("refresh_gigs",(K,ha)=>()=>{let Y=K.props.find(ja=>"terminal"==ja.type).state.scenes.desktop;Y.available_gigs=O(Y.completed_gigs)});
g.register("player_speak",K=>ha=>{K.player_speech_line=w[(K.language||"en")+"."+ha]});g.register("player_speak_clear",K=>()=>{K.player_speech_line=""});e.on("clicked",(K,ha)=>{ha.oid&&e.emit(K,`clicked/${ha.oid}`,ha)});e.on("try_interact",(K,ha)=>{if(ha.prop){var Y=ha.prop.id;let ja=ha.prop.type;"terminal"!=Y&&(K.flags.has_interacted=!0);e.emit(K,Y?`interact_id_${Y}`:`interact_type_${ja}`,ha)}else Y=ha.facing,e.emit(K,"try_interact/"+ha.pos.join(",")+"/"+Y,{})});e.on("interaction_next",K=>{K.interaction_next=
!0});var V=K=>K.map(ha=>[[0,`(player_speak ${ha})`],[60,"(lerp player_speak_dt 0 1)"],[10,"(wait)"],[0,"(wait_until interaction_next)"],[0,"(set interaction_next false)"],[0,"(player_speak_clear)"]]).flat(),H=({model:K,title_id:ha,desc_id:Y,scale:ja,rot:N})=>[[0,`(set examine_model ${K})`],[0,`(set examine_model_scale ${ja})`],[0,`(set examine_model_rot ${N})`],[0,`(set examine_title ${ha})`],[0,`(set examine_desc ${Y})`],[20,"(lerp examine_lightbox 0 1)"],[30,"(wait)"],[0,"(wait_until interaction_next)"],
[0,"(set interaction_next false)"],[20,"(lerp examine_lightbox 1 0)"],[0,"(set examine_model false)"],[0,"(set examine_title false)"],[0,"(set examine_desc false)"]],ca=({name:K,title_id:ha,option_1:Y,option_2:ja})=>{let [N,Z]=Y,[ka,la]=ja;return[[0,`(set choice_name ${K})`],[0,`(set choice_title ${ha})`],[0,`(set choice_opt_1_id ${N})`],[0,`(set choice_opt_1_label ${Z})`],[0,`(set choice_opt_2_id ${ka})`],[0,`(set choice_opt_2_label ${la})`],[0,"(set choice_selected 0)"],[20,"(lerp choice_show 0 1)"],
[30,"(wait)"],[0,"(wait_until interaction_next)"],[0,"(set interaction_next false)"],[20,"(lerp choice_show 1 0)"],[0,"(set choice_name false)"],[0,"(set choice_title false)"],[0,"(set choice_opt_1_id false)"],[0,"(set choice_opt_1_label false)"],[0,"(set choice_opt_2_id false)"],[0,"(set choice_opt_2_label false)"]]},U=(K,ha)=>{g.queue(K.automator_state,[[0,"(set interacting_with_prop true)"],[0,"(set interaction_next false)"],...ha.filter(Y=>Y).flat(),[0,"(set interacting_with_prop false)"]])};
e.on("interact_id_maint_door",K=>{U(K,[V(["player_comment.maint_door_a","player_comment.maint_door_b"])])});e.on("interact_id_desk_shelf",K=>{U(K,[V(["player_comment.desk_shelf_a","player_comment.desk_shelf_b"])])});e.on("interact_id_desk_pipe",K=>{U(K,[V(["player_comment.desk_pipe_a","player_comment.desk_pipe_b"])])});e.on("interact_id_bathroom_door",K=>{U(K,[V(["player_comment.bathroom_door"])])});e.on("interact_id_sink",K=>{U(K,[V(["player_comment.sink_a","player_comment.sink_b"])])});e.on("interact_id_fridge",
K=>{U(K,[V(["player_comment.fridge_a","player_comment.fridge_b"])])});e.on("interact_id_counter",K=>{U(K,[V(["player_comment.counter_a","player_comment.counter_b"])])});e.on("interact_type_keydoor",K=>{U(K,[V(["player_comment.keydoor"])])});e.on("interact_id_db_chair",K=>{U(K,[V(["player_comment.db_chair_a","player_comment.db_chair_b"]),H({model:"note",title_id:"examine.db_note.title",desc_id:"examine.db_note.desc"})])});e.on("interact_id_sign_wrong_way",K=>{U(K,[V(["player_comment.sign_wrong_way"]),
H({model:"note",title_id:"examine.sign_wrong_way.title",desc_id:"examine.sign_wrong_way.desc"})])});e.on("interact_id_bed",K=>{g.queue(K.automator_state,[[200,"(lerp blink 0 1)"],[0,"(set dream alpha)"]])});e.on("try_interact/-6,-6/e",K=>{(K.flags.has_interacted=!0,K.flags.has_snips)?U(K,[V(["line.snips_taken"])]):g.queue(K.automator_state,[[0,"(set interacting_with_prop true)"],[0,"(set interaction_next false)"],...V(["line.snips_here"]),...ca({name:"choice.take_snips",title_id:"choice.take_snips.title",
option_1:["yes","choice.take_snips.yes"],option_2:["no","choice.take_snips.no"]})])});e.on("choice.take_snips/yes",K=>{K.flags.has_snips=!0;K.models.clippers.hide=!0;g.queue(K.automator_state,[...V(["line.took_snips"]),...H({model:"clippers",title_id:"examine.snips.title",desc_id:"examine.snips.desc"}),[0,"(set interacting_with_prop false)"]])});e.on("choice.take_snips/no",K=>{K.interacting_with_prop=!1});e.on("try_interact/2,-9/n",K=>{(K.flags.has_interacted=!0,K.flags.closed_vent)?U(K,[V(["line.cable_is_cut_a",
"line.cable_is_cut_b","line.cable_is_cut_c"])]):g.queue(K.automator_state,[[0,"(set interacting_with_prop true)"],[0,"(set interaction_next false)"],...V(["line.blocked_vent_a","line.blocked_vent_b"]),...(K.flags.has_snips?ca({name:"choice.cut_cable",title_id:"choice.cut_cable.title",option_1:["yes","choice.cut_cable.yes"],option_2:["no","choice.cut_cable.no"]}):[[0,"(set interacting_with_prop false)"]])])});g.register("hide_model",K=>ha=>{K.models[ha].hide=!0});g.register("show_model",K=>ha=>{K.models[ha].hide=
!1});e.on("choice.cut_cable/yes",K=>{g.queue(K.automator_state,[[100,"(lerp ftb 0 1)"],[0,"(hide_model vent_stuck)"],[0,"(show_model vent_unstuck)"],[0,"(set_flag closed_vent)"],[100,"(lerp ftb 1 0)"],...V(["line.cut_cable_a","line.cut_cable_b"]),[0,"(set interacting_with_prop false)"]])});e.on("choice.cut_cable/no",K=>{K.interacting_with_prop=!1});e.on("clicked",(K,{oid:ha})=>{if(ha.startsWith("gizmo")){var [,Y,ja]=ha.split("/");K.gizmo_dragging={target:ja,axis:Y,from:K.cursor_intersections["gizmo_plane/"+
Y+"/"+ja]}}});var W=K=>d.group(null,K.gizmos.map(ha=>{if("pos"!=ha.type)return!1;let Y=a.obj.path(K,ha.target),ja="gizmo/x/"+ha.target,N="gizmo/y/"+ha.target,Z="gizmo/z/"+ha.target,ka="gizmo_plane/x/"+ha.target,la="gizmo_plane/y/"+ha.target;ha="gizmo_plane/z/"+ha.target;return d.group({pos:Y},[d.rect_fill({origin:[.5,.5],size:[100,5],tint:[1,0,0,K.cursor_overlaps[ja]?1:.7],overlap_id:ja,overlay:!0}),d.rect_fill({origin:[.5,.5],size:[5,100],tint:[0,1,0,K.cursor_overlaps[N]?1:.7],overlap_id:N,overlay:!0}),
d.rect_fill({origin:[.5,.5],rot:[Math.PI/2,0,0],size:[5,100],tint:[0,0,1,K.cursor_overlaps[Z]?1:.7],overlap_id:Z,overlay:!0}),d.rect_fill({origin:[.5,.5],size:[5E3,5E3],tint:[1,0,0,0],overlap_id:ka,overlay:!0}),d.rect_fill({origin:[.5,.5],size:[5E3,5E3],tint:[0,1,0,0],overlap_id:la,overlay:!0}),d.rect_fill({origin:[.5,.5],rot:[Math.PI/2,0,0],size:[5E3,5E3],tint:[0,0,1,0],overlap_id:ha,overlay:!0})])})),da={player:A,terminal:x,keydoor:y,front_door:C,dev_sign:B,model:J,db_chair:F,floating_note:I,trigger:G},
fa=()=>{let K={ticks:0,vm:c.init(),mode_connection:"waiting",mode_terminal:"preroll",mode_desktop:"home",mode_reward_modal:"hidden",mode_demux:"firing",volume_music:1,volume_sfx:1,cursor_held:!1,cursor_overlaps:{},cursor_intersections:{},automator_state:g.init(),models:JSON.parse(JSON.stringify(m)),gizmos:[{type:"prop_pos",target:"models.note.pos"}],cmds:[],flags:{},run_flags:{},irl_cash:0,tile_size:[300,500,300],focus:"terminal",focus_prev:"terminal",focus_duration:100,focus_changed_at:-100,props:n.map(ha=>
({...ha,state:da[ha.type].init(ha)})).sort((ha,Y)=>"terminal"==ha.type?1:-1),props_by_id:{},cam_shake_energy:0,cam_shake_cursor:0,dream:null,dream_state:null,blink:0,ftb:0,reader_history:[],reader_2_history:[],reader_3_history:[],notifications:[],dbg_dmg:{},telemetry_opt_in:!1,telemetry_queue:[],insight:{},used_upgrades:{},debrief_slide:"summary",debrief_transitioned_at:null,debrief_time_offset:0,debrief_show_dt:0,debrief_bg_in:0,debrief_clicked_next:!1,debrief_insight_modal_clicked_next:!1,debrief_show_insight_next_btn:0,
debrief_show_insight_modal_dt:0,debrief_insight_reward_part:0,debrief_insight_reward_dt:0,brag:{},employee_xp:0,mining_blocks:[],mining_block_deaths:[],mining_block_hits:[],mining_boids:[],mining_downloads:[],run_dmg:{},run_dmg_history:[],run_dps_history:{},run_dps_latest:{},run_dps_total_history:[],run_dps_total_latest:0,run_block_count:0,run_blocks_broken:0,run_next_file_size:0,run_next_file_id:0,run_last_file_start:0,run_last_file_end:0,run_removed_mods:[],drop_weights:{},detection_mode:"idle",
detection_sigtrace:0,detection_sigtrace_factors:{},detection_scan_roll:0,detection_scan_show_modal:0,detection_scan_show_stats:0,detection_scan_show_roll:0,detection_scan_show_result:0,detection_alert_show:0,detection_alert_countdown:0,detection_alert_show_meter:!1,decrypted_files:{},currency_exp:0,currency_delta:0,delta_shop_reveal_0:1,delta_shop_reveal_1:1,delta_shop_reveal_2:1,delta_shop_bought_0:0,delta_shop_bought_1:0,delta_shop_bought_2:0,sigtrace_total:0,sigtrace_base:0,sigtrace_part_mods:0,
sigtrace_part_temp:0,sigtrace_part_kit:0,sigtrace_part_depth:0,sigtrace_at_severance:0,app_enabled_mail:!0,app_enabled_addresses:!0,app_enabled_files:!0,app_enabled_shop:!0,app_enabled_codex:!0,app_enabled_kit:!0,app_enabled_settings:!0,daily_records:{},daily_key:q(new Date),dailys_completed:{},daily_server_overrides:null,mailbox:[],mail_scroll_offset:0,mail_selected:null,manual_scroll_offset:0,manual_selected:null,desktop_fg_tint:[1,1,1,1],desktop_bg_tint:[.3,.2,0,1],desktop_boot_loader:0,desktop_boot_loader_tint:[1,
1,1,1],desktop_boot_loader_offset:[0,0,0],desktop_frame_offset:[0,0,0],desktop_popups:[],cursor_last_fired_at:0,slide_dt:0,slide_text:null,agent_id:"ggbaby@monstro.wa",arm_target:null,arm_parts:null,popup_vent_1_open_1:0,popup_vent_1_open_2:0,popup_vent_1_open_3:0,popup_vent_2_open_1:0,popup_vent_2_open_2:0,popup_vent_2_open_3:0};return K.props.forEach((ha,Y)=>{null!=ha.id&&(K.props_by_id[ha.id]=Y)}),K},ba=(K,ha,Y)=>{K.props.forEach(ja=>{da[ja.type].tick(ja,K,ha,Y)})},S=K=>{let ha=K.run_dmg_history.reduce((Y,
ja)=>(Y[ja.source]||(Y[ja.source]=[]),Y[ja.source].push(ja),Y),{});K.run_dps_latest={};Object.keys(ha).forEach(Y=>{let ja=ha[Y].reduce((N,Z)=>N+Z.damage,0)/6;K.run_dps_latest[Y]=ja;K.run_dps_history[Y]||(K.run_dps_history[Y]=[]);K.run_dps_history[Y].push(ja)});K.run_dps_total_latest=Object.keys(K.run_dps_latest).reduce((Y,ja)=>Y+K.run_dps_latest[ja],0);K.run_dps_total_history.push(K.run_dps_total_latest)},k=(K,ha,Y)=>{K.ticks+=1;"booting"!=K.mode_terminal&&0==K.ticks%100&&!K.dont_save&&K.cmds.push({type:"save",
state:K});K.cam_shake_cursor+=1+.1*K.cam_shake_energy;K.cam_shake_energy*=.95;ba(K,ha,Y);Y=K.props.find(N=>"player"===N.type).state;if(K.interacting_with_prop||0<K.slide_dt)if(Y=ha.filter(N=>"key_down"==N.type).map(N=>N.key).reduce((N,Z)=>({...N,[Z]:!0}),{}),0<K.choice_show){if((Y.w||Y.s)&&(K.choice_selected=(K.choice_selected+1)%2),Y.e)e.emit(K,"interaction_next",{}),e.emit(K,K.choice_name+"/"+(0==K.choice_selected?K.choice_opt_1_id:K.choice_opt_2_id),{})}else Y.e&&e.emit(K,"interaction_next",{});
else{var ja=[[0,1],[-1,0],[0,-1],[1,0]];if(ha.some(N=>"key_down"==N.type&&"e"==N.key)){let N=b.v2.sub(Y.pos,ja[Y.facing]);(ja=K.props.find(Z=>Z.pos[0]==N[0]&&Z.pos[1]==N[1]))?e.emit(K,"try_interact",{prop:ja}):e.emit(K,"try_interact",{pos:Y.pos,facing:"nesw"[Y.facing]})}ja=K.ticks-Y.moved_at<Y.move_duration;if(!(K.ticks-K.focus_changed_at<K.focus_duration||ja))if(ja=ha.some(N=>"key_down"==N.type&&"w"==N.key),null==K.focus&&ja)for(ha=K.props.filter(N=>da[N.type].focus),ja=0;ja<ha.length;ja++){let N=
ha[ja],Z=da[N.type].focus(N,K),ka=b.v2.add(N.pos,[[0,1],[-1,0],[0,-1],[1,0]][Z.facing]);b.v2.equal(Y.pos,ka)&&Y.facing==Z.facing&&(K.focus_prev=null,K.focus=N.type,K.focus_changed_at=K.ticks)}else null!=K.focus&&(Y=ha.some(N=>"key_down"==N.type&&"s"==N.key),ha=K.mode_terminal,Y&&K.flags.can_stand&&"debrief"!=ha&&(K.flags.has_walked=!0,K.walked=!0,K.focus_prev=K.focus,K.focus=null,K.focus_changed_at=K.ticks))}return g.tick(K.automator_state,K),c.tick(K.vm,K),K},u=(K,ha)=>(Y,{gl:ja})=>{Y=b.m4.make_camera_vp_matrices(K);
return d.group({matrix:Y.ivp},[d.group({scale:[1,ja.canvas.width/ja.canvas.height,1]},[ha])])},E=({text:K,time:ha,dt:Y})=>{if(null==K||""==K)return!1;K=X(K);let ja=K.map(ma=>ma.text.length).reduce((ma,qa)=>ma+qa),N=Math.floor(b.lerp(0,ja,Y)),Z=[],ka=0;K.forEach(ma=>{let qa=N-ka;qa>=ma.text.length?(Z.push(ma),ka+=ma.text.length):ka<N&&(Z.push({...ma,text:ma.text.slice(0,qa)}),ka=N)});let la={b:{tint:[1,1,0,1]}};K=Z.map(ma=>({...la[ma.tag],text:ma.text}));return d.group(null,[d.text({parts:K,pos:[0,
-.4,0],size:.04,font:"Ibarra Real Nova",tint:[1,1,1,.8],align:["bottom","center"]}),1==Y&&d.text({text:"A",tint:[1,1,1,.8],pos:[0,-.45+b.ranged_sin(ha/10,0,-.008),0],rot:[0,0,Math.PI],size:.04,font:"Major Mono Display",align:["center","center"]})])},Q=({time:K,lang:ha,lightbox:Y,model:ja,title:N,desc:Z,pos:ka,scale:la,tint:ma,rot:qa})=>{if(!(Y||ja||N||Z))return!1;var ta=ha||"en";ha=ta+"."+N;ta=ta+"."+Z;ha=w[ha]||`MISSING TRANSLATION ${ha}`;ta=w[ta]||`MISSING TRANSLATION ${ta}`;let ua=b.clamp(0,1,
b.unlerp(.4,1,Y)),oa=b.clamp(0,1,b.unlerp(0,.5,Y));return d.group(null,[0<Y&&d.rect_fill({size:[5,5],tint:[0,0,0,b.lerp(0,.7,oa)],origin:[.5,.5]}),!!ja&&0<ua&&d.gltf({model:ja,pos:b.v3.add(ka||[0,0,0],[-.5,0,-.2]),rot:b.v3.add([-Math.PI/4,b.ranged_sin(K/150,-Math.PI/8,Math.PI/8),0],qa||[0,0,0]),scale:b.v3.multiply([.5,.5,.5],la||[1,1,1]),skip_lighting:!0,tint:b.v4.mul(ma||[1,1,1,1],[ua,ua,ua,1])}),!!N&&d.text({text:ha.toUpperCase(),pos:[0,.25,-.1],font:"Ibarra Real Nova",size:.05,tint:[1,1,1,.7*ua]}),
!!Z&&d.text({text:ta,pos:[0,.15,-.1],font:"Ibarra Real Nova",size:.03,tint:[1,1,1,.8*ua],margin:.6,line_height:1.4})])},T=({time:K,dt:ha,lang:Y,title:ja,opt_1:N,opt_2:Z,selected:ka})=>{if(!ja)return!1;Y=Y||"en";ja=Y+"."+ja;N=Y+"."+N;Y=Y+"."+Z;Z=w[ja]||`MISSING TRANSLATION ${ja}`;N=w[N]||`MISSING TRANSLATION ${N}`;Y=w[Y]||`MISSING TRANSLATION ${Y}`;ha=b.clamp(0,1,b.unlerp(.4,1,ha));ka=(0==ka?-.22:-.3)-.02;return d.group({tint:[1,1,1,ha]},[d.text({text:Z,pos:[0,0,-.1],font:"Ibarra Real Nova",size:.05,
tint:[1,1,1,.9],align:["center","center"]}),d.text({text:N,pos:[0,-.22,-.1],font:"Ibarra Real Nova",size:.04,tint:[1,1,1,.9],align:["center","center"]}),d.text({text:Y,pos:[0,-.3,-.1],font:"Ibarra Real Nova",size:.04,tint:[1,1,1,.9],align:["center","center"]}),d.text({text:". . . . . .",font:"Ibarra Real Nova",pos:[0,ka,-.1],size:.03,tint:[1,1,1,b.ranged_sin(K/12,.6,1)],align:["center","center"]})])},aa=(K,ha,Y)=>{ha=b.v3.noise(1234,1,1,ha/10);K=b.v3.add([K[0],K[1]/2,K[2]],b.v3.mul_scalar(ha,b.lerp(2,
0,Y)));return[[K[0]+1,K[1],K[2]],K,Math.PI/2*.9]},ia=(K,{dt:ha,gl:Y})=>{let ja=K.ticks+ha;var N=K.props.find(ya=>"player"==ya.type),Z=ya=>b.lerp(-1,1,b.noise(531,2,.8,ya/10)),ka=K.cam_shake_cursor+ha,la=[Z(ka+1111),Z(ka+2222),Z(ka+3333)];Z=[Z(ka+4444),Z(ka+5555),Z(ka+6666)];ka=b.ease.io2(b.clamp(0,1,(ja-N.state.moved_at)/N.state.move_duration));var ma=[N.state.pos[0]*K.tile_size[0],N.state.height,N.state.pos[1]*K.tile_size[2]],qa=[N.state.pos_prev[0]*K.tile_size[0],N.state.height,N.state.pos_prev[1]*
K.tile_size[2]],ta=[[0,0,-1],[1,0,0],[0,0,1],[-1,0,0]],ua=b.v3.add(ma,ta[N.state.facing]);ta=b.v3.add(qa,ta[N.state.facing_prev]);N=b.v3.lerp(qa,ma,ka);qa=b.v3.lerp(ta,ua,ka);var oa=K.props.find(ya=>ya.type==K.focus);ta=K.props.find(ya=>ya.type==K.focus_prev);let pa=oa?da[K.focus].focus(oa,K):null,va=ta?da[K.focus_prev].focus(ta,K):null;ka=b.ease.io2(b.clamp(0,1,(ja-K.focus_changed_at)/K.focus_duration));ua=null==K.focus?N:b.v3.add(pa.cam_pos,b.v3.multiply(b.v3.from_xz(oa.pos),K.tile_size));ma=null==
K.focus_prev?N:b.v3.add(va.cam_pos,b.v3.multiply(b.v3.from_xz(ta.pos),K.tile_size));oa=null==K.focus?qa:b.v3.add(pa.cam_look,b.v3.multiply(b.v3.from_xz(oa.pos),K.tile_size));ta=null==K.focus_prev?qa:b.v3.add(va.cam_look,b.v3.multiply(b.v3.from_xz(ta.pos),K.tile_size));qa=b.v3.lerp(ma,ua,ka);ma=b.v3.lerp(ta,oa,ka);let za=K.focus?1-ka:ka;ua=b.lerp(400,3001,za);let Ja=!(null!=K.focus&&1==ka);Z=b.v3.add(ma,b.v3.mul_scalar(Z,.1*K.cam_shake_energy));la=b.v3.add(qa,b.v3.mul_scalar(la,.1*K.cam_shake_energy));
let [Sa,Qa,Ea]=aa(N,ja,0);N=b.v3.lerp([0,0,0],[0,-.2,0],b.ease.io2(K.blink));Z=b.v3.lerp(b.v3.add(Z,N),Sa,0);let Aa=b.v3.lerp(la,Qa,0);la=b.lerp(0,Ea,0);let La=d.camera({pos:Aa,look_at:Z,aspect:Y.canvas.width/Y.canvas.height,fov:65*b.lerp(.8,1,1-za),roll:la});la=2*Math.atan(Math.tan(.56723225)*Y.canvas.width/Y.canvas.height);Z=b.v2.angle_between([ma[0],ma[2]],[Aa[0],Aa[2]]);let Ua={origin:[Aa[0]+K.tile_size[0]/2,Aa[2]+K.tile_size[2]/2],ray_count:500,ray_spread:la,angle:Z-Math.PI,grid_size:[K.tile_size[0],
K.tile_size[2]],occlusion_map:h.occlusion_map};f.time("grid_walk_ms",()=>v(Ua));let Va={clippers:{scale:[.7,.7,.7],pos:[0,-.35,-.1],rot:[1.1,1,0],tint:[1.5,1.5,1.5,1]}};return{settings:{time:ja,fog_on:!0,noise_on:!0,fog_near:b.lerp(200,-400,K.blink),fog_far:b.lerp(ua,.1*ua,K.blink),fog_color:[0,0,0],point_lights:p.map(ya=>({pos:b.v3.sub(b.v3.mul_scalar(ya.pos,K.tile_size[0]),Aa),tint:ya.tint,intensity:"vent"==ya.name?K.flags.closed_vent?0:40>ja%80?.3*ya.intensity:ya.intensity:"terminal"==ya.name?
b.lerp(.95,1,b.noise(1,2,1,ja/20))*ya.intensity:"catwalk"==ya.name?Math.pow(b.ranged_sin(ja/20,.1,1),2)*ya.intensity:ya.intensity,attenuation:ya.attenuation,name:ya.name})),sun:{direction:[1,0,0],tint:[1,1,0],intensity:1,ambient_tint:[0,0,.2]}},tree:f.time("timed_draw_break_ms",()=>d.group({pos:[0,0,0]},[Ja&&d.group({tint:b.v4.lerp([1,1,1,1],[0,0,0,1],1-Math.min(za,1-b.ease.exp_io(K.ftb)))},[d.gltf({model:"monstro",scale:[K.tile_size[0],K.tile_size[0],K.tile_size[0]]}),...Object.values(K.models).map(ya=>
ya.hide?!1:d.gltf({model:ya.model,pos:ya.pos,rot:ya.rot,scale:ya.scale,skip_lighting:ya.skip_lighting,tint:ya.tint}))]),d.group(null,K.props.map(ya=>d.group({pos:b.v3.multiply(b.v3.from_xz(ya.pos),K.tile_size)},[(Ja||K.focus==ya.type)&&da[ya.type].draw(ya,K,{dt:ha,gl:Y})]))),La,!1,u(La,d.group(null,[Q({lightbox:K.examine_lightbox,model:K.examine_model,title:K.examine_title,desc:K.examine_desc,time:ja,pos:(Va[K.examine_model]||{}).pos,scale:(Va[K.examine_model]||{}).scale,rot:(Va[K.examine_model]||
{}).rot,tint:(Va[K.examine_model]||{}).tint}),T({dt:K.choice_show,title:K.choice_title,opt_1:K.choice_opt_1_label,opt_2:K.choice_opt_2_label,selected:K.choice_selected,time:ja}),E({text:K.player_speech_line,dt:K.player_speak_dt,time:ja}),.01<K.blink&&D(b.ranged_sin(5*Math.PI*Math.pow(K.blink,.5)+1.5*Math.PI,0,1)),0<K.slide_dt&&l({dt:K.slide_dt,text:K.slide_text,time:ja}),0<K.show_stand_prompt&&d.group({pos:[.7,-.4,0]},[L([.2,.12],ja,K.show_stand_prompt)]),0<K.show_interact_prompt&&d.group({pos:[.7,
-.4,0]},[M([.2,.12],ja,K.show_interact_prompt)])]))(null,{dt:ha,gl:Y}),W(K)]))}};z.exports={init:()=>{var K=fa();K=P(K);var ha=K.props[K.props_by_id.terminal].state;null==ha.equip_slots.drive&&(ha.equip_slots.drive=[]);K.flags.preroll&&r(K,"mode_terminal","booting");ha.kit_items=ha.kit_items.filter(Y=>null!=t(Y));ha.inventory=ha.inventory.filter(Y=>null!=t(Y));ha=ha.scenes.desktop;return ha.shop_items=(ha.shop_items||[]).filter(Y=>null!=t(Y)),K},tick:(K,ha,Y)=>(0==K.ticks%30&&S(K),K.agent_id=K.flags.reset_terminal?
"genome-jesus@monstro.wa":"ggbaby@monstro.wa",K.flags.has_interacted&&(K.show_interact_prompt*=.9),K.cmds.push({type:"audio/set_bus_volume",handle:"terminal_sfx",volume:K.volume_sfx}),K.cmds.push({type:"audio/set_bus_volume",handle:"terminal_mod_menu_sfx",volume:K.volume_sfx}),K.cmds.push({type:"audio/set_bus_volume",handle:"terminal_music",volume:K.volume_music}),ha.forEach(ja=>{"mouse_down"==ja.type?K.cursor_held=!0:"mouse_up"==ja.type&&(K.cursor_held=!1)}),ha.forEach(ja=>{"cursor_over"==ja.type?
(e.emit(K,"cursor_over",{oid:ja.id}),e.emit(K,"cursor_over/"+ja.id,{})):"cursor_out"==ja.type&&(e.emit(K,"cursor_out",{oid:ja.id}),e.emit(K,"cursor_out/"+ja.id,{}))}),null==K.dream?k(K,ha,Y):(null==K.dream_state&&(K.dream_state=ea[K.dream].init()),ea[K.dream].tick(K.dream_state,ha,K),K.dream_state.done&&(K.dream=null,K.dream_state=null,g.queue(K.automator_state,[[200,"(lerp blink 1 0)"]])),K)),draw:(K,{dt:ha,gl:Y})=>null==K.dream?ia(K,{dt:ha,gl:Y}):(null==K.dream_state&&(K.dream_state=ea[K.dream].init()),
ea[K.dream].draw(K.dream_state,{dt:ha,gl:Y})),make_default_state:fa}}),Ub=R((x,z)=>{var b=async a=>{let e=50<a.length?a.substring(0,50):a;try{let f=await fetch(a);if(!f.ok)throw Error(`load_image ${e} HTTP error: ${f.status}`);return f}catch(f){throw console.error("load_image",e,"fetch failed:",f),f;}};z.exports={load_image:async a=>b(a).then(e=>e.blob()).then(e=>createImageBitmap(e,{premultiplyAlpha:"none"})).catch(e=>console.error("load_image fetch failed for",a,e))}}),Hg=R((x,z)=>{Fa();var {load_image:b}=
Ub(),a={},e=d=>3==d.length?[d]:[[d[0],d[1],d[2]],[d[0],d[2],d[3]]],f=d=>{let g={"#":(h,n)=>h,o:(h,n)=>h,mtllib:(h,n)=>h,usemtl:(h,n)=>h,v:(h,n)=>({...h,v:[...h.v,[...n.map(parseFloat),1]]}),vt:(h,n)=>({...h,vt:[...h.vt,n.map(parseFloat)]}),vn:(h,n)=>({...h,vn:[...h.vn,n.map(parseFloat)]}),f:(h,n)=>({...h,faces:[...h.faces,...e(n.map(p=>p.split("/").map(m=>parseInt(m,10)-1)))]})},c=d.split("\n").filter(h=>0<h.length).map(h=>h.split(/\s+/)).reduce((h,n)=>g[n[0]](h,n.slice(1)),{v:[],vt:[],vn:[],faces:[]});
return{a_position:c.faces.flatMap(h=>h.flatMap(n=>c.v[n[0]])),a_texcoord:c.faces.flatMap(h=>h.flatMap(n=>c.vt[n[1]])),a_normal:c.faces.flatMap(h=>h.flatMap(n=>c.vn[n[2]]))}};z.exports={load_objs:d=>{let g=d.map(c=>({name:c,obj_file:`assets/gfx/objs/${c}/${c}.obj`,texture_file:`assets/gfx/objs/${c}/${c}.png`}));d=g.map(c=>a[c.texture_file]);return Promise.all(d.map(b)).then(c=>g.reduce((h,n,p)=>{let m=f(a[n.obj_file]);return{...h,[n.name]:{obj:m,texture_image:c[p]}}},{}))},load_objs_no_tex:d=>d.map(g=>
({name:g,obj_file:`assets/gfx/objs/${g}/${g}.obj`,texture_file:`assets/gfx/objs/${g}/${g}.png`})).reduce((g,c)=>{let h=f(a[c.obj_file]);return{...g,[c.name]:{obj:h,texture_file:c.texture_file}}},{})}}),Ig=R((x,z)=>{var {kgl:b}=Eb(),{math:a}=na();({load_objs_no_tex:x}=Hg());var e=null,f=x([]);z.exports={setup:(d,g)=>{e=b.make(g,"#version 300 es\nin vec4 a_position;\nin vec2 a_texcoord;\nin vec3 a_normal;\nuniform mat4 u_projection;\nuniform mat4 u_view;\nuniform mat4 u_world;\nout vec3 v_normal;\nout vec2 v_texcoord;\n\nvoid main() {\n  gl_Position = u_projection * u_view * u_world * a_position;\n  v_normal = mat3(u_world) * a_normal;\n  v_texcoord = a_texcoord;\n}",
"#version 300 es\nprecision mediump float;\nin vec3 v_normal;\nin vec2 v_texcoord;\nuniform sampler2D u_texture;\nuniform vec4 u_diffuse;\nuniform vec3 u_lightDirection;\nout vec4 outColor;\n\nvoid main() {\n  vec3 normal = normalize(v_normal);\n  float fakeLight = dot(u_lightDirection, normal) * .5 + .5;\n  vec4 tex_color = texture(u_texture, v_texcoord);\n  outColor = vec4(u_diffuse.rgb * tex_color.rgb * fakeLight, u_diffuse.a * tex_color.a);\n}",{instanced:!1});e.use();for(let c in f)f[c].gl_texture=
e.upload_texture(d[f[c].texture_file]);e.set_uniforms({u_lightDirection:a.v3.normalize([-1,3,5]),u_diffuse:[1,1,1,1]})},draw:(d,g,c)=>{let h={gpu_render_ms:0,cpu_buffer_ms:0};return e.use(),e.set_render_target(null,{clear:!1,blend:!1,depth:!0}),d.forEach(n=>{e.set_uniforms({u_view:c.view,u_projection:c.projection,u_world:n.transform});e.buffer_attrs({a_position:new Float32Array(f[n.model].obj.a_position),a_texcoord:new Float32Array(f[n.model].obj.a_texcoord),a_normal:new Float32Array(f[n.model].obj.a_normal)});
e.bind_texture(f[n.model].gl_texture);n=e.render();h.gpu_render_ms+=n.gpu_render_ms;h.cpu_render_ms+=n.cpu_render_ms}),h}}}),Jg=R((x,z)=>{var b=new Float32Array(5E5),a=new Float32Array(5E5),e=new Float32Array(5E5),f=new Float32Array(8E6),d=new Float32Array(1E6),g=new Float32Array(2E6),c=new Float32Array(2E6),h=new Float32Array(5E5),n={tint:0,tex:1,ikaros:2,msdf:3,sdf:4};z.exports={to_attrs:p=>{let m={junk:b,a_render_type:a,a_overlay:e,a_transform:f,a_origin:d,a_tint:g,a_uvs:c,a_grain:h},v=p.length;
for(let t=0;t<v;t++){let q=p[t];var w=q.transform;f[16*t]=w[0];f[16*t+1]=w[1];f[16*t+2]=w[2];f[16*t+3]=w[3];f[16*t+4]=w[4];f[16*t+5]=w[5];f[16*t+6]=w[6];f[16*t+7]=w[7];f[16*t+8]=w[8];f[16*t+9]=w[9];f[16*t+10]=w[10];f[16*t+11]=w[11];f[16*t+12]=w[12];f[16*t+13]=w[13];f[16*t+14]=w[14];f[16*t+15]=w[15];w=q.origin;d[2*t]=w[0];d[2*t+1]=w[1];w=q.tint;g[4*t]=w[0];g[4*t+1]=w[1];g[4*t+2]=w[2];g[4*t+3]=w[3];w=q.uvs;c[4*t]=w[0];c[4*t+1]=w[1];c[4*t+2]=w[2];c[4*t+3]=w[3];h[t]=q.grain;a[t]=n[q.type];e[t]=q.overlay?
1:0}return[v,m]}}}),Kg=R((x,z)=>{var {kgl:b}=Eb(),{to_attrs:a}=Jg(),e=null,f=null;z.exports={setup:(d,g)=>{e=b.make(g,"#version 300 es\nprecision highp float;\n\nuniform mat4 u_vp_matrix;\nuniform mat4 u_view_matrix;\n\nin float junk; // included for FF <85 compatibility\n\nin lowp float a_render_type;\nin lowp float a_overlay;\nin mat4 a_transform;\nin vec2 a_origin;\nin vec4 a_tint;\nin vec4 a_uvs;\nin float a_grain;\n\nflat out lowp uint v_render_type;\nflat out lowp uint v_overlay;\nout vec4 v_tint;\nout vec2 v_uv;\nout vec3 v_view_pos;\nout float v_grain;\n\nconst vec4 quad_vertices[4] = vec4[](\n  vec4(1, 1, 0, 1), // top right\n  vec4(0, 1, 0, 1), // top left\n  vec4(1, 0, 0, 1), // bottom right\n  vec4(0, 0, 0, 1) // bottom left\n);\n\nvoid main() {\n  // adding 'junk' here to avoid the attrib being optimized out by firefox\n  vec4 position = (quad_vertices[gl_VertexID] - vec4(a_origin, 0, 0)) + (junk * 0.000000000001f);\n  gl_Position = u_vp_matrix * a_transform * position;\n\n  v_tint = a_tint;\n  v_view_pos = (u_view_matrix * a_transform * position).xyz;\n  v_render_type = uint(a_render_type);\n  v_overlay = uint(a_overlay);\n  v_grain = a_grain;\n\n  if (gl_VertexID == 0) { v_uv = a_uvs.zy; }\n  else if (gl_VertexID == 1) { v_uv = a_uvs.xy; }\n  else if (gl_VertexID == 2) { v_uv = a_uvs.zw; }\n  else { v_uv = a_uvs.xw; }\n}",
"#version 300 es\nprecision highp float;\nconst float NOISE_FACTOR = 20.0 / 255.0;\n\nuniform sampler2D u_texture;\nuniform float u_time;\nuniform vec2 u_texture_size;\nuniform vec2 u_msdf_distance_unit;\nuniform mat4 u_haeberli;\nuniform float u_fog_near;\nuniform float u_fog_far;\nuniform vec3 u_fog_color;\nuniform uint u_toggle_noise;\nuniform uint u_toggle_fog;\nuniform uint u_toggle_haeberli;\n\nflat in lowp uint v_render_type;\nflat in lowp uint v_overlay;\nin vec4 v_tint;\nin vec2 v_uv;\nin vec3 v_view_pos;\nin float v_grain;\n\nout vec4 frag_color;\n\nvec4 flat_mode() {\n  return v_tint;\n}\n\nvec4 texture_mode() {\n  return texture(u_texture, v_uv) * v_tint;\n}\n\nvec4 ikaros_mode() { // https://www.shadertoy.com/view/ldsSRX https://twitter.com/IkarosAV\n  vec2 uv = v_uv * u_texture_size;\n  return texture(u_texture, (clamp(fract(uv) / clamp(fwidth(uv), 0.0, 1.0), 0.0, 1.0) + floor(uv) - 0.5) / u_texture_size) * v_tint;\n}\n\nvec4 msdf_mode() {\n  vec3 texture_sample = texture(u_texture, v_uv, -99.0f).rgb;\n  float r = texture_sample.r,\n        g = texture_sample.g,\n        b = texture_sample.b;\n\n  float signed_distance = max(min(r, g), min(max(r, g), b)) - 0.5;\n  signed_distance *= dot(u_msdf_distance_unit, 0.5/fwidth(v_uv));\n\n  float opacity = clamp(signed_distance + 0.5, 0.0, 1.0) * v_tint.a;\n  if (opacity < 0.00001) {\n    discard;\n  }\n\n  return vec4(v_tint.rgb, opacity);\n}\n\nvec4 sdf_mode() {\n  float offset = 0.0; // -0.5 to 0.5\n  float tex_sample = texture(u_texture, v_uv).a;\n  float blog_sample = 1.0 - tex_sample * 2.0;\n  vec4 sdf_col = v_tint;\n  float border_width = 1.1;\n\n  float d = blog_sample + offset;\n\n  if (d < border_width) {\n    sdf_col.a *= smoothstep(0.0, 1.0, 1.0 - pow(clamp(d, 0.0, 1.0) / border_width, 1.0));\n    return sdf_col;\n  } else {\n    return vec4(0);\n  }\n}\n\nvec3 apply_fog(vec3 rgb) {\n  float depth = length(v_view_pos);\n  float fog_amount = smoothstep(u_fog_near, u_fog_far, depth);\n  return mix(rgb, u_fog_color, fog_amount);\n}\n\nfloat rand(vec2 coord) {\n  const float GR = 1.61803398874989484820459 * 0.1; // golden ratio\n  const float PI  = 3.14159265358979323846264 * 0.1;\n  const float SQ2 = 1.41421356237309504880169 * 10000.0; // root 2\n  return fract(sin(dot(coord * GR, vec2(GR, PI))) * SQ2);\n}\n\nvoid main() {\n  vec4 color = vec4(1, 0, 1, 1);\n\n  if (v_render_type == 0u) {\n    color = flat_mode();\n  } else if (v_render_type == 1u) {\n    color = texture_mode();\n  } else if (v_render_type == 2u) {\n    color = ikaros_mode();\n  } else if (v_render_type == 3u) {\n    color = msdf_mode();\n  } else if (v_render_type == 4u) {\n    color = sdf_mode();\n  }\n\n  if (u_toggle_haeberli == 1u) {\n    color *= u_haeberli;\n  }\n  if (u_toggle_fog == 1u) {\n    color.rgb = apply_fog(color.rgb);\n  }\n\n  if (color.a < 0.000001) { discard; }\n  frag_color = color;\n\n  if (u_toggle_noise == 1u) {\n    float noise = mix(0.0, -NOISE_FACTOR, rand(gl_FragCoord.xy * mod(u_time,100.0)));\n    frag_color.rgb += vec3(noise) * v_grain;\n  }\n\n  gl_FragDepth = gl_FragCoord.z * float(1u - v_overlay);\n}",
{instanced:!0});d=d["assets/atlas.png"];e.use();f=e.upload_texture(d);e.set_uniforms({u_msdf_distance_unit:[8/d.width,8/d.height],u_texture_size:[d.width,d.height]})},draw:(d,g,c)=>{let h=performance.now(),[n,p]=a(d);d=performance.now()-h;return e.use(),e.bind_texture(f),e.set_uniforms({u_vp_matrix:c.vp,u_view_matrix:c.view,u_time:g.time,u_toggle_noise:g.noise_on?1:0,u_toggle_fog:g.fog_on?1:0,u_fog_near:g.fog_near||99999,u_fog_far:g.fog_far||999999,u_fog_color:g.fog_color||[1,0,0]}),e.buffer_attrs({junk:p.junk,
a_render_type:p.a_render_type,a_overlay:p.a_overlay,a_transform:p.a_transform,a_origin:p.a_origin,a_tint:p.a_tint,a_uvs:p.a_uvs,a_grain:p.a_grain},n),e.set_render_target(null,{clear:!1,blend:!0,depth:!0}),{...e.render(),attrs_ms:d}}}}),Lg=R((x,z)=>{Eb();z.exports={setup:(b,a)=>{},draw:(b,a,e)=>{let f={gpu_render_ms:0,cpu_buffer_ms:0};return null.use(),null.set_uniforms({u_viewDirectionProjectionInverse:e.ivp}),null.set_render_target(null,{clear:!1,blend:!1,depth:!0,depth_func:"LEQUAL"}),b.forEach(d=>
{null.bind_cubemap(null);d=null.render();f.gpu_render_ms+=d.gpu_render_ms;f.cpu_render_ms+=d.cpu_render_ms}),f}}}),Mg=R((x,z)=>{x={obj:Ig(),quad:Kg(),skybox:Lg(),gltf:ec()};z.exports={kgls:x}}),Ng=R((x,z)=>{var {load_image:b}=Ub(),{math:a}=na();x=WebGLRenderingContext;var e={[x.BYTE]:Int8Array,[x.SHORT]:Int16Array,[x.INT]:Int32Array,[x.FLOAT]:Float32Array,[x.UNSIGNED_BYTE]:Uint8Array,[x.UNSIGNED_SHORT]:Uint16Array,[x.UNSIGNED_INT]:Uint32Array},f={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT4:16},d=(c,h)=>[...Array(Math.ceil(c.length/
h))].map((n,p)=>c.slice(h*p,h+h*p)),g=c=>Uint8Array.from(atob(c),h=>h.codePointAt(0));z.exports={load_gltf:async c=>{var h=null;try{h=await fetch(c)}catch(l){throw console.error("load_gltf fetch failed:",l),l;}let n=await h.json(),p=n.buffers.map(l=>{l=l.uri.split(",")[1];return g(l)}),m=n.bufferViews.map(l=>{let {buffer:r,byteOffset:A,byteLength:y}=l;return p[r].subarray(A,A+y)}),v=n.accessors.map(l=>{let r=e[l.componentType],A=r.BYTES_PER_ELEMENT*f[l.type];var y=n.bufferViews[l.bufferView].byteStride||
A;l=new Uint8Array(m[l.bufferView]);y=d(l,y).map(C=>new r(C.slice(0,A).buffer));return r.from(Array.prototype.concat(...y.map(C=>Array.from(C))))}),w=await Promise.all(n.images.map(async l=>await b(l.uri))),t=n.materials.map(l=>({texture:l.pbrMetallicRoughness.baseColorTexture?w[l.pbrMetallicRoughness.baseColorTexture.index]:!1}));c=n.meshes.map(l=>({a_position:v[l.primitives[0].attributes.POSITION],a_normal:v[l.primitives[0].attributes.NORMAL],a_texcoord:v[l.primitives[0].attributes.TEXCOORD_0],
indices:v[l.primitives[0].indices],texture:t[l.primitives[0].material].texture}));let q=l=>{let r=n.nodes[l];return{name:n.nodes[l].name,kids:r.children?r.children.map(q):[],mesh:r.mesh,transform:{pos:r.translation||null,rot:r.rotation?a.v4.quaternion_to_euler_angles(r.rotation):null}}};h=q(n.scenes[n.scene].nodes[0]);return{meshes:c,tree:h}}}}),Og=R((x,z)=>{var b=e=>{let f=requestAnimationFrame(e);return()=>cancelAnimationFrame(f)},a=e=>{let f=setTimeout(e,0);return()=>clearTimeout(f)};z.exports=
{fixed_timestep_loop:(e,f,d)=>{let g=performance.now(),c=0,h=b,n=null,p=m=>{for(n=h(p);c>e;){try{f()}catch(v){throw n(),v;}c-=e}if(m=performance.now(),c+=m-g,"visible"===document.visibilityState)try{d(c/e)}catch(v){throw n(),v;}g=m};document.addEventListener("visibilitychange",()=>{n();h="visible"===document.visibilityState?b:a;n=h(p)});n=b(p)}}}),Pg=R((x,z)=>{var {math:b}=na(),a=(d,g,c,h)=>n=>{let p=document.createElement("div");p.style="background:pink;height:4vw;width:100%;color:#111";let m=document.createElement("div");
p.appendChild(m);let v=document.createElement("input");return v.setAttribute("type","range"),v.style="width:100%",p.appendChild(v),n.appendChild(p),m.innerText=`${d} = ${window.d.get(d)}`,v.setAttribute("min",g),v.setAttribute("max",c),v.setAttribute("step",h||Math.abs(c-g)/1E3),v.value=window.d.get(d),v.addEventListener("input",w=>{w=parseFloat(v.value);window.d.set(d,w);m.innerText=`${d} = ${w}`}),{draw:()=>{}}},e=(...d)=>g=>{let c=document.createElement("div");c.style="margin:0 0 1vw 0;padding:0;width:100%";
g.appendChild(c);let h=d.map(n=>n(c));return{draw:()=>h.forEach(n=>n.draw())}},f={mega_graph:d=>g=>{let c=window.devicePixelRatio,h=document.createElement("canvas");h.style="position:relative;left:-70vw;top:5vw;width:80vw;height:15vw;background:rgba(0,0,0,0.5);";g.appendChild(h);let {width:n,height:p}=h.getBoundingClientRect();h.width=Math.round(n*c);h.height=Math.round(p*c);let m=h.getContext("2d");g=Object.values(d);let v=Math.min(...g.map(r=>Math.min(...r))),w=Math.max(...g.map(r=>Math.max(...r))),
t=Math.max(...g.map(r=>r.length));m.clearRect(0,0,h.width,h.height);let q=[];m.beginPath();m.moveTo(0,.9*h.height);m.lineTo(h.width,.9*h.height);m.strokeStyle="grey";m.lineWidth=2;m.stroke();let l="lime yellow aqua fuchsia red mediumspringgreen orange white blue gold gray".split(" ");return Object.keys(d).forEach((r,A)=>{var y=0,C=0,B=d[r];for(let F=0;F<t;F++){C+=B[F];B[F]>y&&(y=B[F]);var J=b.unlerp(v,w,B[F]);let I=F*h.width/t;J=h.height*(.8*(1-J)+.1);0==F?(m.beginPath(),m.moveTo(I,J)):m.lineTo(I,
J)}m.strokeStyle=l[A];m.fillStyle=l[A];m.lineWidth=2;m.stroke();m.font="1vw monospace";C/=t;B=b.std_dev(B);y=["max "+y.toFixed(2),"avg "+C.toFixed(2),"std "+B.toFixed(2)+" ("+(B/C*100).toFixed(0)+"%)"].map(F=>F.padStart(15," ")).join(" ");q.push([(r+": ").padEnd(20," ")+y,.1*h.height,.05*h.height*(A+1)])}),q.forEach((r,A)=>{m.lineWidth=18;m.strokeStyle="rgba(0,0,0,0.5)";m.fillStyle=l[A];m.strokeText(...r);m.fillText(...r)}),{draw:()=>{}}},graph:d=>g=>{let c=window.devicePixelRatio,h=document.createElement("canvas");
h.style="width:100%;height:6vw;background:pink;";g.appendChild(h);let {width:n,height:p}=h.getBoundingClientRect();h.width=Math.round(n*c);h.height=Math.round(p*c);let m=h.getContext("2d"),v=[];for(g=0;240>g;g++)v.push(0);let w=-1/0,t=1/0;return{draw:()=>{var q=window.d.get(d)||0;let l=Array.isArray(q)?q[q.length-1]:q;if(Array.isArray(q)){var r=Math.min(...q),A=Math.max(...q);r<t&&(t=r);A>w&&(w=A);for(r=0;240>r;r++)v[r]=240<q.length?q[q.length-240+r]:0}else q<t&&(t=q),q>w&&(w=q),v.shift(),v.push(q);
m.clearRect(0,0,h.width,h.height);m.beginPath();q=0;for(r=0;240>r;r++){q+=v[r];var y=b.unlerp(t,w,v[r]);A=r*h.width/240;y=h.height*(.8*(1-y)+.1);0==r?m.moveTo(A,y):m.lineTo(A,y)}m.stroke();m.font="1vw monospace";m.fillText("max "+w.toFixed(2),.1*h.height,.1*h.height);m.fillText("avg "+(q/240).toFixed(2),.1*h.height,.3*h.height);m.fillText("val "+l.toFixed(2),.1*h.height,.5*h.height);m.fillText(d,.1*h.height,.9*h.height)}}},slider:a,group:e,v3:(d,g,c)=>e(a(d+".0",g,c),a(d+".1",g,c),a(d+".2",g,c)),
print:d=>g=>{let c=document.createElement("div");c.style="width:100%;background:pink;color:black";g.appendChild(c);c.innerText=d;let h=document.createElement("pre");return c.appendChild(h),{draw:()=>h.innerText=JSON.stringify(window.d.get(d),null,2)}}};z.exports={deck:{init:d=>{let g="",c=document.createElement("div");c.style="position:absolute;top:0;right:0;height:100%;width:20vw;background:none;display:none;padding:1vw";document.body.appendChild(c);let h=!1,n=[];return{get:p=>(g+p).split(".").filter(m=>
0<m.length).reduce((m,v)=>m[v],d()),set:(p,m)=>{p=p.split(".");window.d.get(p.slice(0,-1).join("."))[p[p.length-1]]=m},ui:f,scope:p=>g=""==p?p:p+".",deck:(...p)=>{c.style.display="block";h=!0;c.innerHTML="";n=[];p.forEach(m=>n.push(m(c)))},hide:()=>{c.style.display="none";c.innerHTML="";h=!1;n=[]},draw:()=>{h&&n.forEach(p=>p.draw())}}}}}}),Qg=R((x,z)=>{var {fabs:b}=sa()(),{math:a}=na(),{layout:e}=Ba();z.exports={editor_init:()=>({ticks:0}),editor_tick:(f,d,g)=>(f.ticks+=1,f),editor_draw:(f,{dt:d,
gl:g})=>({settings:{time:f.ticks+d,fog_on:!1,noise_on:!0,fog_near:200,fog_far:1E3,fog_color:[0,0,0]},tree:b.group({pos:[0,0,0]},[b.camera({pos:[0,0,100],look_at:[0,0,0],aspect:g.canvas.width/g.canvas.height,fov:65}),window.ed_figure({fabs:b,math:a,layout:e})(f,{dt:d,gl:g})])})}}),Rg=R((x,z)=>{x=Bb();var {save:b}=Nb(),a={},e={save:()=>{window.showSaveFilePicker({id:"dm-save-file",suggestedName:"dataminer.save"}).then(h=>{h.createWritable().then(n=>n.write(window.localStorage.getItem("dmsave")).then(()=>
n.close()))})},load:()=>{window.showOpenFilePicker({id:"dm-save-file"}).then(h=>{h[0].getFile().then(n=>{n.text().then(p=>{try{let m=window.atob(p);JSON.parse(m);window.localStorage.setItem("dmsave",p);location.reload()}catch(m){console.log("failed loading save:",p),alert("Unable to load save data: "+m)}})})})}},f={save:()=>{let h=document.createElement("dialog");h.style.background="black";h.style.color="white";h.style.padding="2em 4em";h.style.fontFamily="sans-serif";h.setAttribute("closedby","none");
window.addEventListener("mouseup",()=>{h.setAttribute("closedby","any")});let n=document.createElement("p");n.innerText="COPY SAVE DATA:";n.style.fontSize="2em";let p=document.createElement("textarea");p.value=window.localStorage.getItem("dmsave");p.style.background="black";p.style.color="grey";p.style.width="50vh";p.style.height="50vh";p.style.fontSize="0.8em";p.style.borderWidth="0";p.setAttribute("readonly","true");h.appendChild(n);h.appendChild(p);document.body.appendChild(h);h.showModal();h.addEventListener("close",
()=>{document.body.removeChild(h)});h.addEventListener("mousedown",m=>{m.stopPropagation()})},load:()=>{let h=document.createElement("dialog");h.style.background="black";h.style.color="white";h.style.padding="2em 4em";h.style.fontFamily="sans-serif";h.setAttribute("closedby","none");window.addEventListener("mouseup",()=>{h.setAttribute("closedby","any")});let n=document.createElement("p");n.innerText="PASTE SAVE DATA:";n.style.fontSize="2em";let p=document.createElement("textarea");p.style.background=
"black";p.style.color="grey";p.style.width="50vh";p.style.height="50vh";p.style.fontSize="0.8em";p.style.borderWidth="0";let m=document.createElement("button");m.innerText="LOAD";m.style.display="block";m.style.width="100%";m.style.fontSize="2em";m.style.marginTop="1em";m.style.borderWidth="0.1em";m.style.borderColor="rgba(255,255,0,0.8)";m.style.color="rgba(255,255,0,0.8)";m.style.background="black";m.style.padding="1em";h.appendChild(n);h.appendChild(p);h.appendChild(m);document.body.appendChild(h);
h.showModal();m.addEventListener("mousedown",v=>{v.stopPropagation();v=p.value;try{let w=window.atob(v);JSON.parse(w);window.localStorage.setItem("dmsave",v);location.reload()}catch(w){console.log("failed loading save:",v),alert("Unable to load save data: "+w)}})}},d=window.self!==window.top,g=window.showSaveFilePicker&&!d?e:f,c={export_save:()=>{try{g.save()}catch(h){console.log("IO failed, falling back to copy-paste",h),f.save()}},import_save:()=>{try{g.load()}catch(h){console.log("file picker IO failed, falling back to copy-paste",
h),f.load()}},save:({state:h})=>{b(h)},save_map_models_as:h=>{window.showSaveFilePicker({id:"dm-map_models",suggestedName:"map_models.json"}).then(n=>{a["dm-map-models"]=n;n.createWritable().then(p=>p.write(JSON.stringify(h.data)).then(()=>p.close()))})},save_map_models:h=>{if(!a["dm-map-models"])return c.save_map_models_as(h);a["dm-map-models"].createWritable().then(n=>n.write(JSON.stringify(h.data)).then(()=>n.close()))},...x.host_cmds};z.exports={run_host_cmd:h=>{c[h.type](h)}}}),Sg=R((x,z)=>{z.exports=
"./atlas-5LWOSZAT.png"}),{init:Tg,tick:Ug,draw:Vg}=Gg(),{kgls:Ma}=Mg(),{math:cb}=na(),{metrics:Wg}=wb(),{load_image:Xg}=Ub(),{load_gltf:Oa}=Ng(),{fixed_timestep_loop:Yg}=Og(),{flatten_tree:tc}=bb(),{layout_text:Zg}=Jb();Pg();var {editor_init:$g,editor_tick:ah,editor_draw:bh}=Qg(),ch=Bb(),{run_host_cmd:dh}=Rg(),uc={"assets/atlas.png":[Xg,Sg()],bed:[Oa,Ma.gltf.gltfs.bed],note:[Oa,Ma.gltf.gltfs.note],db:[Oa,Ma.gltf.gltfs.db],shelf:[Oa,Ma.gltf.gltfs.shelf],door:[Oa,Ma.gltf.gltfs.door],fridge:[Oa,Ma.gltf.gltfs.fridge],
sink:[Oa,Ma.gltf.gltfs.sink],counter:[Oa,Ma.gltf.gltfs.counter],monstro:[Oa,Ma.gltf.gltfs.monstro],workbench:[Oa,Ma.gltf.gltfs.workbench],clippers:[Oa,Ma.gltf.gltfs.clippers],vent_open:[Oa,Ma.gltf.gltfs.vent_open],vent_closed:[Oa,Ma.gltf.gltfs.vent_closed],vent_stuck:[Oa,Ma.gltf.gltfs.vent_stuck],vent_unstuck:[Oa,Ma.gltf.gltfs.vent_unstuck],audio:[ch.load,null]},eh=Promise.all(Object.values(uc).map(x=>x[0](x[1]))).then(x=>Object.keys(uc).map((z,b)=>[z,x[b]]).reduce((z,b)=>({...z,[b[0]]:b[1]}),{})),
vc=!0,wc=!1,fh=crypto.randomUUID?crypto.randomUUID():"uuid-unavailable",gh=x=>{wc&&vc&&x.forEach(z=>{fetch("https://telemetry.k1l.pw",{method:"POST",body:JSON.stringify({version:"df2ec2b",session:fh,data:z})}).catch(b=>{vc=!1;console.log("stopping telemetry, request failed with error",b)})})},Wa=window.devicePixelRatio,gb=document.createElement("canvas");document.body.appendChild(gb);var Ka=gb.getContext("webgl2",{antialias:!1,preserveDrawingBuffer:!1,alpha:!1,powerPreference:"high-performance"}),
vb=Ka.getExtension("EXT_disjoint_timer_query_webgl2"),Vb=!1,hb={},hh=x=>{vb&&(null==hb[x]&&(hb[x]={query:Ka.createQuery(),pending:!1,latest_result:0}),x=hb[x],x.pending||Ka.beginQuery(vb.TIME_ELAPSED_EXT,x.query))},ih=x=>{if(vb){var z=hb[x];if(z.pending){x=hb[x];z=Ka.getQueryParameter(x.query,Ka.QUERY_RESULT_AVAILABLE);let b=Ka.getParameter(vb.GPU_DISJOINT_EXT);z&&(x.pending=!1,!b)&&(z=Ka.getQueryParameter(x.query,Ka.QUERY_RESULT),x.latest_result=z/1E6)}else Ka.endQuery(vb.TIME_ELAPSED_EXT,z.query),
z.pending=!0}},jh=()=>Object.values(hb).map(x=>x.latest_result).reduce((x,z)=>x+z,0),kh=()=>{let {width:x,height:z}=gb.getBoundingClientRect(),b=Math.round(x*Wa),a=Math.round(z*Wa);gb.width==b&&gb.height==a||(gb.width=b,gb.height=a,Ka.viewport(0,0,b,a))},Pa=[];window.addEventListener("touchstart",x=>{x.preventDefault();x=x.changedTouches[0];Pa.push({type:"mouse_down",x:x.clientX*Wa,y:x.clientY*Wa,touch:!0})});window.addEventListener("mouseup",x=>{Pa.push({type:"mouse_up",x:x.clientX*Wa,y:x.clientY*
Wa})});window.addEventListener("mousedown",x=>{Pa.push({type:"mouse_down",x:x.clientX*Wa,y:x.clientY*Wa});window.state.cursor_overlaps.discord_btn&&window.open("https://discord.gg/4CsaH5T8xm")});window.addEventListener("mousemove",x=>{Pa.push({type:"mouse_move",x:x.clientX*Wa,y:x.clientY*Wa});window.host&&(window.host.cursor_x=x.clientX,window.host.cursor_y=x.clientY)});window.addEventListener("keydown",x=>{if(!x.repeat){var z=1==x.key.length?x.key.toLowerCase():x.key;Pa.push({type:"key_down",key:z});
"Alt"==x.key&&(window.host.scrubbing_render=!0);"Control"==x.key&&(window.host.scrubbing_time=!0)}});window.addEventListener("keyup",x=>{Pa.push({type:"key_up",key:x.key});"Alt"==x.key&&(window.host.scrubbing_render=!1);"Control"==x.key&&(window.host.scrubbing_time=!1)});window.addEventListener("wheel",x=>{Pa.push({type:"scroll",delta:x.deltaY})});eh.then(x=>{console.log("loaded assets",performance.now());Object.values(Ma).forEach(g=>g.setup(x,Ka));let z=void 0!==window.ed_figure,b={halt:!1,history_limit:1E3,
history:[],cursor:0};window.host_timectrl=b;let a={scrubbing_render:!1,scrubbing_time:!1,cursor_x:0,cursor_y:0,cam_pos:[0,0,0],cam_look_at:[0,0,0],cam_controls:{w:!1,a:!1,s:!1,d:!1},cam_last_pos:[0,0,0],cam_last_look_at:[0,0,0],cam_vel:[0,0,0]};window.host=a;let e=0,f=z?$g():Tg(),d=[];f.cursor_ray=null;f.cursor_overlaps={};f.prev_cursor_overlaps={};f.rich_overlaps={};Yg(1E3/60,()=>{let g=performance.now();if(Pa.forEach(m=>{"mouse_move"===m.type||"mouse_down"===m.type&&!b.halt?(f.cursor_x=m.x,f.cursor_y=
m.y):"key_down"===m.type&&"="===m.key&&(Vb=!Vb)}),void 0!==f.cursor_x&&!b.halt){var c=cb.v2.pixels_to_eye_ray([f.cursor_x,f.cursor_y],f.cam_info.size,f.cam_info.iview,f.cam_info.iproj,f.cam_info.pos);c.origin=[0,0,0];f.cursor_ray=c}Pa.some(m=>"mouse_down"==m.type&&m.touch)&&d.forEach(m=>{let v=cb.cmd_to_quad(m);f.cursor_overlaps[m.overlap_id]=cb.ray3d.intersects_quad(f.cursor_ray,v)});c=Pa;Pa=[];window.inputs=Pa;let h=(m,v)=>{Pa.push({...v,type:m})},n=()=>b.history[b.cursor].state,p=z?ah:b.halt?n:
Ug;try{f=p(f,c,{pub:h})}catch(m){console.error("tick crashed",{inputs:c,state:f}),console.error(m),b.halt=!0,f=n()}window.state=f;wc=f.telemetry_opt_in;f.telemetry_queue&&0<f.telemetry_queue.length&&(gh(f.telemetry_queue),f.telemetry_queue=[]);f.cmds.forEach(dh);f.cmds=[];e=performance.now()-g},g=>{let c=performance.now();kh();var h=z?bh:Vg;b.halt&&(g=.1);let n=null,p=null;try{let r=h(f,{dt:g,gl:Ka});n=r.settings;p=r.tree}catch(r){console.error("draw crashed",{state:f});console.error(r);b.halt=!0;
--b.cursor;f=b.history[b.cursor].state;return}g=((r,A)=>{for(r=[r];0<r.length;){let y=r.shift();if(A(y))return y;r.push(...(y.kids||[]))}})(p,r=>"camera"===r.type);g.transform.pos[0]+=a.cam_pos[0];g.transform.pos[1]+=a.cam_pos[1];g.transform.pos[2]+=a.cam_pos[2];g.look_at[0]+=a.cam_look_at[0];g.look_at[1]+=a.cam_look_at[1];g.look_at[2]+=a.cam_look_at[2];a.cam_last_pos=g.transform.pos;a.cam_last_look_at=g.look_at;p.transform.pos=cb.v3.sub(p.transform.pos,g.transform.pos);g.look_at=cb.v3.sub(g.look_at,
g.transform.pos);h=g.transform.pos;g.transform.pos=[0,0,0];let m=cb.m4.make_camera_vp_matrices(g);f.cam_info={iview:m.iview,iproj:m.iprojection,size:[Ka.canvas.width,Ka.canvas.height],pos:h};let v=Wg.time("timed_main_flatten_tree_ms",()=>tc(p,null,[1,1,1,1],[]));Vb&&(()=>{let r=Zg({font:"Inconsolata",text:Object.keys(f.render_metrics||{}).sort().map(A=>`${A.padEnd(15,".")}${f.render_metrics[A].toFixed(2).padStart(7,".")}`).join("\n"),size:.02,line_height:1.4,tint:[1,1,1,1]});r.transform.pos=[-1+Ka.canvas.height/
2*.1/Ka.canvas.width,.9,0];r.transform.scale[1]=Ka.canvas.width/Ka.canvas.height;v.push(...tc(r,m.ivp,[1,1,1,1],[]))})();let w={camera:"camera",obj:"obj",gltf:"gltf",skybox:"skybox",tint:"quad",tex:"quad",ikaros:"quad",msdf:"quad",sdf:"quad"};b.halt||([...(new Set([...Object.keys(f.cursor_overlaps),...Object.keys(f.prev_cursor_overlaps)]))].forEach(r=>{let A=f.cursor_overlaps[r],y=f.prev_cursor_overlaps[r];A&&!y?(Pa.push({type:"cursor_over",id:r}),f.rich_overlaps[r]={...(f.rich_overlaps[r]||{}),overlap:!0,
start_at:f.ticks}):!A&&y&&(Pa.push({type:"cursor_out",id:r}),f.rich_overlaps[r]={...(f.rich_overlaps[r]||{}),overlap:!1,stop_at:f.ticks})}),f.prev_cursor_overlaps=f.cursor_overlaps,f.cursor_overlaps={},f.cursor_intersections={});d=[];let t=1/0,q=v.reduce((r,A,y)=>{let C=w[A.type];if(y>t)return r;A.overlap_id&&f.cursor_ray&&!b.halt&&(d.push(A),!f.cursor_overlaps[A.overlap_id])&&(y=cb.cmd_to_quad(A),y=cb.ray3d.intersects_quad(f.cursor_ray,y),f.cursor_overlaps[A.overlap_id]=!!y,f.cursor_intersections[A.overlap_id]=
y);return void 0===r[C]&&(r[C]=[]),r[C].push(A),r},{}),l={};Object.keys(q).sort((r,A)=>"gltf"==r?-1:1).forEach(r=>{let A=Ma[r];if(void 0!==A){l[r+"s"]=q[r].length;hh(r);var y=A.draw(q[r],n,m);ih(r);l[`gpu_${r}_ms`]=vb?hb[r].latest_result:0;Object.keys(y).forEach(C=>{void 0===l[C]&&(l[C]=0);l[C]+=y[C]})}});l.gpu_render_ms=jh();l.cpu_render_ms=performance.now()-c;l.tick_ms=e;f.render_metrics=l;f.render_metrics.render_scale=Wa})})})();
