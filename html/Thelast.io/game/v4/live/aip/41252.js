"use strict";(self.__VM_WPK_C_LR__m=self.__VM_WPK_C_LR__m||[]).push([[41252],{5821:(e,t,r)=>{r.d(t,{K_:()=>a,UX:()=>o,gl:()=>l,tF:()=>d});var n=r(63013),i=r(32621);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.w,n=t.h,o=(0,i.G)(e),a=o.width,d=o.height,l=o.left,u=o.top,s=o.right,c=o.bottom;return(0===a||0===d)&&r&&n&&(a=r,d=n,s=l+r,c=u+n),{width:a,height:d,left:l,top:u,right:s,bottom:c,x:o.x,y:o.y}}var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o(e,{w:t.w,h:t.h}),i=(0,n.getWinDimensions)(),a=i.innerHeight,d=function(e){for(var t={left:e[0].left,right:e[0].right,top:e[0].top,bottom:e[0].bottom},r=1;r<e.length;++r){if(t.left=Math.max(t.left,e[r].left),t.right=Math.min(t.right,e[r].right),t.left>=t.right)return null;if(t.top=Math.max(t.top,e[r].top),t.bottom=Math.min(t.bottom,e[r].bottom),t.top>=t.bottom)return null}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}([{left:0,top:0,right:i.innerWidth,bottom:a},r]);return null!==d?d.width*d.height/(r.width*r.height)*100:0};function d(e){return!(0,n.inIframe)()&&null!==e}function l(e,t,r){return"visible"===t.document.visibilityState?a(e,r):0}},32621:(e,t,r)=>{r.d(t,{G:()=>o});var n=r(77818),i=new Map;function o(e){var t;return i.has(e)?t=i.get(e):(t=e.getBoundingClientRect(),i.set(e,t)),t}n.gH.before(function(e,t){i.clear(),e(t)})},43923:(e,t,r)=>{r.r(t),r.d(t,{_calculateBidCpmAdjustment:()=>W,addViewabilityToImp:()=>ne,cpmAdjustment:()=>x,spec:()=>ie});var n=r(80296),i=r(82284),o=r(64467),a=r(45458),d=r(90740),l=r(63172),u=r(63013),s=r(70433),c=r(67436),p=r(55074),v=r(75181),f=r(98936),m=r(5821),g=r(69620),h=r(20348),b=r(73450);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,o.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var x,I="PubMatic: ",_=void 0,O="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),j=Object.values(b.h0),A={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:""},C={1:"PMP",5:"PREF",6:"PMPG"},R={banner:360,video:1800,native:1800},P={},S=[],E=[],T=0,U=(0,h.A)({context:{netRevenue:!0,ttl:360},imp:function(e,t,r){var n=t.params,i=n.kadfloor,o=n.currency,a=n.adSlot,d=void 0===a?"":a,l=n.deals,u=n.dctr,s=n.pmzoneid,c=n.hashedKey,p=t.adUnitCode,v=t.mediaTypes,f=t.rtd,m=e(t,r);return m.hasOwnProperty("banner")||m.hasOwnProperty("video")||m.hasOwnProperty("native")?(l&&J(m,l),u&&G(m,u),null!=f&&f.jwplayer&&F(m,f.jwplayer),m.bidfloor=te("kadfloor",i),m.bidfloorcur=o?te("currency",o):"USD",q(m,t),m.hasOwnProperty("banner")&&N(m.banner,d),m.hasOwnProperty("video")&&z(null==v?void 0:v.video,p,m),m.hasOwnProperty("native")&&D(m,null==v?void 0:v.native),(m.hasOwnProperty("banner")||m.hasOwnProperty("video"))&&ne(m,p,null==t?void 0:t.sizes,t),s&&(m.ext.pmZoneId=s),B(m,d.trim(),c),k(m),["banner","video","native"].forEach(function(e){var t;null!==(t=m[e])&&void 0!==t&&t.battr&&!Array.isArray(m[e].battr)&&delete m[e].battr}),m):null},request:function(e,t,r,n){var i,o=e(t,r,n);if(S.length||o.bcat){var d=Q([].concat((0,a.A)(S||[]),(0,a.A)(o.bcat||[])));d.length&&(o.bcat=d)}if(E.length||o.acat){var u=Z([].concat((0,a.A)(E||[]),(0,a.A)(o.acat||[])));u.length&&(o.acat=u)}return V(o),X(o,null==n?void 0:n.bidRequests),K(o),(null!=r&&r.bidderCode?g.u.get(r.bidderCode,"allowAlternateBidderCodes"):void 0)&&L(o,r),null!=r&&null!==(i=r.ortb2)&&void 0!==i&&null!==(i=i.ext)&&void 0!==i&&null!==(i=i.prebid)&&void 0!==i&&i.previousauctioninfo&&(0,l.J)(o,"ext.previousAuctionInfo",r.ortb2.ext.prebid.previousauctioninfo),o},bidResponse:function(e,t,r){var n=e(t,r);n.meta&&(n.meta.mediaType=n.mediaType),$(n,t,r);var i=n.mediaType,o=n.playerWidth,a=n.playerHeight,d=null==r?void 0:r.bidRequest,l=d.params,s=d.adUnitCode,c=d.mediaTypes;if(i===p.G_){n.width||(n.width=o),n.height||(n.height=a);var v=c[i],f=v.context,m=v.maxduration;"outstream"===f&&l.outstreamAU&&s&&(n.rendererCode=l.outstreamAU,n.renderer=ee.newRenderer(n.rendererCode,s)),H(n,f,m)}if(i===p.s6&&t.adm){try{var g=JSON.parse(t.adm.replace(/\\/g,""));n.native={ortb:w({},g.native)}}catch(e){return void(0,u.logWarn)("".concat(I,"Error: Cannot parse native response for ad response: ").concat(t.adm))}n.width=t.w||0,n.height=t.h||0}return n},response:function(e,t,r,n){return e(t,r,n)},overrides:{imp:{bidfloor:!1,extBidfloor:!1},bidResponse:{native:!1}}});function W(e){var t;if(e){var r=e.originalCurrency,n=e.currency,i=e.cpm,o=e.originalCpm,a=e.meta,d=r!==n&&(0,u.isFn)(e.getCpmInNewCurrency)?e.getCpmInNewCurrency(r):i,l=e.mediaType,s=null==a?void 0:a.mediaType;x=x||{currency:n,originalCurrency:r,adjustment:[]};var c={cpmAdjustment:Number(((o-d)/o).toFixed(2)),mediaType:l,metaMediaType:s,cpm:d,originalCpm:o},p=null===(t=x)||void 0===t||null===(t=t.adjustment)||void 0===t?void 0:t.findIndex(function(e){return(null==e?void 0:e.mediaType)===l&&(null==e?void 0:e.metaMediaType)===s});-1!==p?x.adjustment.splice(p,1,c):x.adjustment.push(c)}}var M=function(e){var t={};if(e.aspect_ratios&&(0,u.isArray)(e.aspect_ratios)&&e.aspect_ratios.length){var r=e.aspect_ratios[0],n=r.min_width,i=r.min_height;(0,u.isInteger)(n)&&(0,u.isInteger)(i)&&(t.wmin=n,t.hmin=i),t.ext={aspectratios:e.aspect_ratios.filter(function(e){var t=e.ratio_width,r=e.ratio_height;return t&&r}).map(function(e){var t=e.ratio_width,r=e.ratio_height;return"".concat(t,":").concat(r)})}}return t.w=e.w||e.width,t.h=e.h||e.height,e.sizes&&2===e.sizes.length&&(0,u.isInteger)(e.sizes[0])&&(0,u.isInteger)(e.sizes[1])&&(t.w=e.sizes[0],t.h=e.sizes[1],delete t.wmin,delete t.hmin),e.ext&&(t.ext=e.ext),e.mimes&&(t.mimes=e.mimes),t},k=function(e){var t,r;e.displaymanager||(e.displaymanager="Prebid.js"),e.displaymanagerver||(e.displaymanagerver="9.53.2");var n=null===(t=e.ext)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.adserver)||void 0===t?void 0:t.adslot;n&&(e.ext.dfp_ad_unit_code=n),null!==(r=e.ext)&&void 0!==r&&r.data&&0===Object.keys(e.ext.data).length&&delete e.ext.data},q=function(e,t){var r=-1,n=Object.keys(t.mediaTypes),i=n.length>1;"function"!=typeof t.getFloor||v.$W.getConfig("pubmatic.disableFloors")||[p.D4,p.G_,p.s6].forEach(function(n){var o;e.hasOwnProperty(n)&&((("banner"===n?null===(o=e[n])||void 0===o||null===(o=o.format)||void 0===o?void 0:o.map(function(e){return[e.w,e.h]}):["*"])||["*"]).forEach(function(o){var a=t.getFloor({currency:e.bidfloorcur,mediaType:n,size:o});if((0,u.logInfo)(I,"floor from floor module returned for mediatype:",n," and size:",o," is: currency",a.currency,"floor",a.floor),(0,u.isPlainObject)(a)&&(null==a?void 0:a.currency)===e.bidfloorcur&&!isNaN(parseInt(a.floor))){var d=parseFloat(a.floor);i&&n!==p.D4&&((0,u.logInfo)(I,"floor from floor module returned for mediatype:",n,"is : ",d,"with currency :",e.bidfloorcur),e[n].ext={bidfloor:d,bidfloorcur:e.bidfloorcur}),(0,u.logInfo)(I,"floor from floor module:",d,"previous floor value",r,"Min:",Math.min(d,r)),r=-1===r?d:Math.min(d,r),(0,u.logInfo)(I,"new floor value:",r)}}),i&&n===p.D4&&(e[n].ext={bidfloor:r,bidfloorcur:e.bidfloorcur}))}),e.bidfloor&&((0,u.logInfo)(I,"Comparing floors:","from floor module:",r,"impObj.bidfloor:",e.bidfloor,"Max:",Math.max(r,e.bidfloor)),r=Math.max(r,e.bidfloor)),e.bidfloor=r>0?r:_,(0,u.logInfo)(I,"Updated imp.bidfloor:",e.bidfloor),i&&function(e,t){t.forEach(function(t){var r;null!==(r=e[t])&&void 0!==r&&r.ext&&e[t].ext.bidfloor===e.bidfloor&&e[t].ext.bidfloorcur===e.bidfloorcur&&delete e[t].ext})}(e,n)},N=function(e,t){var r,n,i,o,a=null===(r=t.split(":")[0])||void 0===r?void 0:r.split("@");a=2==(null===(n=a)||void 0===n?void 0:n.length)?a[1].split("x"):3==a.length?a[2].split("x"):[];var d=e.format[0];2!==a.length||0==parseInt(a[0])&&0==parseInt(a[1])?(e.w=d.w,e.h=d.h):(e.w=parseInt(a[0]),e.h=parseInt(a[1])),e.format=e.format.filter(function(t){return!(t.w===e.w&&t.h===e.h)}),null!==(i=e.format)&&void 0!==i&&i.length||delete e.format,null!==(o=e.pos)&&void 0!==o||(e.pos=0)},B=function(e,t,r){var n=t.split(":")[0].split("@");e.tagid=r||n[0]},D=function(e,t){if(null!=t&&t.ortb||(e.native.request=JSON.stringify(function(e){var t={ver:"1.2",assets:[]};for(var r in e)if(!b._B.includes(r))if(b.x5.hasOwnProperty(r)||j.includes(r)){var n=e[r],i=n.required&&(0,u.isBoolean)(n.required)?1:0,o={id:t.assets.length,required:i};r in b.h0?o.data=w(w({type:b.jO[b.h0[r]]},n.len&&{len:n.len}),n.ext&&{ext:n.ext}):"icon"===r||"image"===r?o.img=w({type:"icon"===r?b.oA.ICON:b.oA.MAIN},M(n)):"title"===r?o.title=w({len:n.len||140},n.ext&&{ext:n.ext}):"ext"===r&&(o.ext=n,delete o.required),t.assets.push(o)}else(0,u.logWarn)("".concat(I,": Unrecognized asset: ").concat(r,". Ignored."));return t}(t))),null!=t&&t.ortb){var r=JSON.parse(e.native.request),n=r.assets;null!=n&&n.some(function(e){return e.title||e.img||e.data||e.video})?e.native.request=JSON.stringify(w({ver:"1.2"},r)):((0,u.logWarn)("".concat(I,": Native assets object is empty or contains invalid objects")),delete e.native)}},z=function(e,t,r){var n=r.video;(0,s.A)(e,"plcmt")||(0,u.logWarn)("Video.plcmt param missing for "+t),e&&(n.w||n.h)||(delete r.video,(0,u.logWarn)("".concat(I,"Error: Missing ").concat(e?"video size params (playersize or w&h)":"video config params"," for adunit: ").concat(t," with mediaType set as video. Ignoring video impression in the adunit.")))},F=function(e,t){var r,n=null==t?void 0:t.targeting;if(n&&null!==(r=n.segments)&&void 0!==r&&r.length){var i="".concat("jw-","id=").concat(n.content.id),o=n.segments.map(function(e){return"".concat("jw-").concat(e,"=1")}).join("|"),a="".concat(i,"|").concat(o);e.ext=e.ext||{},e.ext.key_val=e.ext.key_val?"".concat(e.ext.key_val,"|").concat(a):a}},G=function(e,t){if((0,u.isStr)(t)&&t.length>0){var r=t.split("|").filter(function(e){return e.trim().length>0});t=r.map(function(e){return e.trim()}).join("|"),e.ext.key_val=t}else(0,u.logWarn)(I+"Ignoring param : dctr with value : "+t+", expects string-value, found empty or non-string value")},J=function(e,t){(0,u.isArray)(t)?t.forEach(function(t){"string"==typeof t&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):(0,u.logWarn)("".concat(I,"Error: deal-id present in array bid.params.deals should be a string with more than 3 characters length, deal-id ignored: ").concat(t))}):(0,u.logWarn)("".concat(I,"Error: bid.params.deals should be an array of strings."))},L=function(e,t){var r=["all"],n=g.u.get(t.bidderCode,"allowedAlternateBidderCodes"),i=(0,u.isArray)(n)?n.map(function(e){return e.trim().toLowerCase()}).filter(u.uniques):r;e.ext.marketplace={allowedbidders:i.includes("*")||i.includes("all")?r:(0,a.A)(new Set(["pubmatic"].concat((0,a.A)(i.filter(function(e){return e&&e.trim()})))))}},V=function(e){var t;(0,l.J)(e,"at",1),(0,l.J)(e,"cur",["USD"]),e.test=window.location.href.includes("pubmaticTest=true")?1:void 0,e.source&&!Object.keys(e.source).length&&delete e.source,null!==(t=e.app)&&void 0!==t&&t.publisher&&(e.app.publisher.id=T)},X=function(e,t){var r,n,i,o=P,a=o.gender,d=o.yob,l=o.pubId,u=o.refURL,c=o.kadpageurl,p=e.user;e.device&&Object.assign(e.device,{js:1,connectiontype:Y()}),e.user=w(w({},e.user),{},{gender:(null==p?void 0:p.gender)||(null==a?void 0:a.trim())||_,yob:(null==p?void 0:p.yob)||te("yob",d)});var v=(0,s.A)(t,"0.userIdAsEids");!t.length||null==v||!v.length||null!==(r=e.user.ext)&&void 0!==r&&r.eids||(e.user.ext=e.user.ext||{},e.user.ext.eids=v),null!==(n=e.site)&&void 0!==n&&n.publisher&&(e.site.ref=e.site.ref||u,e.site.publisher.id=null==l?void 0:l.trim()),null!==(i=e.site)&&void 0!==i&&i.page&&c&&(e.site.page=c.trim()),e.device.geo&&!e.user.geo?e.user.geo=e.device.geo:e.user.geo&&!e.device.geo&&(e.device.geo=e.user.geo)},$=function(e,t,r){var n,i,o,a,d,l,u=r.ortbRequest,s=r.seatbid;if(e.referrer=(null===(n=u.site)||void 0===n?void 0:n.ref)||"",e.sspID=e.partnerImpId=t.id||"",e.ad=t.adm,e.pm_dspid=null!==(i=t.ext)&&void 0!==i&&i.dspid?t.ext.dspid:null,e.pm_seat=s.seat,e.creativeId||(e.creativeId=t.id),360==e.ttl&&(e.ttl=R[e.mediaType]),t.dealid&&(e.dealChannel=null!==(l=t.ext)&&void 0!==l&&l.deal_channel?C[t.ext.deal_channel]||null:"PMP"),null!==(o=s.ext)&&void 0!==o&&o.buyid&&(e.adserverTargeting={hb_buyid_pubmatic:s.ext.buyid}),null!==(a=t.ext)&&void 0!==a&&a.marketplace&&(e.bidderCode=t.ext.marketplace),t.ext){var c=t.ext,v=c.dspid,f=c.dchain,m=c.dsa,g=c.ibv;v&&(e.meta.networkId=e.meta.demandSource=v),f&&(e.meta.dchain=f),m&&Object.keys(m).length&&(e.meta.dsa=m),g&&(e.ext=e.ext||{},e.ext.ibv=g,e.meta.mediaType=p.G_)}var h=s.seat||(null===(d=t.ext)||void 0===d?void 0:d.advid);h&&(e.meta.advertiserId=e.meta.agencyId=e.meta.buyerId=h),re(t.adomain)&&(e.meta.clickUrl=e.meta.brandId=t.adomain[0]),t.cat&&re(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0])},K=function(e){var t=P,r=t.profId,n=t.verId,i=t.wiid,o=t.transactionId;e.ext={epoch:(new Date).getTime(),wrapper:{profile:r?parseInt(r):void 0,version:n?parseInt(n):void 0,wiid:i,wv:"prebid_prebid_9.53.2",transactionId:o,wp:"pbjs"},cpmAdjustment:x}},H=function(e,t,r){var n,i;if(null!=e&&null!==(n=e.ext)&&void 0!==n&&n.prebiddealpriority&&t==p.LM){var o=(null==e||null===(i=e.ext)||void 0===i||null===(i=i.video)||void 0===i?void 0:i.duration)||r;e.video={context:p.LM,durationSeconds:o,dealTier:e.ext.prebiddealpriority}}},Z=function(e){return(0,a.A)(new Set(e.filter(function(e){if("string"==typeof e)return!0;(0,u.logWarn)(I+"acat: Each category should be a string, ignoring category: "+e)}).map(function(e){return e.trim()})))},Q=function(e){var t=(e=e.map(function(e){return"string"==typeof e?e.trim():e})).filter(function(e){return"string"!=typeof e||e.length<3});return(0,u.logWarn)(I+"bcat: Each category must be a string with a length greater than 3, ignoring "+t),(0,a.A)(new Set(e.filter(function(e){return"string"==typeof e&&e.length>=3})))},Y=function(){var e=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);return{ethernet:1,wifi:2,"slow-2g":4,"2g":4,"3g":5,"4g":6}[null==e?void 0:e.effectiveType]||0},ee={bootstrapPlayer:function(e){var t={code:e.adUnitCode,vastXml:e.vastXml||null,vastUrl:e.vastUrl||null};if(t.vastXml||t.vastUrl){var r=ee.getRendererId("pubmatic",e.rendererCode),n=document.getElementById(e.adUnitCode),i=window.bluebillywig.renderers.find(function(e){return e._id===r});i?i.bootstrap(t,n):(0,u.logWarn)("".concat(I,": Couldn't find a renderer with ").concat(r))}else(0,u.logWarn)("".concat(I,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var r=O.replace("$RENDERER",e),n=f.A4.install({url:r,loaded:!1,adUnitCode:t});try{n.setRender(ee.outstreamRender)}catch(e){(0,u.logWarn)("".concat(I,": Error tying to setRender on renderer"),e)}return n},outstreamRender:function(e){e.renderer.push(function(){return ee.bootstrapPlayer(e)})},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}};function te(e,t){var r;if(!(0,u.isStr)(t))return t&&(0,u.logWarn)(I+"Ignoring param key: "+e+", expects string-value, found "+(0,i.A)(t)),_;var n={pmzoneid:function(){return t.split(",").slice(0,50).map(function(e){return e.trim()}).join()},kadfloor:function(){return parseFloat(t)},lat:function(){return parseFloat(t)},lon:function(){return parseFloat(t)},yob:function(){return parseInt(t)}};return(null===(r=n[e])||void 0===r?void 0:r.call(n))||t}function re(e){return!0===(0,u.isArray)(e)&&e.length>0}var ne=function(e,t,r,n){var i,o,a,d={w:0,h:0};(null===(i=e.video)||void 0===i?void 0:i.w)>0&&(null===(o=e.video)||void 0===o?void 0:o.h)>0?(d.w=e.video.w,d.h=e.video.h):d=function(e){return e&&e.length?e.reduce(function(e,t){return t.h*t.w<e.h*e.w?t:e},e[0]):{w:0,h:0}}(r);var l=(null==n||null===(a=n.params)||void 0===a?void 0:a.__int_v__)>=0,s=document.getElementById(t);if(s||l){var c=function(){if("na"===((0,m.tF)(s)?(0,m.gl)(s,(0,u.getWindowTop)(),d):"na")&&l)return Math.round(100*n.params.__int_v__)}();e.ext||(e.ext={}),e.ext.viewability={amount:isNaN(c)?c:Math.round(c)}}},ie={code:"pubmatic",gvlid:76,supportedMediaTypes:[p.D4,p.G_,p.s6],isBidRequestValid:function(e){if(!e||!e.params)return!1;var t=e.params.publisherId,r=e.mediaTypes||{},n=r[p.G_]||{};if(!(0,u.isStr)(t))return(0,u.logWarn)(I+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(r.hasOwnProperty(p.G_)){var i=(0,s.A)(e,"mediaTypes.video.mimes"),o=(0,s.A)(e,"params.video.mimes");if(!re(i)&&!re(o))return(0,u.logWarn)(I+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!n.context)return(0,u.logError)("".concat(I,": No context specified in bid. Rejecting bid: "),e),!1;if("outstream"===n.context&&!(0,u.isStr)(e.params.outstreamAU)&&!e.renderer&&!n.renderer)return r.hasOwnProperty(p.D4)||r.hasOwnProperty(p.s6)?(delete r[p.G_],(0,u.logWarn)("".concat(I,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):!!n.hasOwnProperty("fallbackRenderer")||((0,u.logError)("".concat(I,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0},buildRequests:function(e,t){var r,n,o,a,d,l=(null==t?void 0:t.refererInfo)||{},s=l.page,c=l.ref,p=(null==t||null===(r=t.bids)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.params)||{},v=p.publisherId,f=p.profId,m=p.verId;T=(null==v?void 0:v.trim())||(null===(a=null==t?void 0:t.bids,n=Array.isArray(a)&&a.length>0&&(null===(d=a.find(function(e){var t;return null===(t=e.params)||void 0===t||null===(t=t.publisherId)||void 0===t?void 0:t.trim()}))||void 0===d?void 0:d.params.publisherId)||null)||void 0===n?void 0:n.trim());var g,h=(0,u.generateUUID)();S=[],E=[],P={pageURL:s||window.location.href,refURL:c||window.document.referrer,pubId:T,kadpageurl:s||window.location.href,profId:f,verId:m},e.forEach(function(e){var r;e.params.wiid=e.params.wiid||t.auctionId||h,function(e,t){Object.keys(A).forEach(function(r){var n=e[r];n&&((0,u.isStr)(n)?t[r]=n:(0,u.logWarn)("".concat(I,"Ignoring param: ").concat(r," with value: ").concat(A[r],", expects string value, found ").concat((0,i.A)(n))))})}((g=(0,u.deepClone)(e)).params,P),P.transactionId=null===(r=g.ortb2Imp)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.tid;var n=g.params,o=n.bcat,a=n.acat;o&&(S=S.concat(o)),a&&(E=E.concat(a))});var b=U.toORTB({validBidRequests:e,bidderRequest:t}),y={method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:b,bidderRequest:t,options:{endpointCompression:!0}};return null!=b&&null!==(o=b.imp)&&void 0!==o&&o.length?y:null},interpretResponse:function(e,t){var r=U.fromORTB({response:e.body,request:t.data}).bids,i=(0,s.A)(e.body,"ext.fledge_auction_configs");return i?{bids:r,paapi:Object.entries(i).map(function(e){var t=(0,n.A)(e,2);return{bidId:t[0],config:w({auctionSignals:{}},t[1])}})}:r},getUserSyncs:function(e,t,r,n,i){var o,a=T;r&&(a+="&gdpr=".concat(r.gdprApplies?1:0,"&gdpr_consent=").concat(encodeURIComponent(r.consentString||""))),n&&(a+="&us_privacy=".concat(encodeURIComponent(n))),null!=i&&i.gppString&&null!=i&&null!==(o=i.applicableSections)&&void 0!==o&&o.length&&(a+="&gpp=".concat(encodeURIComponent(i.gppString),"&gpp_sid=").concat(encodeURIComponent(i.applicableSections.join(",")))),!0===v.$W.getConfig("coppa")&&(a+="&coppa=1");var d=e.iframeEnabled?"iframe":"image";return[{type:d,url:("iframe"===d?"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p=":"https://image8.pubmatic.com/AdServer/ImgSync?p=")+a}]},onBidWon:function(e){W(e)}};(0,c.a$)(ie),(0,d.E)("pubmaticBidAdapter")}}]);