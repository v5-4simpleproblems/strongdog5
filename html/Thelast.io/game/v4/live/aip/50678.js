"use strict";(self.__VM_WPK_C_LR__m=self.__VM_WPK_C_LR__m||[]).push([[50678],{22269:(e,i,r)=>{r.r(i),r.d(i,{spec:()=>v});var n=r(82284),t=r(90740),a=r(70433),o=r(63013),s=r(67436),d=r(75181),c=r(55074),p=r(83380),l="USD",u={image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1},cta:{required:!1}},v={code:"adyoulike",gvlid:259,supportedMediaTypes:[c.D4,c.s6,c.G_],aliases:["ayl"],isBidRequestValid:function(e){var i=I(h(e)),r=i.width>0&&i.height>0;return e.params&&e.params.placement&&(r||e.mediaTypes&&e.mediaTypes.native)},buildRequests:function(e,i){e=(0,p.Xj)(e);var r,n=!1,t={Version:"1.0",Bids:e.reduce(function(e,i){var t,o,s=(o=i,(0,a.A)(o,"mediaTypes.banner")?c.D4:(0,a.A)(o,"mediaTypes.video")?c.G_:(0,a.A)(o,"mediaTypes.native")?c.s6:void 0),d=h(i),p=I(d);if(e[i.bidId]={},e[i.bidId].PlacementID=i.params.placement,e[i.bidId].TransactionID=null===(t=i.ortb2Imp)||void 0===t||null===(t=t.ext)||void 0===t?void 0:t.tid,e[i.bidId].Width=p.width,e[i.bidId].Height=p.height,e[i.bidId].AvailableSizes=d.join(","),"function"==typeof i.getFloor&&(e[i.bidId].Pricing=function(e,i,r){var n=e.getFloor({currency:l,mediaType:r,size:[i.width,i.height]});if(!isNaN(null==n?void 0:n.floor)&&(null==n?void 0:n.currency)===l)return n.floor}(i,p,s)),i.schain&&(e[i.bidId].SChain=i.schain),!r&&i.userIdAsEids&&i.userIdAsEids.length&&(r=i.userIdAsEids),s===c.s6){var v=i.mediaTypes.native;"image"===v.type&&(v=Object.assign({},u,v)),v.clickUrl={required:!0},e[i.bidId].Native=v}if(s===c.G_){n=!0,e[i.bidId].Video=i.mediaTypes.video;var m=i.mediaTypes.video.playerSize;Array.isArray(m)&&!Array.isArray(m[0])&&(e[i.bidId].Video.playerSize=[m])}return e},{}),PageRefreshed:m()};i.gdprConsent&&(t.gdprConsent={consentString:i.gdprConsent.consentString,consentRequired:"boolean"==typeof i.gdprConsent.gdprApplies?i.gdprConsent.gdprApplies:null}),i.uspConsent&&(t.uspConsent=i.uspConsent),i.ortb2&&(t.ortb2=i.ortb2),r&&(t.eids=r),t.pbjs_version="9.53.2";var o=JSON.stringify(t);return{method:"POST",url:g(e,i,n),data:o,options:{withCredentials:!0}}},interpretResponse:function(e,i){var r=[],t={};if(!e||!e.body)return r;try{t=JSON.parse(i.data).Bids}catch(e){}return e.body.forEach(function(e){var i=function(e,i){if(e&&(e.Ad||e.Native||e.Vast)){var r=i&&i[e.BidID];r&&(e.Width&&"0"!==e.Width||(e.Width=r.Width),e.Height&&"0"!==e.Height||(e.Height=r.Height));var t={requestId:e.BidID,ttl:3600,creativeId:e.CreativeID,cpm:e.Price,netRevenue:!0,currency:l,meta:e.Meta||{advertiserDomains:[]}},o=e.Vast;return o?(t.width=e.Width,t.height=e.Height,t.vastXml=window.atob(o),t.mediaType="video"):r.Native?(t.native=function(e,i){if("object"===(0,n.A)(e.Native))return e.Native;var r={},t={},o={};if("string"==typeof e.Ad){t=JSON.parse(e.Ad.match(/\/\*PREBID\*\/(.*)\/\*PREBID\*\//)[1]),o=t.Content.Preview.Text;var s=t.TrackingPrefix+"/pixel?event_kind=IMPRESSION&attempt="+t.Attempt,d=t.TrackingPrefix+"/pixel?event_kind=INSERTION&attempt="+t.Attempt;t.Campaign&&(s+="&campaign="+t.Campaign,d+="&campaign="+t.Campaign),r.clickUrl=t.TrackingPrefix+"/ar?event_kind=CLICK&attempt="+t.Attempt+"&campaign="+t.Campaign+"&url="+encodeURIComponent(t.Content.Landing.Url),t.OnEvents?(r.clickTrackers=C(t.OnEvents.CLICK),r.impressionTrackers=C(t.OnEvents.IMPRESSION),r.javascriptTrackers=C(t.OnEvents.IMPRESSION,!0)):r.impressionTrackers=[],r.impressionTrackers.push(s,d)}return Object.keys(i).map(function(n,s){switch(n){case"title":r[n]=o.TITLE;break;case"body":r[n]=o.DESCRIPTION;break;case"cta":r[n]=o.CALLTOACTION;break;case"sponsoredBy":r[n]=t.Content.Preview.Sponsor.Name;break;case"image":var d=i.image.sizes||[];d.length||(d[0]=e.Width||300,d[1]=e.Height||250);var c=y(t,(0,a.A)(t,"Content.Preview.Thumbnail.Image"),d[0],d[1]);c&&(r[n]={url:c,width:d[0],height:d[1]});break;case"icon":var p=i.icon.sizes||[];p.length||(p[0]=50,p[1]=50);var l=y(t,(0,a.A)(t,"Content.Preview.Sponsor.Logo.Resource"),p[0],p[1]);l&&(r[n]={url:l,width:p[0],height:p[1]});break;case"privacyIcon":r[n]=y(t,(0,a.A)(t,"Content.Preview.Credit.Logo.Resource"),25,25);break;case"privacyLink":r[n]=(0,a.A)(t,"Content.Preview.Credit.Url")}}),r}(e,r.Native),t.mediaType="native"):(t.width=e.Width,t.height=e.Height,t.ad=e.Ad),t}}(e,t);i&&r.push(i)}),r},getUserSyncs:function(e,i,r,n,t){var a;if(!e.iframeEnabled)return[];var o,s="";return r&&(s+="&gdpr="+(r.gdprApplies?1:0),s+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),!0===d.$W.getConfig("coppa")&&(s+="&coppa=1"),n&&(s+="&us_privacy="+encodeURIComponent(n)),null!=t&&t.gppString&&null!=t&&null!==(a=t.applicableSections)&&void 0!==a&&a.length&&(s+="&gpp="+encodeURIComponent(t.gppString),s+="&gpp_sid="+encodeURIComponent(null==t||null===(o=t.applicableSections)||void 0===o?void 0:o.join(","))),[{type:"iframe",url:"https://visitor.omnitagjs.com/visitor/isync?uid=19340f4f097d16f41f34fc0274981ca4".concat(s)}]}};function m(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1}function g(e,i,r){var n=function(e){var i=(e||[]).find(function(e){return e.params.DC});return i?"-"+i.params.DC:""}(e),t=r?"/hb-api/prebid-video/v1":"/hb-api/prebid/v1";return(0,o.buildUrl)({protocol:"https",host:"".concat("hb-api").concat(n,".omnitagjs.com"),pathname:t,search:f(i)})}function f(e){var i,r={};if(e){var n,t=e.refererInfo;t&&(t.location&&(r.RefererUrl=encodeURIComponent(t.location),t.reachedTop||(r.SafeFrame=!0)),r.PageUrl=encodeURIComponent(t.topmostLocation),r.PageReferrer=encodeURIComponent(t.location));var a=null===(n=e.ortb2)||void 0===n?void 0:n.site;a&&(r.PageUrl=encodeURIComponent(a.page||(null==t?void 0:t.topmostLocation)),r.PageReferrer=encodeURIComponent(a.ref||(null==t?void 0:t.location)))}var o=null==e||null===(i=e.refererInfo)||void 0===i?void 0:i.canonicalUrl;return o&&(r.CanonicalUrl=encodeURIComponent(o)),r}function h(e){var i=e.sizes||[];return e.mediaTypes&&e.mediaTypes.banner&&(i=e.mediaTypes.banner.sizes||[]),e.params&&Array.isArray(e.params.size)&&(i=e.params.size,Array.isArray(i[0])||(i=[i])),(0,o.parseSizesInput)(i)}function I(e){var i={},r=e[0];if("string"!=typeof r)return i;var n=r.toUpperCase().split("X"),t=parseInt(n[0],10);t&&(i.width=t);var a=parseInt(n[1],10);return a&&(i.height=a),i}function b(e){return e?"https://blobs.omnitagjs.com/blobs/"+e.substr(16,2)+"/"+e.substr(16)+"/"+e:""}function y(e,i,r,n){var t="";if(i&&i.Kind)switch(i.Kind){case"INTERNAL":t=b(i.Data.Internal.BlobReference.Uid);break;case"EXTERNAL":var a=e.DynamicPrefix,o=i.Data.External.Url;if((o=(o=o.replace(/\[height\]/i,""+n)).replace(/\[width\]/i,""+r)).indexOf(a)>=0){var s=/.*url=([^&]*)/gm.exec(o);(t=s?s[1]:"")||(t=b(/.*key=([^&]*)/gm.exec(o)[1]))}else t=o}return t}function C(e,i){var r=[];return e?(e.map(function(e,n){(i&&"JAVASCRIPT_URL"===e.Kind||!i&&"PIXEL_URL"===e.Kind)&&r.push(e.Url)}),r):r}(0,s.a$)(v),(0,t.E)("adyoulikeBidAdapter")}}]);