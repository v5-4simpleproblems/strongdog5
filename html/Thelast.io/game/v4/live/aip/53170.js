"use strict";(self.__VM_WPK_C_LR__m=self.__VM_WPK_C_LR__m||[]).push([[53170],{14745:(e,t,r)=>{r.r(t),r.d(t,{FEATURE_TOGGLES:()=>J,LOCAL_STORAGE_FEATURE_TOGGLES_KEY:()=>D,addDeviceInfo:()=>ve,bidToNativeImp:()=>W,bidToVideoImp:()=>z,combineImps:()=>ce,deduplicateImpExtFields:()=>fe,removeSiteIDs:()=>me,spec:()=>ue,storage:()=>j});var i=r(80296),n=r(45458),a=r(64467),o=r(82284),d=r(90740),s=r(70433),p=r(63013),u=r(63172),l=r(55074),c=r(75181),f=r(85075),m=r(67436),g=r(35564),v=r(98936),b=r(79651);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return I(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){d=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(d)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}var A="ix",w=[l.D4,l.G_,l.s6],O=[144,144],C={JPY:1},S={PBJS:"p",IX:"x"},E={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},U={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID"},_=["lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],P=["mimes","minduration","maxduration"],T=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],D="".concat(A,"_features"),j=(0,f.vM)({bidderCode:A}),J={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat","pbjs_allow_all_eids"],featureToggles:{},isFeatureEnabled:function(e){return(0,s.A)(this.featureToggles,"features.".concat(e,".activated"),!1)},getFeatureToggles:function(){if(j.localStorageIsEnabled()){var e=(0,p.safeJSONParse)(j.getDataFromLocalStorage(D));(0,s.A)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var t=e.body,r=new Date,i=(0,s.A)(t,"ext.features");i&&(this.featureToggles={expiry:r.setHours(r.getHours()+1),features:i},j.localStorageIsEnabled()&&j.setDataInLocalStorage(D,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},j.localStorageIsEnabled()&&j.removeDataFromLocalStorage(D)}},k=0,F="",B="",R=!1;function z(e){var t=X(e,l.G_),r=(0,s.A)(e,"mediaTypes.video"),i=(0,s.A)(e,"params.video");if($(r,i).length)return{};t.video=i?(0,p.deepClone)(e.params.video):{};var n=(0,s.A)(e,"ortb2Imp.ext.tid");for(var a in n&&(0,u.J)(t,"ext.tid",n),function(e,t){if((0,s.A)(t,"mediaTypes.video.context")===g.H6){var r=(0,s.A)(t,"mediaTypes.video.renderer");if(r||(r=(0,s.A)(t,"renderer")),(0,s.A)(t,"schain",!1))e.displaymanager="pbjs_wrapper";else if(r&&"object"===(0,o.A)(r)){if(void 0!==r.url){var i="";try{i=new URL(r.url).hostname}catch(e){return}i.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=r.url}}else e.displaymanager="ix"}}(t,e),Z(t,e),r)-1===T.indexOf(a)||t.video.hasOwnProperty(a)||(t.video[a]=r[a]);if(t.video.minduration>t.video.maxduration)return(0,p.logError)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]")),{};var d=i&&i.context||r&&r.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,p.isInteger)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,p.logWarn)("IX Bid Adapter: video.plcmt [".concat(e.video.plcmt,"] must be an integer between 1-4 inclusive")),delete e.video.plcmt)}(t),d&&!t.video.hasOwnProperty("placement")&&(d===g.mn?t.video.placement=1:d===g.H6?(0,s.A)(i,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,R=!0):(0,p.logWarn)("IX Bid Adapter: Video context '".concat(d,"' is not supported"))),!t.video.w||!t.video.h){var c=M((0,s.A)(t,"video.playerSize"))||M((0,s.A)(e,"params.size"));if(!c)return(0,p.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=c[0],t.video.h=c[1]}return G(e,t,l.G_),t}function W(e){var t=X(e,l.s6),r=e.nativeOrtbRequest;r.eventtrackers=[{event:1,methods:[1,2]}],r.privacy=1,t.native={request:JSON.stringify(r),ver:"1.2"};var i=(0,s.A)(e,"ortb2Imp.ext.tid");return i&&(0,u.J)(t,"ext.tid",i),Z(t,e),G(e,t,l.s6),t}function X(e,t){var r={};if(r.id=e.bidId,pe()&&(0,s.A)(e,"params.externalId")&&(0,u.J)(r,"ext.externalID",e.params.externalId),(0,s.A)(e,"params.".concat(t,".siteId"))&&!isNaN(Number(e.params[t].siteId)))switch(t){case l.D4:(0,u.J)(r,"ext.siteID",e.params.banner.siteId.toString());break;case l.G_:(0,u.J)(r,"ext.siteID",e.params.video.siteId.toString());break;case l.s6:(0,u.J)(r,"ext.siteID",e.params.native.siteId.toString())}else e.params.siteId&&(0,u.J)(r,"ext.siteID",e.params.siteId.toString());return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(0,u.J)(r,"ext.sid",String(e.params.id)),r}function G(e,t,r){var i=null,n=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(i={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,p.isFn)(e.getFloor)){var a="*",o="*";if(r&&(0,p.contains)(w,r)){var d=t[r];a=r,o=[d.w,d.h]}try{n=e.getFloor({mediaType:a,size:o})}catch(e){(0,p.logWarn)("priceFloors module call getFloor failed, error : ",e)}}var s=!1;n?(t.bidfloor=n.floor,t.bidfloorcur=n.currency,(0,u.J)(t,"ext.fl",S.PBJS),s=!0):i&&(t.bidfloor=i.floor,t.bidfloorcur=i.currency,(0,u.J)(t,"ext.fl",S.IX),s=!0),s&&(r==l.D4?((0,u.J)(t,"banner.ext.bidfloor",t.bidfloor),(0,u.J)(t,"banner.ext.fl",t.ext.fl)):r==l.G_?((0,u.J)(t,"video.ext.bidfloor",t.bidfloor),(0,u.J)(t,"video.ext.fl",t.ext.fl)):((0,u.J)(t,"native.ext.bidfloor",t.bidfloor),(0,u.J)(t,"native.ext.fl",t.ext.fl)))}function L(e,t,r){var i,n,a={},o=!(!(0,s.A)(e,"exp")||!(0,p.isInteger)(e.exp)),d=(0,s.A)(e,"dealid")||(0,s.A)(e,"ext.dealid");C.hasOwnProperty(t)?a.cpm=e.price/C[t]:a.cpm=e.price/100,a.requestId=e.impid,d&&(a.dealId=d),a.netRevenue=!0,a.currency=t,a.creativeId=e.hasOwnProperty("crid")?e.crid:"-",2!=e.mtype||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(a.vastUrl=e.ext.vasturl):a.vastXml=e.adm;var u=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{u=JSON.parse(e.adm)}catch(e){(0,p.logWarn)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||2==e.mtype?(a.width=r.video.w,a.height=r.video.h,a.mediaType=l.G_,a.mediaTypes=r.mediaTypes,a.ttl=o?e.exp:3600):u&&u.native?(a.native={ortb:u.native},a.width=e.w?e.w:1,a.height=e.h?e.h:1,a.mediaType=l.s6,a.ttl=o?e.exp:3600):(a.ad=e.adm,a.width=e.w,a.height=e.h,a.mediaType=l.D4,a.ttl=o?e.exp:300),a.meta={},a.meta.networkId=(0,s.A)(e,"ext.dspid"),a.meta.brandId=(0,s.A)(e,"ext.advbrandid"),a.meta.brandName=(0,s.A)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(a.meta.advertiserDomains=e.adomain),null!==(i=e.ext)&&void 0!==i&&i.dsa&&(a.meta.dsa=e.ext.dsa),null!==(n=e.ext)&&void 0!==n&&n.ibv&&(a.ext=a.ext||{},a.ext.ibv=e.ext.ibv),a}function N(e){return Array.isArray(e)&&2===e.length&&(0,p.isInteger)(e[0])&&(0,p.isInteger)(e[1])}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(N(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function $(e,t){var r=[];e||(0,p.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var i,n=h(P);try{for(n.s();!(i=n.n()).done;){var a=i.value,o=e&&e.hasOwnProperty(a),d=t&&t.hasOwnProperty(a);o||d||r.push("IX Bid Adapter: ".concat(a," is not included in either the adunit or params level"))}}catch(e){n.e(e)}finally{n.f()}var s=e&&e.hasOwnProperty("protocol"),u=e&&e.hasOwnProperty("protocols"),l=t&&t.hasOwnProperty("protocol"),c=t&&t.hasOwnProperty("protocols");return s||u||l||c||r.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),r}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return N(e)?e:!!N(e[0])&&e[0]}function V(e,t,r){if(e)return y(y({},r.find(function(t){return t.bidId===e})),t.find(function(t){return t.id===e}))}function H(e,t,r,i){var n="https://htlb.casalemedia.com/openrtb/pbjs",a=function(e){var t=[],r={};if((0,p.isArray)(e)){var i,n=h(e);try{for(n.s();!(i=n.n()).done;){var a=i.value,o=U.hasOwnProperty(a.source);if((0,s.A)(a,"uids.0")&&(r[a.source]=!0,o&&""!==U[a.source]&&(a.uids[0].ext={rtiPartner:U[a.source]}),t.push(a),t.length>=50))break}}catch(e){n.e(e)}finally{n.f()}}return{toSend:t,seenSources:r}}((0,s.A)(e,"0.userIdAsEids")),d=a.toSend;window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){var r=window.headertag.getIdentityInfo();if(r&&"object"===(0,o.A)(r))for(var i in r){if(e.length>=50)return;if(r.hasOwnProperty(i)){var n=r[i];!n.responsePending&&n.data&&"object"===(0,o.A)(n.data)&&Object.keys(n.data).length&&!t.seenSources[n.data.source]&&e.push(n.data)}}}(d,a);var l=[],f=function(e){var t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=j.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);f=function(e,t){return t.length>0&&(e.ext.features={},t.forEach(function(t){e.ext.features[t]={activated:J.isFeatureEnabled(t)}})),e}(f,J.REQUESTED_FEATURE_TOGGLES);var m=function(e,t){var r,i,n,a=e.map(function(e){return e.adUnitCode}).filter(function(e,t,r){return r.indexOf(e)===t}),o=(0,s.A)(e,"0.userIdAsEids",[]),d={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"9.53.2",userIds:(i=e[0],n=i.userId||{},_.filter(function(e){return"lipbid"===e?(0,s.A)(n,"lipb.lipbid"):n[e]})),url:window.location.href.split("?")[0],vpd:R,ae:t,eidLength:o.length},p=h(a);try{var u=function(){var t=r.value,i=e.filter(function(e){return e.adUnitCode===t})[0];(0,s.A)(i,"mediaTypes")&&(Object.keys(i.mediaTypes).length>1&&d.mfu++,(0,s.A)(i,"mediaTypes.native")&&d.nu++,(0,s.A)(i,"mediaTypes.banner")&&d.bu++,"outstream"===(0,s.A)(i,"mediaTypes.video.context")&&(d.ou++,se(i)&&(d.ren=!0)),"instream"===(0,s.A)(i,"mediaTypes.video.context")&&d.iu++,d.allu++)};for(p.s();!(r=p.n()).done;)u()}catch(e){p.e(e)}finally{p.f()}return d}(e,(0,s.A)(t,"paapi.enabled"));for(var g in m)f.ext.ixdiag[g]=m[g];f=function(e,t,r,i,n){var a,o=(0,s.A)(t,"timeout");return o&&(e.ext.ixdiag.tmax=o),c.$W.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=c.$W.getConfig("userSync").syncsPerBidder),e.ext.ixdiag.imps=Object.keys(r).length,e.source={tid:null==t||null===(a=t.ortb2)||void 0===a||null===(a=a.source)||void 0===a?void 0:a.tid},i[0].schain&&(e.source.ext={},e.source.ext.schain=i[0].schain),n.length>0&&(e.user={},e.user.eids=n),document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer),e}(f,t,r,e,d),f=function(e,t){if(t){t.gdprConsent&&((F=t.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:F.gdprApplies?1:0}}),F.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:F.consentString||""},F.hasOwnProperty("addtlConsent")&&F.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:F.addtlConsent}))),t.uspConsent&&((0,u.J)(e,"regs.ext.us_privacy",t.uspConsent),B=t.uspConsent);var r=(0,s.A)(t,"refererInfo.page");r&&(e.site.page=r),t.gppConsent&&((0,u.J)(e,"regs.gpp",t.gppConsent.gppString),(0,u.J)(e,"regs.gpp_sid",t.gppConsent.applicableSections))}return c.$W.getConfig("coppa")&&(0,u.J)(e,"regs.coppa",1),e}(f,t);var v={};e[0].params.siteId&&(k=e[0].params.siteId,v.s=k);for(var b=Object.keys(r),x=!1,I=0;I<b.length&&!(l.length>=4);I++){f=K(r,b,f,I);var A=(0,s.A)(t,"ortb2")||{},w=y({},A.site||A.context);w.page=Q(t);var O=y({},A.user);(0,p.isEmpty)(A)||x||((f=Y(t,f,A,w,O)).site=(0,p.mergeDeep)({},f.site,w),f.user=(0,p.mergeDeep)({},f.user,O),x=!0),f=ee(r,f,b,I);var C=I===b.length-1;if(f=me(f=fe(f=ve(f))),C){var S="".concat(n,"?");0!==k&&(S+="s=".concat(k)),pe()&&(S+=0!==k?"&":"",S+="p=".concat(c.$W.getConfig("exchangeId"))),l.push({method:"POST",url:S,data:(0,p.deepClone)(f),options:{contentType:"text/plain",withCredentials:!0},validBidRequests:e}),f.imp=[],x=!1}}return l}function K(e,t,r,i){var a=e[t[i]],o=a.missingImps,d=void 0===o?[]:o,c=a.ixImps,f={ixImps:void 0===c?[]:c,missingBannerImpressions:d},m=Object.keys(f).map(function(e){return f[e]}).filter(function(e){return Array.isArray(e)}).reduce(function(e,t){return e.concat.apply(e,(0,n.A)(t))},[]),g=e[t[i]].gpid,v=e[t[i]].dfp_ad_unit_code,b=e[t[i]].tid,x=e[t[i]].sid,y=e[t[i]].ae,h=e[t[i]].paapi,I=m.filter(function(e){return l.D4 in e}),A=m.filter(function(e){return!(l.D4 in e)});if(I.length>0){var w=I.reduce(function(e,t){return e[t.adunitCode]||(e[t.adunitCode]=[]),e[t.adunitCode].push(t),e},{});for(var O in w){for(var C=w[O],S=C[0],E=S.id,U=S.banner.topframe,_=(0,s.A)(C[0],"ext.externalID"),P={id:E,banner:{topframe:U,format:C.map(function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}})}},T=0;T<P.banner.format.length;T++)null!=P.banner.format[T].ext&&(null!=P.banner.format[T].ext.sid&&delete P.banner.format[T].ext.sid,null!=P.banner.format[T].ext.externalID&&delete P.banner.format[T].ext.externalID),"bidfloor"in C[T]&&(P.banner.format[T].ext.bidfloor=C[T].bidfloor),"{}"===JSON.stringify(P.banner.format[T].ext)&&delete P.banner.format[T].ext;var D=e[t[i]].pos;(0,p.isInteger)(D)&&(P.banner.pos=D),(v||g||b||x||y||_||h)&&(P.ext={},P.ext.dfp_ad_unit_code=v,P.ext.gpid=g,P.ext.tid=b,P.ext.sid=x,P.ext.externalID=_,1==y&&(P.ext.ae=1,P.ext.paapi=h)),"bidfloor"in C[0]&&(P.bidfloor=C[0].bidfloor),"bidfloorcur"in C[0]&&(P.bidfloorcur=C[0].bidfloorcur);var j=e[t[i]].adUnitFPD;j&&(0,u.J)(P,"ext.data",j),r.imp.push(P)}}return A.length>0&&A.forEach(function(e){if(g&&(0,u.J)(e,"ext.gpid",g),r.imp.length>0){var t=!1;r.imp.forEach(function(i,n){e.id===i.id&&l.G_ in e?(i.video=e.video,i.video.ext=Object.assign({},e.video.ext,e.ext),(0,s.A)(i,"video.ext.bidfloor",!1)&&(0,s.A)(i,"bidfloor",!1)&&i.video.ext.bidfloor<i.bidfloor&&(i.bidfloor=i.video.ext.bidfloor),!(0,s.A)(i,"ext.siteID",!1)&&(0,s.A)(e,"video.ext.siteID")&&((0,u.J)(i,"ext.siteID",e.video.ext.siteID),(0,u.J)(r,"ext.ixdiag.usid",!0)),t=!0):e.id===i.id&&l.s6 in e&&(i.native=e.native,i.native.ext=Object.assign({},e.native.ext,e.ext),(0,s.A)(i,"native.ext.bidfloor",!1)&&(0,s.A)(i,"bidfloor",!1)&&i.native.ext.bidfloor<i.bidfloor&&(i.bidfloor=i.native.ext.bidfloor),!(0,s.A)(i,"ext.siteID",!1)&&(0,s.A)(e,"native.ext.siteID",!1)&&((0,u.J)(i,"ext.siteID",e.native.ext.siteID),(0,u.J)(r,"ext.ixdiag.usid",!0)),t=!0)}),t||r.imp.push(e)}else r.imp.push(e)}),r}function Q(e){var t,r=e&&e.bidderCode||"ix",n=c.$W.getConfig(r);return t=(0,s.A)(e,"ortb2.site.page")?e.ortb2.site.page:(0,s.A)(e,"refererInfo.page"),n&&"object"===(0,o.A)(n.firstPartyData)?function(e,t,r){var n;try{n=new URL(t)}catch(r){(0,p.logWarn)("IX Bid Adapter: Invalid URL set in ortb2.site.page: ".concat(t,". Using referer URL instead.")),n=new URL((0,s.A)(e,"refererInfo.page"))}for(var a=new URLSearchParams(n.search),o=0,d=Object.entries(r);o<d.length;o++){var u=(0,i.A)(d[o],2),l=u[0],c=u[1];a.has(l)||a.append(l,c)}return n.search=a.toString(),n.toString()}(e,t,n.firstPartyData):t}function Y(e,t,r,i,n){if(t.ext.ixdiag.fpd=!0,Object.keys(i).forEach(function(e){-1===E.SITE.indexOf(e)&&delete i[e]}),Object.keys(n).forEach(function(e){-1===E.USER.indexOf(e)&&delete n[e]}),r.device){var a=y({},r.device.sua);(0,p.isEmpty)(a)||(0,u.J)(t,"device.sua",a);var o=r.device.ip;o&&(0,u.J)(t,"device.ip",o);var d=r.device.ipv6;d&&(0,u.J)(t,"device.ipv6",d);var s=r.device.geo;s&&(0,u.J)(t,"device.geo",s)}var l;if(r.hasOwnProperty("regs")&&!e.gppConsent&&(r.regs.hasOwnProperty("gpp")&&"string"==typeof r.regs.gpp&&(0,u.J)(t,"regs.gpp",r.regs.gpp),r.regs.hasOwnProperty("gpp_sid")&&Array.isArray(r.regs.gpp_sid)&&(0,u.J)(t,"regs.gpp_sid",r.regs.gpp_sid),null!==(l=r.regs.ext)&&void 0!==l&&l.dsa)){var c=r.regs.ext.dsa,f={};if(["dsarequired","pubrender","datatopub"].forEach(function(e){(0,p.isNumber)(c[e])&&(f[e]=c[e])}),(0,p.isArray)(c.transparency)){var m=[];c.transparency.forEach(function(e){(0,p.isPlainObject)(e)&&(0,p.isStr)(e.domain)&&""!=e.domain&&(0,p.isArray)(e.dsaparams)&&e.dsaparams.every(function(e){return(0,p.isNumber)(e)})&&m.push(e)}),m.length>0&&(f.transparency=m)}(0,p.isEmpty)(f)||(0,u.J)(t,"regs.ext.dsa",f)}return t}function Z(e,t){var r=(0,s.A)(t,"ortb2Imp.ext.data");r&&(0,u.J)(e,"ext.data",r)}function ee(e,t,r,i,n,a){var o=e[r[i]].pbadslot,d=e[r[i]].tagId,s=e[r[i]].adUnitCode,p=e[r[i]].divId;return(o||d||s||p)&&(t.ext.ixdiag.pbadslot=o,t.ext.ixdiag.tagid=d,t.ext.ixdiag.adunitcode=s,t.ext.ixdiag.divId=p),t}function te(e,t){if(t)for(var r=0;r<e.length;r++){var i=e[r];if(t[0]===i[0]&&t[1]===i[1]){e.splice(r,1);break}}}function re(e,t){var r=W(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,s.A)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,s.A)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,s.A)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,s.A)(e,"params.tagId");var i=e.adUnitCode,n=document.getElementById(i)?i:(0,b.p)(i).divId;t[e.adUnitCode].adUnitCode=i,t[e.adUnitCode].divId=n}}function ie(e,t){var r=z(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,s.A)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,s.A)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,s.A)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,s.A)(e,"params.tagId");var i=e.adUnitCode,n=document.getElementById(i)?i:(0,b.p)(i).divId;t[e.adUnitCode].adUnitCode=i,t[e.adUnitCode].divId=n}}function ne(e,t,r,i){var n=function(e){var t=X(e,l.D4);t.banner={},t.adunitCode=e.adUnitCode;var r=(0,s.A)(e,"params.size");return r&&(t.banner.w=r[0],t.banner.h=r[1]),t.banner.topframe=(0,p.inIframe)()?0:1,G(e,t,l.D4),t}(e),a=q((0,s.A)(e,"mediaTypes.banner.sizes"),(0,s.A)(e,"params.size"));if(r.hasOwnProperty(e.adUnitCode)||(r[e.adUnitCode]={}),r[e.adUnitCode].gpid=(0,s.A)(e,"ortb2Imp.ext.gpid"),r[e.adUnitCode].dfp_ad_unit_code=(0,s.A)(e,"ortb2Imp.ext.data.adserver.adslot"),r[e.adUnitCode].tid=(0,s.A)(e,"ortb2Imp.ext.tid"),r[e.adUnitCode].pbadslot=(0,s.A)(e,"ortb2Imp.ext.data.pbadslot"),r[e.adUnitCode].tagId=(0,s.A)(e,"params.tagId"),r[e.adUnitCode].pos=(0,s.A)(e,"mediaTypes.banner.pos"),(0,s.A)(i,"paapi.enabled")){var o=(0,s.A)(e,"ortb2Imp.ext.ae"),d=(0,s.A)(e,"ortb2Imp.ext.paapi");d&&(r[e.adUnitCode].paapi=d),o&&((0,p.isInteger)(o)?r[e.adUnitCode].ae=o:(0,p.logWarn)("error setting auction environment flag - must be an integer"))}var u=(0,s.A)(e,"ortb2Imp.ext.data");u&&(r[e.adUnitCode].adUnitFPD=u);var c=(0,s.A)(e,"params.id");!c||"string"!=typeof c&&"number"!=typeof c||(r[e.adUnitCode].sid=String(c));var f=e.adUnitCode,m=document.getElementById(f)?f:(0,b.p)(f).divId;r[e.adUnitCode].adUnitCode=f,r[e.adUnitCode].divId=m,a&&(r[e.adUnitCode].hasOwnProperty("ixImps")||(r[e.adUnitCode].ixImps=[]),r[e.adUnitCode].ixImps.push(n)),function(e,t,r){if(t.hasOwnProperty(e.adUnitCode)){var i=[];t[e.adUnitCode].hasOwnProperty("missingSizes")&&(i=t[e.adUnitCode].missingSizes),te(i,e.params.size),t[e.adUnitCode].missingSizes=i}else if((0,s.A)(e,"mediaTypes.banner.sizes")){var n=(0,p.deepClone)(e.mediaTypes.banner.sizes);te(n,e.params.size);var a={missingSizes:n,impression:r};t[e.adUnitCode]=a}}(e,t,n)}function ae(e,t,r){var i=(0,p.deepClone)(t);return i.banner.w=r[0],i.banner.h=r[1],G(e,i,l.D4),i}function oe(e){e.renderer.push(function(){var t=e.adUnitCode,r=document.getElementById(t)?t:(0,b.p)(t).divId;r?window.createIXPlayer(r,e):(0,p.logWarn)("IX Bid Adapter: adUnitCode: ".concat(r," not found on page."))})}function de(e,t){var r=v.A4.install({id:e,url:t,loaded:!1});try{r.setRender(oe)}catch(e){return(0,p.logWarn)("Prebid Error calling setRender on renderer",e),null}return t?r:((0,p.logWarn)("Outstream renderer URL not found"),null)}function se(e){if("outstream"!==(0,s.A)(e,"mediaTypes.video.context"))return!1;var t=(0,s.A)(e,"mediaTypes.video.renderer");return t||(t=(0,s.A)(e,"renderer")),!("object"===(0,o.A)(t)&&t.url&&t.render)||t.backupOnly}function pe(){var e=c.$W.getConfig("exchangeId");return!("number"!=typeof e||!isFinite(e))||!("string"!=typeof e||""===e.trim()||!isFinite(Number(e)))}var ue={code:A,gvlid:10,supportedMediaTypes:w,isBidRequestValid:function(e){var t,r,i=(0,s.A)(e,"params.video"),n=(0,s.A)(e,"params.size"),a=(0,s.A)(e,"mediaTypes.banner.sizes"),o=(0,s.A)(e,"mediaTypes.video"),d=(0,s.A)(e,"mediaTypes.video.playerSize"),u=e.params.hasOwnProperty("bidFloor"),l=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,p.contains)(w,e.mediaType))return(0,p.logWarn)("IX Bid Adapter: media type is not supported."),!1;if((0,s.A)(e,"mediaTypes.banner")&&!a)return!1;if(n){var c=M(n);if(!c)return(0,p.logError)("IX Bid Adapter: size has invalid format."),!1;if(!q(e.sizes,c)&&!q(d,c)&&!q(a,c))return(0,p.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size."),!1}if(!pe()&&null==e.params.siteId)return(0,p.logError)("IX Bid Adapter: Invalid configuration - either siteId or exchangeId must be configured."),!1;if(void 0!==e.params.siteId){if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,p.logError)("IX Bid Adapter: siteId must be string or number type."),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,p.logError)("IX Bid Adapter: siteId must valid value"),!1}if((u||l)&&!(u&&l&&(t=e.params.bidFloor,r=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof r&&r.match(/^[A-Z]{3}$/)))))return(0,p.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format."),!1;if(o&&i){var f=z(e).video,m=$(o,i);if((0,s.A)(e,"mediaTypes.video.context")===g.H6&&se(e)&&f){var v=[(0,s.A)(f,"w"),(0,s.A)(f,"h")];if(!(v[0]>=O[0]&&v[1]>=O[1]))return(0,p.logError)("IX Bid Adapter: ".concat(v," is an invalid size for IX outstream renderer")),!1}if(m.length)return m.forEach(function(e){(0,p.logError)(e)}),!1}return function(e){return void 0===(0,s.A)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},resetSiteID:function(){k=0},buildRequests:function(e,t){var r=[],i={},a={},o={},d={};for(var u in J.getFeatureToggles(),e.forEach(function(e){var r=Object.keys((0,s.A)(e,"mediaTypes",{}));for(var n in r)switch(r[n]){case l.D4:ne(e,d,i,t);break;case l.G_:ie(e,a);break;case l.s6:re(e,o);break;default:(0,p.logWarn)("IX Bid Adapter: ad unit mediaTypes ".concat(n," is not supported"))}}),d)if(d.hasOwnProperty(u)){var c=d[u].missingSizes;i.hasOwnProperty(u)||(i[u]={}),i[u].hasOwnProperty("missingImps")||(i[u].missingImps=[],i[u].missingCount=0);for(var f=d[u].impression,m=0;m<c.length;m++){var g=ae(e[0],f,c[m]);i[u].missingImps.push(g),i[u].missingCount++}}var v=[];return Object.keys(i).length>0&&v.push(i),Object.keys(a).length>0&&v.push(a),Object.keys(o).length>0&&v.push(o),J.isFeatureEnabled("pbjs_enable_multiformat")?r.push.apply(r,(0,n.A)(H(e,t,ce(v)))):(Object.keys(i).length>0&&r.push.apply(r,(0,n.A)(H(e,t,i))),Object.keys(a).length>0&&r.push.apply(r,(0,n.A)(H(e,t,a))),Object.keys(o).length>0&&r.push.apply(r,(0,n.A)(H(e,t,o)))),r},interpretResponse:function(e,t){var r=[],i=null,n=(0,s.A)(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(J.setFeatureToggles(e),!e.hasOwnProperty("body"))return r;for(var a=e.body,d=a.seatbid||[],u=0;u<d.length;u++)if(d[u].hasOwnProperty("bid")){for(var c=d[u].bid,f=t.data,m=0;m<c.length;m++){var g=V(c[m].impid,f.imp,t.validBidRequests);if((i=L(c[m],a.cur,g)).mediaType===l.G_&&se(g)){var v=(0,s.A)(a,"ext.videoplayerurl");if(i.renderer=de(c[m].bidId,v),!i.renderer)continue}r.push(i)}if((0,s.A)(f,"ext.ixdiag.err")&&j.localStorageIsEnabled())try{j.removeDataFromLocalStorage("ixdiag")}catch(e){(0,p.logError)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(n)&&n.length>0))return r;n=n.filter(function(e){return!!function(e){return"object"===(0,o.A)(e)&&null!==e}(e)||((0,p.logWarn)("Malformed auction config detected:",e),!1)});try{return{bids:r,paapi:n}}catch(e){return(0,p.logWarn)("Error attaching AuctionConfigs",e),r}},getUserSyncs:function(e,t){var r=[],i=null;if(t.length>0&&(i=(0,s.A)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==i&&0==i)return[];if(e.iframeEnabled)r.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var n=null;c.$W.getConfig("userSync")&&(n=c.$W.getConfig("userSync").syncsPerBidder),0===n&&(n=i),n=i&&(0===n||n)?i>n?n:i:1;for(var a=0;a<n;a++)r.push({type:"image",url:le(n,a)})}return r}};function le(e,t){var r="",i="0";return F&&F.hasOwnProperty("gdprApplies")&&(i=F.gdprApplies?"1":"0"),F&&F.hasOwnProperty("consentString")&&(r=F.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid"+(0!==k?"&site_id="+k.toString():"")+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+i+"&gdpr_consent="+r+"&us_privacy="+(B||"")}function ce(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){Object.keys(t).includes(r)?t[r].hasOwnProperty("ixImps")&&e[r].hasOwnProperty("ixImps")?t[r].ixImps=[].concat((0,n.A)(t[r].ixImps),(0,n.A)(e[r].ixImps)):t[r].hasOwnProperty("missingImps")&&e[r].hasOwnProperty("missingImps")?t[r].missingImps=[].concat((0,n.A)(t[r].missingImps),(0,n.A)(e[r].missingImps)):e[r].hasOwnProperty("ixImps")?t[r].ixImps=e[r].ixImps:e[r].hasOwnProperty("missingImps")&&(t[r].missingImps=e[r].missingImps):t[r]=e[r]})}),t}function fe(e){return e.imp.forEach(function(t,r){var i=t.ext;if(null==i)return e;ge(t)<2||Object.keys(i).forEach(function(n){if(l.D4 in t){var a=t.banner.ext;if(void 0!==a&&void 0!==a[n]&&a[n]==i[n]&&delete e.imp[r].banner.ext[n],void 0!==t.banner.format)for(var o=0;o<t.banner.format.length;o++)null!=t.banner.format[o].ext&&null!=t.banner.format[o].ext[n]&&t.banner.format[o].ext[n]==i[n]&&delete e.imp[r].banner.format[o].ext[n]}if(l.G_ in t){var d=t.video.ext;void 0!==d&&void 0!==d[n]&&d[n]==i[n]&&delete e.imp[r].video.ext[n]}if(l.s6 in t){var s=t.native.ext;void 0!==s&&void 0!==s[n]&&s[n]==i[n]&&delete e.imp[r].native.ext[n]}})}),e}function me(e){return e.imp.forEach(function(t,r){if(null==t.ext)return e;if(!(ge(t)<2)){if(l.D4 in t){var i=t.banner.ext;if(void 0!==i&&void 0!==i.siteID&&delete e.imp[r].banner.ext.siteID,void 0!==t.banner.format)for(var n=0;n<t.banner.format.length;n++)void 0!==t.banner.format[n].ext&&void 0!==t.banner.format[n].ext.siteID&&((0,u.J)(e.imp[r],"ext.siteID",t.banner.format[n].ext.siteID),(0,u.J)(e,"ext.ixdiag.usid",!0),delete e.imp[r].banner.format[n].ext.siteID)}if(l.G_ in t){var a=t.video.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[r].video.ext.siteID}if(l.s6 in t){var o=t.native.ext;void 0!==o&&void 0!==o.siteID&&delete e.imp[r].native.ext.siteID}}}),e}function ge(e){var t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}function ve(e){return null==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}(0,m.a$)(ue),(0,d.E)("ixBidAdapter")},79651:(e,t,r)=>{r.d(t,{Cn:()=>c,Ln:()=>m,eu:()=>f,ho:()=>g,mw:()=>s,n9:()=>u,p:()=>l,ph:()=>p});var i=r(80296),n=r(64467),a=r(37001),o=r(63013),d=r(70433);function s(e){return function(t){return(0,o.compareCodeAndSlot)(t,e)}}function p(e,t){if(!e||"string"!=typeof e)return!1;window.googletag=window.googletag||{cmd:[]},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){window.googletag.pubads().setTargeting(e,t)})}function u(e){var t;return(0,o.isGptPubadsDefined)()&&(t=window.googletag.pubads().getSlots().find(s(e))),t}function l(e){var t=u(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}var c=["IAB_AUDIENCE_1_1","IAB_CONTENT_2_2"];function f(e){return Object.entries((0,n.A)((0,n.A)({},c[0],m(e,["user.data"],4)),c[1],m(e,a.Dy.map(function(e){return"".concat(e,".content.data")}),6))).map(function(e){var t=(0,i.A)(e,2),r=t[0],n=t[1];return n.length?{taxonomy:r,values:n}:null}).filter(function(e){return e})}function m(e,t,r){return t.flatMap(function(t){return(0,d.A)(e,t)||[]}).filter(function(e){var t;return(null===(t=e.ext)||void 0===t?void 0:t.segtax)===r}).flatMap(function(e){var t;return null===(t=e.segment)||void 0===t?void 0:t.map(function(e){return e.id})}).filter(function(e){return e}).filter(o.uniques)}function g(e){!function(e,t){var r=function(){return window.googletag.pubads().addEventListener("slotRenderEnded",t)};(0,o.isGptPubadsDefined)()?r():(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(r))}(0,e)}}}]);